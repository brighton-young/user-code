!(function (e, t) {
  "object" == typeof exports && "object" == typeof module
    ? (module.exports = t())
    : "function" == typeof define && define.amd
    ? define([], t)
    : "object" == typeof exports
    ? (exports.viewerScript = t())
    : (e.viewerScript = t());
})(self, () =>
  (() => {
    var e = {
        861: (e, t, r) => {
          "use strict";
          t.C5 = void 0;
          var n = r(2069),
            i = r(1461),
            o = r(2069),
            s = {},
            a = {},
            u = {},
            l = {},
            c = {},
            d = {},
            f = {},
            p = {};
          function h(e) {
            return (0, o.resolveUrl)(
              Object.assign(e, {
                domainToMappings: {
                  "api._api_base_domain_": [
                    { srcPath: "/activity-counters-api", destPath: "" },
                  ],
                  "www.wixapis.com": [
                    {
                      srcPath: "/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                  _: [
                    {
                      srcPath: "/_api/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                  "manage._base_domain_": [
                    {
                      srcPath: "/_api/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                  "www._base_domain_": [
                    {
                      srcPath: "/_api/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                  "*.dev.wix-code.com": [
                    {
                      srcPath: "/_api/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                  "editor._base_domain_": [
                    {
                      srcPath: "/_api/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                  "blocks._base_domain_": [
                    {
                      srcPath: "/_api/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                  "create.editorx": [
                    {
                      srcPath: "/_api/members/v1/activity-counters",
                      destPath: "/v1/activity-counters",
                    },
                  ],
                },
              })
            );
          }
          t.C5 = function (e) {
            var t = (0, i.serializer)(s, {}),
              r = t.toJSON,
              o = t.fromJSON,
              u = (0, i.serializer)(a, {}).fromJSON;
            function l(t) {
              var i = t.host,
                o = r(e);
              return {
                entityFqdn: "wix.members.v1.activity_counter",
                method: "GET",
                methodFqn:
                  "com.wixpress.members.activitycounters.ActivityCounters.GetActivityCounters",
                url: h({
                  protoPath: "/v1/activity-counters/{memberId}",
                  data: o,
                  host: i,
                }),
                params: (0, n.toURLSearchParams)(o),
                transformResponse: u,
              };
            }
            return (l.fromReq = o), (l.__isAmbassador = !0), l;
          };
        },
        9186: (e, t) => {
          "use strict";
          (t.wn = t.xA = t.rH = t.ZJ = t.tt = t.DI = t.sV = t.dn = void 0),
            (t.AV = t.qq = void 0),
            (t.dn = "14bcded7-0066-7c35-14d7-466cb3f09103"),
            (t.sV = "140603ad-af8d-84a5-2c80-a0f60cb47351"),
            (t.DI = "13d21c63-b5ec-5912-8397-c3a5ddb27a97"),
            (t.tt = "14724f35-6794-cd1a-0244-25fd138f9242"),
            (t.ZJ = "1380b703-ce81-ff05-f115-39571d94dfcd"),
            (t.rH = "b976560c-3122-4351-878f-453f337b7245"),
            (t.xA = "14dbefd2-01b4-fb61-32a7-3abd44da4908"),
            (t.wn = "14f25924-5664-31b2-9568-f9c5ed98c9b1"),
            (t.qq = "148c2287-c669-d849-d153-463c7486a694"),
            (t.AV = "1537b24e-29d1-6d8f-b8e1-d6860f2f70b9");
          var r = {};
        },
        1461: (e, t, r) => {
          "use strict";
          (t.__esModule = !0),
            (t.serializer = function (e, t = {}) {
              const r = (0, i.schemaSerializer)(e, t, s);
              return {
                fromJSON(e) {
                  const t =
                    (function (e) {
                      try {
                        return JSON.parse(e);
                      } catch (e) {}
                    })(e) || e;
                  return r(t, n.ConverterType.FROM_JSON);
                },
                toJSON: (e) => r(e, n.ConverterType.TO_JSON),
              };
            });
          var n = r(652),
            i = r(345),
            o = r(8402);
          const s = (0, r(5426).typeToConverterSet)([...o.protobufConverters]);
        },
        1377: (e, t) => {
          "use strict";
          function r(e, t = "") {
            const n = {};
            return (
              Object.entries(e).forEach(([e, i]) => {
                const o =
                    null !== i && "object" == typeof i && !Array.isArray(i),
                  s = (function (e, t) {
                    return `${e}${e ? "." : ""}${t}`;
                  })(t, e);
                if (o) {
                  const e = r(i, s);
                  Object.assign(n, e);
                } else n[s] = i;
              }),
              n
            );
          }
          (t.__esModule = !0),
            (t.toURLSearchParams = function (e) {
              const t = r(e);
              return Object.entries(t).reduce(
                (e, [t, r]) => (
                  (Array.isArray(r) ? r : [r]).forEach((r) => {
                    null != r && e.append(t, r);
                  }),
                  e
                ),
                new URLSearchParams()
              );
            });
        },
        2069: (e, t, r) => {
          "use strict";
          t.__esModule = !0;
          var n = r(8149);
          Object.keys(n).forEach(function (e) {
            "default" !== e &&
              "__esModule" !== e &&
              ((e in t && t[e] === n[e]) || (t[e] = n[e]));
          });
          var i = r(2776);
          Object.keys(i).forEach(function (e) {
            "default" !== e &&
              "__esModule" !== e &&
              ((e in t && t[e] === i[e]) || (t[e] = i[e]));
          });
          var o = r(1377);
          Object.keys(o).forEach(function (e) {
            "default" !== e &&
              "__esModule" !== e &&
              ((e in t && t[e] === o[e]) || (t[e] = o[e]));
          });
        },
        8149: (e, t, r) => {
          "use strict";
          t.__esModule = !0;
          var n = r(3164);
          Object.keys(n).forEach(function (e) {
            "default" !== e &&
              "__esModule" !== e &&
              ((e in t && t[e] === n[e]) || (t[e] = n[e]));
          });
        },
        3164: (e, t) => {
          "use strict";
          (t.__esModule = !0),
            (t.parseLeanSchemaRef = function (e = "") {
              const [t, n] = r(e);
              if (n) return { schemaName: n, schemaType: t };
              return { schemaName: t };
            });
          const r = (e) => e.split("#");
        },
        652: (e, t) => {
          "use strict";
          (t.__esModule = !0), (t.ConverterType = void 0);
          t.ConverterType = (function (e) {
            return (
              (e[(e.TO_JSON = 0)] = "TO_JSON"),
              (e[(e.FROM_JSON = 1)] = "FROM_JSON"),
              e
            );
          })({});
        },
        3652: (e, t, r) => {
          "use strict";
          (t.__esModule = !0), (t.bytes = void 0);
          var n = r(652);
          t.bytes = {
            types: ["google.protobuf.BytesValue", "BYTES"],
            [n.ConverterType.TO_JSON]: {
              transform: (e) => {
                const t = e.reduce((e, t) => e + String.fromCharCode(t), "");
                return btoa(t);
              },
            },
            [n.ConverterType.FROM_JSON]: {
              transform: (e) =>
                Uint8Array.from(atob(e), (e) => e.charCodeAt(0)),
            },
          };
        },
        8402: (e, t, r) => {
          "use strict";
          (t.__esModule = !0), (t.protobufConverters = void 0);
          var n = r(2329),
            i = r(5173),
            o = r(3652),
            s = r(3088),
            a = r(4985);
          t.protobufConverters = [
            n.timestamp,
            i.fieldMask,
            o.bytes,
            s.duration,
            a.float,
          ];
        },
        3088: (e, t, r) => {
          "use strict";
          (t.__esModule = !0), (t.duration = void 0);
          var n = r(652);
          t.duration = {
            types: ["google.protobuf.Duration"],
            [n.ConverterType.TO_JSON]: {
              transform: ({ seconds: e = "0", nanos: t = 0 }) => {
                let r = "";
                return (
                  0 !== t && (r = `.${t.toString().padStart(9, "0")}`),
                  `${e}${r}s`
                );
              },
            },
            [n.ConverterType.FROM_JSON]: {
              transform: (e) => {
                const [t, r] = e.substring(0, e.length - 1).split(".");
                return { seconds: t, nanos: i(r) };
              },
            },
          };
          function i(e) {
            let t = 0;
            if (void 0 !== e) {
              const r = 3 - e.length / 3;
              t = parseInt(e, 10) * Math.pow(1e3, r);
            }
            return t;
          }
        },
        5173: (e, t, r) => {
          "use strict";
          (t.__esModule = !0), (t.fieldMask = void 0);
          var n = r(652);
          t.fieldMask = {
            types: ["google.protobuf.FieldMask"],
            [n.ConverterType.TO_JSON]: {
              transform: (e) => e.join(","),
              checkRepetable: (e) => e.some((e) => Array.isArray(e)),
            },
            [n.ConverterType.FROM_JSON]: {
              transform: (e) => ("object" == typeof e ? e.paths : e.split(",")),
            },
          };
        },
        4985: (e, t, r) => {
          "use strict";
          (t.__esModule = !0), (t.float = void 0);
          var n = r(652);
          t.float = {
            types: [
              "FLOAT",
              "DOUBLE",
              "google.protobuf.FloatValue",
              "google.protobuf.DoubleValue",
            ],
            [n.ConverterType.TO_JSON]: {
              transform: (e) => (isFinite(e) ? e : e.toString()),
            },
            [n.ConverterType.FROM_JSON]: {
              transform: (e) =>
                "NaN" === e
                  ? NaN
                  : "Infinity" === e
                  ? 1 / 0
                  : "-Infinity" === e
                  ? -1 / 0
                  : e,
            },
          };
        },
        2329: (e, t, r) => {
          "use strict";
          (t.__esModule = !0), (t.timestamp = void 0);
          var n = r(652);
          t.timestamp = {
            types: ["google.protobuf.Timestamp"],
            [n.ConverterType.TO_JSON]: {
              transform: (e) => (null == e ? void 0 : e.toISOString()),
            },
            [n.ConverterType.FROM_JSON]: {
              transform: (e) => (e ? new Date(e) : void 0),
            },
          };
        },
        345: (e, t, r) => {
          "use strict";
          (t.__esModule = !0),
            (t.schemaSerializer = function (e, t = {}, r) {
              return function (i = {}, o) {
                return "string" == typeof i ? i : s(e, i);
                function s(e, t) {
                  const r = {};
                  return [null, void 0].includes(t)
                    ? t
                    : (Object.entries(t).forEach(([t, i]) => {
                        var o;
                        const s = e[t],
                          { schemaName: l, schemaType: c } = (0,
                          n.parseLeanSchemaRef)(s),
                          d = "Map" === c;
                        let f;
                        (f =
                          (null == (o = u(l)) || null == o.checkRepetable
                            ? void 0
                            : o.checkRepetable(i)) ?? Array.isArray(i)
                            ? i.map((e) => a(e, l))
                            : d
                            ? (function (e, t) {
                                return Object.entries(e).reduce(
                                  (e, [r, n]) => ((e[r] = a(n, t)), e),
                                  {}
                                );
                              })(i, l)
                            : a(i, l)),
                          (r[t] = f);
                      }),
                      r);
                }
                function a(e, r) {
                  if (!r) return e;
                  const n = t[r];
                  if (u(r)) return u(r).transform(e);
                  if (n) return s(n, e);
                  throw new Error(
                    `${r} is neither schema nor serializable type`
                  );
                }
                function u(e) {
                  var t;
                  return null == (t = r[e]) ? void 0 : t[o];
                }
              };
            });
          var n = r(2069);
        },
        5426: (e, t) => {
          "use strict";
          (t.__esModule = !0),
            (t.typeToConverterSet = function (e) {
              return e.reduce(
                (e, t) => ({
                  ...e,
                  ...t.types.reduce((e, r) => ({ ...e, [r]: t }), {}),
                }),
                {}
              );
            });
        },
        2776: (e, t, r) => {
          "use strict";
          (t.__esModule = !0),
            (t.resolveUrl = function (e) {
              const t = (function (e, t) {
                const r = t[e] || t[i];
                if (
                  !r &&
                  (function (e) {
                    return !!e.match(/\._base_domain_$/);
                  })(e)
                )
                  return t[l];
                return r;
              })(
                ((r = e.host),
                (function (e) {
                  return e.replace("create.editorx.com", "editor.editorx.com");
                })(r)
                  .replace(s, "._base_domain_")
                  .replace(a, "._api_base_domain_")
                  .replace(u, "*.dev.wix-code.com")),
                e.domainToMappings
              );
              var r;
              return (function (e, t) {
                const r =
                  null == t ? void 0 : t.find((t) => e.startsWith(t.destPath));
                if (!r) return e;
                return r.srcPath + e.slice(r.destPath.length);
              })(
                ((c = e.protoPath),
                (d = e.data || {}),
                c
                  .split("/")
                  .map((e) =>
                    (function (e, t) {
                      const r = e.match(o) || [],
                        i = r[1];
                      if (i) {
                        const o = e.replace(r[0], "");
                        return (0, n.findByPath)(t, i, e, o);
                      }
                      return e;
                    })(e, d)
                  )
                  .join("/")),
                t
              );
              var c, d;
            });
          var n = r(7227);
          const i = "_",
            o = /{(.*)}/,
            s = new RegExp(`\\.(${["wix.com", "editorx.com"].join("|")})$`),
            a = new RegExp(
              `\\.(${["42.wixprod.net", "uw2-edt-1.wixprod.net"].join("|")})$`
            ),
            u = new RegExp(".*\\.dev.wix-code.com$");
          const l = "www._base_domain_";
        },
        7227: (e, t) => {
          "use strict";
          (t.__esModule = !0),
            (t.findByPath = function (e, t, r, n) {
              let i = e;
              for (const e of t.split(".")) {
                if (!i) return r;
                i = i[e];
              }
              return `${i}${n}`;
            });
        },
        3213: (e, t, r) => {
          var n = r(6174);
          (e.exports = function (e, t, r) {
            return (
              (t = n(t)) in e
                ? Object.defineProperty(e, t, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = r),
              e
            );
          }),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
        7662: (e, t, r) => {
          var n = r(8114).default;
          (e.exports = function (e, t) {
            if ("object" != n(e) || !e) return e;
            var r = e[Symbol.toPrimitive];
            if (void 0 !== r) {
              var i = r.call(e, t || "default");
              if ("object" != n(i)) return i;
              throw new TypeError(
                "@@toPrimitive must return a primitive value."
              );
            }
            return ("string" === t ? String : Number)(e);
          }),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
        6174: (e, t, r) => {
          var n = r(8114).default,
            i = r(7662);
          (e.exports = function (e) {
            var t = i(e, "string");
            return "symbol" == n(t) ? t : String(t);
          }),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
        8114: (e) => {
          function t(r) {
            return (
              (e.exports = t =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        "function" == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? "symbol"
                        : typeof e;
                    }),
              (e.exports.__esModule = !0),
              (e.exports.default = e.exports),
              t(r)
            );
          }
          (e.exports = t),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
      },
      t = {};
    function r(n) {
      var i = t[n];
      if (void 0 !== i) return i.exports;
      var o = (t[n] = { exports: {} });
      return e[n](o, o.exports, r), o.exports;
    }
    (r.n = (e) => {
      var t = e && e.__esModule ? () => e.default : () => e;
      return r.d(t, { a: t }), t;
    }),
      (r.d = (e, t) => {
        for (var n in t)
          r.o(t, n) &&
            !r.o(e, n) &&
            Object.defineProperty(e, n, { enumerable: !0, get: t[n] });
      }),
      (r.g = (function () {
        if ("object" == typeof globalThis) return globalThis;
        try {
          return this || new Function("return this")();
        } catch (e) {
          if ("object" == typeof window) return window;
        }
      })()),
      (r.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
      (r.r = (e) => {
        "undefined" != typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
          Object.defineProperty(e, "__esModule", { value: !0 });
      }),
      (r.p =
        "https://static.parastorage.com/services/santa-members-viewer-app/5cb399304ceef0e1941001acc722d6c713c921523f2e55285a00a5b9/");
    var n = {};
    return (
      (() => {
        "use strict";
        r.r(n),
          r.d(n, {
            createControllers: () => Ha,
            exports: () => Va,
            initAppForPage: () => $a,
          });
        var e = {};
        r.r(e), r.d(e, { default: () => pr });
        var t = {};
        r.r(t), r.d(t, { default: () => ia });
        var i = {};
        r.r(i), r.d(i, { default: () => oa });
        var o = {};
        r.r(o), r.d(o, { exports: () => wa, initAppForPage: () => _a });
        var s = "BLOCKS_WIDGET",
          a = [
            "ar",
            "arc",
            "bcc",
            "bqi",
            "ckb",
            "dv",
            "fa",
            "glk",
            "ha",
            "he",
            "khw",
            "ks",
            "ku",
            "mzn",
            "pnb",
            "ps",
            "sd",
            "ug",
            "ur",
            "yi",
          ];
        var u = function (e) {
            return e;
          },
          l = function (e) {
            var t = e.dsn,
              r = e.environment,
              n = e.release,
              i = e.withDataCallback,
              o = e.tags;
            return {
              dsn: t,
              config: {
                enabled: !0,
                release: n,
                dataCallback: i ? u : void 0,
                environment: r,
                tags: o,
              },
            };
          },
          c = function (e) {
            return e.isEnabled && e.currentLanguage
              ? e.currentLanguage
              : void 0;
          },
          d = function (e) {
            return (
              void 0 === e &&
                "undefined" != typeof window &&
                (e = window.location.search),
              new URLSearchParams(e)
            );
          },
          f = function (e, t) {
            var r = c(e.window.multilingual),
              n = e.site.language;
            if (t) {
              var i = d().get("regionalLanguage");
              i && (n = i);
            }
            return r || n || "en";
          },
          p = function (e) {
            return "backend" === e.window.rendering.env;
          },
          h = function (e) {
            return e.seo.isInSEO();
          },
          v = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          g = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          m = function () {
            throw new Error("Translations has not been initialized yet");
          },
          b = function (e) {
            var t = e.language,
              n = e.defaultTranslations,
              i = e.prefix,
              o = void 0 === i ? "messages" : i,
              s = e.defaultLanguage,
              a = e.availableLanguages,
              u = e.localeDistPath,
              l = e.initI18n,
              c = e.basePath,
              d = this;
            (this.t = m),
              (this.all = {}),
              (this.init = function (e) {
                var t = void 0 === e ? {} : e,
                  n = t.prepopulated,
                  i = t.wait,
                  o = void 0 !== i && i,
                  s = t.useSuspense,
                  a = void 0 !== s && s;
                return v(d, void 0, void 0, function () {
                  var e,
                    t,
                    i,
                    s = this;
                  return g(this, function (u) {
                    switch (u.label) {
                      case 0:
                        if (
                          ((e = this.config),
                          (t = new Set(e.availableLanguages || [])),
                          !this._initI18n)
                        )
                          throw new Error(
                            "Can't initialize i18n without initI18n method."
                          );
                        return (
                          (this.i18n = this._initI18n({
                            locale: e.language,
                            useSuspense: a,
                            wait: o,
                            messages: n,
                            disableAutoInit: !0,
                            asyncMessagesLoader: function (n) {
                              var i;
                              return "en" === n
                                ? Promise.resolve(e.defaultTranslations)
                                : t.has(n)
                                ? fetch(
                                    ""
                                      .concat(
                                        null !== (i = s.basePath) &&
                                          void 0 !== i
                                          ? i
                                          : r.p
                                      )
                                      .concat(s.localeDistPath, "/")
                                      .concat(e.prefix, "_")
                                      .concat(n, ".json")
                                  ).then(function (t) {
                                    return t.ok
                                      ? t.json()
                                      : Promise.reject(
                                          new Error(
                                            "Can't load locale: ".concat(
                                              e.language
                                            )
                                          )
                                        );
                                  })
                                : Promise.reject(
                                    new Error(
                                      "Locale assets for ".concat(
                                        n,
                                        " are not provided"
                                      )
                                    )
                                  );
                            },
                          })),
                          [4, this.i18n.init()]
                        );
                      case 1:
                        if (
                          (u.sent(),
                          !(i = this.i18n.getResourceBundle(
                            e.language,
                            "translation"
                          )) && t.has(e.language))
                        )
                          throw new Error(
                            "Unexpected missing translations for language ".concat(
                              e.language
                            )
                          );
                        return (
                          (this.all = i || e.defaultTranslations || {}),
                          (this.t = function (e, t) {
                            return s.i18n.t(e, t);
                          }),
                          [2, this]
                        );
                    }
                  });
                });
              }),
              (this.config = {
                availableLanguages: a,
                language: t,
                defaultTranslations: n,
                prefix: o,
                defaultLanguage: s,
              }),
              (this.localeDistPath = u),
              (this._initI18n = l),
              (this.i18n = null),
              (this.basePath = c);
          },
          y = function (e) {
            var t;
            this.entry = "viewerScript";
            var r,
              n = e.wixAPI,
              i = e.appData;
            (this.isSSR = "backend" === n.window.rendering.env),
              (this.isSEO = h(n)),
              (this.isMobile = "Mobile" === n.window.formFactor),
              (this.isEditor = "Editor" === n.window.viewMode),
              (this.isPreview = "Preview" === n.window.viewMode),
              (this.isViewer = "Site" === n.window.viewMode),
              (this.isBlocksPreview = Boolean(
                null === (t = null == i ? void 0 : i.appData) || void 0 === t
                  ? void 0
                  : t.blocksPreviewData
              )),
              (this.language = f(n, this.isEditor)),
              (this.isRTL = ((r = this.language), a.includes(r))),
              (this.multilingual = n.window.multilingual),
              (this.appDefinitionId = i.appDefinitionId);
          },
          _ = function () {
            return (
              (_ =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              _.apply(this, arguments)
            );
          },
          w = function (e, t) {
            var r = {};
            return (
              e.visitorId
                ? (r.forSiteVisitors = _(_({}, e), { visitorId: e.visitorId }))
                : (r.forSiteOwner = _(_({}, e), {
                    loggedInUserId: e.loggedInUserId,
                  })),
              t && (r.overrideCriteria = t),
              r
            );
          },
          P = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          S = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          };
        var I,
          C,
          A = (function () {
            function e(e) {
              var t = e.httpClient;
              (this.reportError = function (e) {
                console.warn(
                  "You are trying to report an error, but didn't configure sentry in `.application.json`\n\nPlease read the docs for more information https://bo.wix.com/pages/yoshi/docs/editor-flow/structure-api/app-configuration/#applicationjson",
                  "Error: ",
                  e
                );
              }),
                (this._httpClient = t);
            }
            return (
              Object.defineProperty(e.prototype, "httpClient", {
                get: function () {
                  var e = this._httpClient;
                  return e;
                },
                enumerable: !1,
                configurable: !0,
              }),
              e
            );
          })(),
          x = (function () {
            var e = function (t, r) {
              return (
                (e =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (e, t) {
                      e.__proto__ = t;
                    }) ||
                  function (e, t) {
                    for (var r in t)
                      Object.prototype.hasOwnProperty.call(t, r) &&
                        (e[r] = t[r]);
                  }),
                e(t, r)
              );
            };
            return function (t, r) {
              if ("function" != typeof r && null !== r)
                throw new TypeError(
                  "Class extends value " +
                    String(r) +
                    " is not a constructor or null"
                );
              function n() {
                this.constructor = t;
              }
              e(t, r),
                (t.prototype =
                  null === r
                    ? Object.create(r)
                    : ((n.prototype = r.prototype), new n()));
            };
          })(),
          M = function () {
            return (
              (M =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              M.apply(this, arguments)
            );
          },
          R = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          O = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          E = (function (e) {
            function t(t) {
              var r,
                n,
                i = t.experimentsConfig,
                o = t.essentials,
                s = t.platformBI,
                a = t.biLoggerFactory,
                u = t.monitoring,
                c = t.sentryConfig,
                d = t.wixAPI,
                v = t.appData,
                g = t.translationsConfig,
                m = t.defaultTranslations,
                _ = void 0 === m ? null : m,
                I = t.biLogger,
                C = t.projectName,
                A = t.appName,
                x = t.prepopulatedData,
                R = t.optionalDeps,
                O = R.createHttpClient,
                E = R.initI18n,
                N = R.createExperiments,
                D = t.localeDistPath,
                T = t.shouldUseEssentials,
                U = t.basePath,
                k = this;
              (k =
                e.call(this, {
                  httpClient: T
                    ? null == o
                      ? void 0
                      : o.httpClient
                    : null == O
                    ? void 0
                    : O({
                        isSSR: p(d),
                        getAppToken: function () {
                          var e, t, r;
                          return null !==
                            (r =
                              null === (t = (e = d.site).getAppToken) ||
                              void 0 === t
                                ? void 0
                                : t.call(e, v.appDefinitionId)) && void 0 !== r
                            ? r
                            : v.instance;
                        },
                      }),
                }) || this),
                (k.essentials = o),
                (k.wixAPI = d),
                (k.appName = A),
                (k.projectName = C),
                (k.prepopulatedData = x),
                (k.basePath = U),
                (k.environment = new y({ appData: v, wixAPI: d }));
              var L = f(d, k.environment.isEditor);
              if (
                ((k.localeDistPath = D),
                (k.getCurrencyFormatter = null),
                (k.formatCurrency = null),
                (k.formatAddress = null),
                k.essentials &&
                  "formatAddress" in k.essentials &&
                  (k.formatAddress = k.essentials.formatAddress),
                k.essentials &&
                  "createCurrencyFormatterWithDefaults" in k.essentials &&
                  ((k.getCurrencyFormatter =
                    k.essentials.createCurrencyFormatterWithDefaults({
                      language: L,
                    })),
                  k.getCurrencyFormatter &&
                    (k.formatCurrency = k.getCurrencyFormatter())),
                (k.translations =
                  !1 === (null == g ? void 0 : g.enabled)
                    ? null
                    : new b({
                        language: L,
                        defaultTranslations: _,
                        prefix: null == g ? void 0 : g.prefix,
                        availableLanguages:
                          null == g ? void 0 : g.availableLanguages,
                        localeDistPath: D,
                        initI18n: E,
                      })),
                (k.experiments = null),
                (k._experimentsPromise = null),
                i)
              ) {
                var j = k.environment.isViewer
                    ? {
                        siteOwnerId: null == s ? void 0 : s.ownerId,
                        visitorId: null == s ? void 0 : s.visitorId,
                      }
                    : {
                        siteOwnerId: null == s ? void 0 : s.ownerId,
                        loggedInUserId: d.user.currentUser.id,
                      },
                  B = (null == s ? void 0 : s.metaSiteId)
                    ? { entityId: null == s ? void 0 : s.metaSiteId }
                    : void 0;
                if (T)
                  k._experimentsPromise =
                    i.centralized && !(null == x ? void 0 : x.experiments)
                      ? Promise.resolve(k.essentials.experiments)
                      : (function (e, t, r, n, i, o) {
                          return P(void 0, void 0, void 0, function () {
                            var s, a;
                            return S(this, function (u) {
                              switch (u.label) {
                                case 0:
                                  return (
                                    (s = e({
                                      useNewApi: !0,
                                      requestContext: w(n, i),
                                      baseUrl: o,
                                    })),
                                    r
                                      ? (s.add(r), [2, s])
                                      : t
                                      ? ((a = t.scopes.map(function (e) {
                                          return s.load(e);
                                        })),
                                        [4, Promise.all(a)])
                                      : [2, s]
                                  );
                                case 1:
                                  return u.sent(), [2, s];
                              }
                            });
                          });
                        })(
                          k.essentials.createExperiments,
                          i,
                          null == x ? void 0 : x.experiments,
                          j,
                          B,
                          k.environment.isSSR ? "https://wix.com" : void 0
                        );
                else {
                  var F = N({
                    prepopulated: null == x ? void 0 : x.experiments,
                    experimentsConfig: i,
                    baseUrl: k.environment.isSSR ? "https://wix.com" : void 0,
                    ctx: j,
                    overrideCriteria: B,
                  });
                  k._experimentsPromise = F.init();
                }
              }
              if (null == x ? void 0 : x.biLogger)
                k.bi = null == x ? void 0 : x.biLogger;
              else if (I) {
                var V = void 0;
                T ? (V = k.essentials.biLoggerFactory()) : a && (V = a()),
                  V && (k.bi = I(V)({}));
              }
              if (
                ((k.sentry = null),
                (k.errorMonitor = null),
                null == x ? void 0 : x.sentryMonitor)
              )
                k.sentry = null == x ? void 0 : x.sentryMonitor;
              else if (null == x ? void 0 : x.errorMonitor)
                k.errorMonitor = null == x ? void 0 : x.errorMonitor;
              else if (c)
                if (
                  c.errorMonitor &&
                  (null == o ? void 0 : o.createErrorMonitor)
                )
                  k.errorMonitor = o.createErrorMonitor({
                    dsn: c.DSN,
                    environment: "Viewer:Worker",
                    appName:
                      null !== (r = k.appName) && void 0 !== r
                        ? r
                        : "santa-members-viewer-app",
                    version:
                      "5cb399304ceef0e1941001acc722d6c713c921523f2e55285a00a5b9",
                    fullArtifactId:
                      "com.wixpress.wixcode.santa-members-viewer-app",
                    componentId: "viewer-script",
                    tags: { isSSR: p(d), isSEO: h(d) },
                  });
                else {
                  var $ = l({
                    dsn: c.DSN,
                    environment: "Viewer:Worker",
                    release: ""
                      .concat(
                        null !== (n = k.appName) && void 0 !== n
                          ? n
                          : "santa-members-viewer-app",
                        "@"
                      )
                      .concat(
                        "5cb399304ceef0e1941001acc722d6c713c921523f2e55285a00a5b9"
                      ),
                    withDataCallback: !0,
                    tags: { isSSR: p(d), isSEO: h(d) },
                  });
                  k.sentry =
                    null == u
                      ? void 0
                      : u.createMonitor($.dsn, function (e) {
                          return M(M({}, e), $.config);
                        });
                }
              return (
                k.sentry &&
                  (k.reportError = function (e) {
                    return (
                      "string" == typeof e
                        ? k.sentry.captureMessage(e)
                        : k.sentry.captureException(e),
                      k.sentry.lastEventId()
                    );
                  }),
                k.errorMonitor &&
                  (k.reportError = function (e) {
                    return "string" == typeof e
                      ? k.errorMonitor.captureMessage(e)
                      : k.errorMonitor.captureException(e);
                  }),
                k
              );
            }
            return (
              x(t, e),
              (t.prototype.init = function () {
                var e, t;
                return R(this, void 0, void 0, function () {
                  var r;
                  return O(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (r = this), [4, this._experimentsPromise];
                      case 1:
                        return (
                          (r.experiments = n.sent()),
                          [
                            4,
                            null === (e = this.translations) || void 0 === e
                              ? void 0
                              : e.init({
                                  prepopulated:
                                    null === (t = this.prepopulatedData) ||
                                    void 0 === t
                                      ? void 0
                                      : t.translations,
                                }),
                          ]
                        );
                      case 2:
                        return n.sent(), [2];
                    }
                  });
                });
              }),
              (t.prototype.createTranslations = function (e, t, r) {
                var n,
                  i = e.translationsConfig,
                  o = e.defaultTranslations,
                  s = e.localeDistPath;
                if (!1 === (null == i ? void 0 : i.enabled)) return null;
                if (
                  s === this.localeDistPath &&
                  (null == r ? void 0 : r.basePath) === this.basePath
                )
                  return this.translations;
                var a = f(this.wixAPI, this.environment.isEditor);
                return new b({
                  language: a,
                  defaultTranslations: o,
                  availableLanguages: null == i ? void 0 : i.availableLanguages,
                  prefix: null == i ? void 0 : i.prefix,
                  localeDistPath: s,
                  initI18n: null == t ? void 0 : t.initI18n,
                  basePath:
                    null !== (n = null == r ? void 0 : r.basePath) &&
                    void 0 !== n
                      ? n
                      : this.basePath,
                });
              }),
              t
            );
          })(A),
          N = {},
          D = function (e) {
            I = e;
          },
          T = function (e) {
            C = e;
          },
          U = function () {
            return N;
          },
          k = function (e) {
            N = e;
          },
          L = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          j = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          B = function (e) {
            return "function" == typeof e;
          };
        var F = function () {
          return (
            (F =
              Object.assign ||
              function (e) {
                for (var t, r = 1, n = arguments.length; r < n; r++)
                  for (var i in (t = arguments[r]))
                    Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e;
              }),
            F.apply(this, arguments)
          );
        };
        function V(e, t) {
          var r = {};
          for (var n in e)
            Object.prototype.hasOwnProperty.call(e, n) &&
              t.indexOf(n) < 0 &&
              (r[n] = e[n]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var i = 0;
            for (n = Object.getOwnPropertySymbols(e); i < n.length; i++)
              t.indexOf(n[i]) < 0 &&
                Object.prototype.propertyIsEnumerable.call(e, n[i]) &&
                (r[n[i]] = e[n[i]]);
          }
          return r;
        }
        Object.create;
        function $() {
          for (var e = 0, t = 0, r = arguments.length; t < r; t++)
            e += arguments[t].length;
          var n = Array(e),
            i = 0;
          for (t = 0; t < r; t++)
            for (var o = arguments[t], s = 0, a = o.length; s < a; s++, i++)
              n[i] = o[s];
          return n;
        }
        Object.create;
        "function" == typeof SuppressedError && SuppressedError;
        var W,
          K = function (e, t) {
            return e.localeCompare(t);
          };
        !(function (e) {
          (e.Number = "Number"),
            (e.Boolean = "Boolean"),
            (e.String = "String"),
            (e.Text = "Text"),
            (e.Object = "Object");
        })(W || (W = {}));
        var G = function (e, t) {
            var r = t.isMobile,
              n = t.language,
              i = void 0 === n ? "en" : n;
            return "function" == typeof e.dangerousKeyTransformationOverride
              ? e.dangerousKeyTransformationOverride(e.key, {
                  isMobile: r,
                  language: i,
                })
              : (function (e, t, r) {
                  if ("string" != typeof e)
                    throw new Error(
                      "`generateKey` expects key to be passed and be a string"
                    );
                  if (!t)
                    throw new Error(
                      "`generateKey` expects options to be passed"
                    );
                  return Object.keys(r)
                    .sort(K)
                    .reduce(function (e, n) {
                      var i = r[n] === t[n],
                        o = !t[n] && !r[n];
                      return i || o
                        ? e
                        : e +
                            "\u25b6\ufe0e" +
                            ("boolean" != typeof t[n] || r[n]
                              ? n + ":" + t[n]
                              : n);
                    }, e);
                })(e.key, { m: r, l: i }, { m: !1, l: "en" });
          },
          J = function (e) {
            return e.type === W.Text;
          },
          H = function (e, t) {
            return {
              languageAndMobile: G(e, {
                isMobile: t.isMobile,
                language: t.language,
              }),
              language: G(e, { isMobile: !1, language: t.language }),
              mobile: G(e, { isMobile: t.isMobile }),
              original: e.key,
            };
          },
          q = function (e) {
            return void 0 === e.inheritDesktop || e.inheritDesktop;
          },
          z = function (e) {
            var t = e.environmentLabel;
            return function (e) {
              throw new Error(
                "It is not possible to translate "
                  .concat(e, ". Translate function was not passed to the ")
                  .concat(t)
              );
            };
          },
          X = function () {
            var e,
              t = this;
            (this.handlers =
              (((e = {})[W.Object] = {
                serialize: function (e) {
                  return "string" == typeof e
                    ? (console.error(
                        "\u26a0\ufe0f Seems like you are calling `settings.set(param, JSON.stringify(value))`. Please, pass a plain object/array and tpa-settings will serializate it."
                      ),
                      e)
                    : JSON.stringify(e);
                },
                deserialize: function (e) {
                  return "string" != typeof e ? e : JSON.parse(e);
                },
              }),
              e)),
              (this.serialize = function (e, r) {
                return e.type === W.Object
                  ? t.handlers[W.Object].serialize(r)
                  : r;
              }),
              (this.deserialize = function (e, r) {
                return e.type === W.Object
                  ? t.handlers[W.Object].deserialize(r)
                  : r;
              });
          },
          Y = new X();
        function Z(e, t, r) {
          void 0 === r && (r = {});
          var n,
            i = J(t),
            o = H(t, {
              isMobile: r.isMobile,
              language: i ? r.language : void 0,
            }),
            s = q(t);
          return (
            i
              ? void 0 !== e[o.languageAndMobile]
                ? (n = e[o.languageAndMobile])
                : s && void 0 !== e[o.language] && (n = e[o.language])
              : void 0 !== e[o.mobile]
              ? (n = e[o.mobile])
              : s && void 0 !== e[o.original] && (n = e[o.original]),
            Y.deserialize(t, n)
          );
        }
        var Q = !1;
        function ee(e, t, r, n) {
          void 0 === r && (r = {});
          var i = V(r, []);
          void 0 === n && (n = "COMPONENT");
          var o = e;
          e.COMPONENT ||
            (Q ||
              (console.warn(
                "`getSettingsValue` or `getSettingsValues` should accept whole public data object. Probably, data was passed only for one scope."
              ),
              (Q = !0)),
            (o = { COMPONENT: e, APP: {} }));
          var s = "COMPONENT" === n && t.inheritFromAppScope,
            a = Z(o[n], t, i);
          return (
            void 0 === a && s && (a = Z(o.APP, t, i)),
            t.getDefaultValue && void 0 === a
              ? (function (e, t, r, n) {
                  var i, o;
                  void 0 === n && (n = {});
                  var s =
                    null !== (i = n.t) && void 0 !== i
                      ? i
                      : z({
                          environmentLabel:
                            null !== (o = n.environmentLabel) && void 0 !== o
                              ? o
                              : "`getSettingsValue` function",
                        });
                  return r.getDefaultValue({
                    isMobile: n.isMobile,
                    isRTL: n.isRTL,
                    isEditorX: n.isEditorX,
                    t: s,
                    presetId: n.presetId,
                    experiments: n.experiments,
                    getSettingParamValue: function (r, i) {
                      return (
                        void 0 === i && (i = {}),
                        ee(e, r, F(F(F({}, n), i), { t: s }), t)
                      );
                    },
                  });
                })(o, n, t, i)
              : a
          );
        }
        var te = (function () {
            var e = function (t, r) {
              return (
                (e =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (e, t) {
                      e.__proto__ = t;
                    }) ||
                  function (e, t) {
                    for (var r in t)
                      Object.prototype.hasOwnProperty.call(t, r) &&
                        (e[r] = t[r]);
                  }),
                e(t, r)
              );
            };
            return function (t, r) {
              if ("function" != typeof r && null !== r)
                throw new TypeError(
                  "Class extends value " +
                    String(r) +
                    " is not a constructor or null"
                );
              function n() {
                this.constructor = t;
              }
              e(t, r),
                (t.prototype =
                  null === r
                    ? Object.create(r)
                    : ((n.prototype = r.prototype), new n()));
            };
          })(),
          re = (function (e) {
            function t(t) {
              var r,
                n = this;
              (n = e.call(this, t) || this).entry = "viewerScript";
              var i,
                o = t.config,
                s = t.widgetId,
                a = t.wixAPI.location.query;
              return (
                (n.isEditorX = (function (e) {
                  var t;
                  return (
                    null !== (t = null == e ? void 0 : e.booleans.responsive) &&
                    void 0 !== t &&
                    t
                  );
                })(
                  null === (r = null == o ? void 0 : o.style) || void 0 === r
                    ? void 0
                    : r.styleParams
                )),
                (n.isADI =
                  (void 0 === (i = a) && (i = {}),
                  "onboarding" === i.dsOrigin)),
                (n.isClassicEditor = (function (e) {
                  return void 0 === e && (e = {}), "Editor1.4" === e.dsOrigin;
                })(a)),
                (n.widgetId = s),
                n
              );
            }
            return te(t, e), t;
          })(y),
          ne = function (e, t) {
            return {
              name: e.name,
              message: e.message,
              stack: e.stack,
              errorId: t,
            };
          };
        function ie(e, t) {
          var r, n, i, o;
          this.controllerConfig.wixCodeApi.window.openModal(
            "".concat(
              ((r = this.componentName || ""),
              (n = e),
              (i = this.controllerConfig.appParams.instance),
              (o = "".concat(r, "/").concat(n)),
              "https://editor.wixapps.net/render/prod/modals/"
                .concat("santa-members-viewer-app", "/")
                .concat(
                  "5cb399304ceef0e1941001acc722d6c713c921523f2e55285a00a5b9",
                  "/"
                )
                .concat(o, "?instance=")
                .concat(i))
            ),
            t
          );
        }
        var oe = (function () {
            var e = function (t, r) {
              return (
                (e =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (e, t) {
                      e.__proto__ = t;
                    }) ||
                  function (e, t) {
                    for (var r in t)
                      Object.prototype.hasOwnProperty.call(t, r) &&
                        (e[r] = t[r]);
                  }),
                e(t, r)
              );
            };
            return function (t, r) {
              if ("function" != typeof r && null !== r)
                throw new TypeError(
                  "Class extends value " +
                    String(r) +
                    " is not a constructor or null"
                );
              function n() {
                this.constructor = t;
              }
              e(t, r),
                (t.prototype =
                  null === r
                    ? Object.create(r)
                    : ((n.prototype = r.prototype), new n()));
            };
          })(),
          se = function () {
            return (
              (se =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              se.apply(this, arguments)
            );
          },
          ae = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          ue = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          le = function (e, t, r) {
            if (r || 2 === arguments.length)
              for (var n, i = 0, o = t.length; i < o; i++)
                (!n && i in t) ||
                  (n || (n = Array.prototype.slice.call(t, 0, i)),
                  (n[i] = t[i]));
            return e.concat(n || Array.prototype.slice.call(t));
          },
          ce = (function (e) {
            function t(t) {
              var r,
                n,
                i,
                o,
                s,
                a,
                u,
                d = t.viewerScriptFlowAPI,
                f = t.controllerConfig,
                v = t.appDefinitionId,
                g = t.widgetId,
                m = t.componentId,
                b = t.componentName,
                y = t.biLogger,
                _ = t.prepopulatedData,
                w = t.translations,
                P = t.fedopsConfig,
                S = t.sentryConfig,
                I = t.persistentAcrossPages,
                C = t.shouldUseEssentials,
                A = t.multilingualDisabled,
                x = t.panoramaClient,
                M = this;
              ((M =
                e.call(this, { httpClient: d._httpClient }) ||
                this).appLoadStarted = function () {
                var e = M.fedops.appLoadStarted;
                e.call(M.fedops),
                  (M.fedops.appLoadStarted = function () {
                    for (var t = [], r = 0; r < arguments.length; r++)
                      t[r] = arguments[r];
                    console.warn(
                      "\u{1f97a} Seems like you're trying to call `fedopsLogger.appLoadStarted` and `fedopsLogger.appLoaded` in your controller.\nWe are already logging load events for SSR and CSR environments, so you can remove these calls from your project."
                    ),
                      e.call.apply(e, le([M.fedops], t, !1));
                  });
              }),
                (M.essentials = f.essentials),
                (M.controllerConfig = f),
                (M.experiments = d.experiments),
                (M.bi = d.bi),
                (M.prepopulatedData = _),
                (M.componentName = b);
              var R = f.platformAPIs;
              if (
                ((M.panoramaClient =
                  null == x ? void 0 : x.createClientForComponent()),
                (M.getCurrencyFormatter = d.getCurrencyFormatter),
                (M.formatCurrency =
                  null === (r = M.getCurrencyFormatter) || void 0 === r
                    ? void 0
                    : r.call(M)),
                (M.formatAddress = d.formatAddress),
                (M.environment = new re({
                  wixAPI: f.wixCodeApi,
                  appData: f.appParams,
                  config: f.config,
                  widgetId: g,
                })),
                !d.bi && y)
              )
                if (C) {
                  var O = M.essentials.biLoggerFactory();
                  M.bi = y(O)({});
                } else
                  (null === (n = f.platformAPIs) || void 0 === n
                    ? void 0
                    : n.biLoggerFactory) &&
                    (M.bi = y(
                      null === (i = f.platformAPIs) || void 0 === i
                        ? void 0
                        : i.biLoggerFactory()
                    )({}));
              if (
                ((M.sentry = null),
                (M.errorMonitor = null),
                (null == _ ? void 0 : _.sentryMonitor) ||
                  (null == _ ? void 0 : _.errorMonitor))
              )
                (M.sentry =
                  null !== (o = null == _ ? void 0 : _.sentryMonitor) &&
                  void 0 !== o
                    ? o
                    : null),
                  (M.errorMonitor =
                    null !== (s = null == _ ? void 0 : _.errorMonitor) &&
                    void 0 !== s
                      ? s
                      : null);
              else if (S)
                if (S.errorMonitor && M.essentials.createErrorMonitor)
                  M.errorMonitor = M.essentials.createErrorMonitor({
                    dsn: S.DSN,
                    environment: "Viewer:Worker",
                    appName: "santa-members-viewer-app",
                    version:
                      "5cb399304ceef0e1941001acc722d6c713c921523f2e55285a00a5b9",
                    fullArtifactId:
                      "com.wixpress.wixcode.santa-members-viewer-app",
                    componentId: m,
                    tags: {
                      componentId: m,
                      componentName: b,
                      isSSR: p(f.wixCodeApi),
                      isSEO: h(f.wixCodeApi),
                    },
                  });
                else {
                  var E = l({
                    dsn: S.DSN,
                    environment: "Viewer:Worker",
                    release: ""
                      .concat("santa-members-viewer-app", "@")
                      .concat(
                        "5cb399304ceef0e1941001acc722d6c713c921523f2e55285a00a5b9"
                      ),
                    withDataCallback: !0,
                    tags: {
                      componentId: m,
                      componentName: b,
                      isSSR: p(f.wixCodeApi),
                      isSEO: h(f.wixCodeApi),
                    },
                  });
                  M.sentry =
                    null === (a = R.monitoring) || void 0 === a
                      ? void 0
                      : a.createMonitor(E.dsn, function (e) {
                          return se(se({}, e), E.config);
                        });
                }
              if (
                (M.sentry &&
                  (M.reportError = function (e) {
                    return (
                      "string" == typeof e
                        ? M.sentry.captureMessage(e)
                        : M.sentry.captureException(e),
                      M.sentry.lastEventId()
                    );
                  }),
                M.errorMonitor &&
                  (M.reportError = function (e) {
                    return "string" == typeof e
                      ? M.errorMonitor.captureMessage(e)
                      : M.errorMonitor.captureException(e);
                  }),
                (M.fedops = null),
                !1 !== (null == P ? void 0 : P.enabled))
              ) {
                (null == _ ? void 0 : _.fedopsLogger)
                  ? (M.fedops = null == _ ? void 0 : _.fedopsLogger)
                  : (M.fedops = C
                      ? M.essentials.fedopsLogger
                      : R.fedOpsLoggerFactory.getLoggerForWidget({
                          appId: v,
                          widgetId: g,
                          paramsOverrides: {
                            corrId: M.controllerConfig.compId,
                          },
                        }));
                var N =
                  !I ||
                  1 ===
                    (null === (u = M.controllerConfig.platformAPIs.bi) ||
                    void 0 === u
                      ? void 0
                      : u.pageNumber);
                (M.environment.isSSR || N) &&
                  (M.appLoadStarted(), null == x || x.reportLoadStart());
              }
              return (
                (M.translations = w),
                (M.viewerScriptFlowAPI = d),
                (M.settings = {
                  get: function (e) {
                    var t, r, n;
                    return ee(
                      null !==
                        (r =
                          null === (t = M.controllerConfig.config) ||
                          void 0 === t
                            ? void 0
                            : t.publicData) && void 0 !== r
                        ? r
                        : {},
                      e,
                      {
                        t:
                          null === (n = M.translations) || void 0 === n
                            ? void 0
                            : n.t,
                        experiments: M.experiments,
                        isMobile: M.environment.isMobile,
                        language: A ? c(M.environment.multilingual) : void 0,
                      }
                    );
                  },
                }),
                (M.openModal = ie),
                M
              );
            }
            return (
              oe(t, e),
              (t.prototype.init = function () {
                var e, t;
                return ae(this, void 0, void 0, function () {
                  return ue(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return null !==
                          (null === (e = this.translations) || void 0 === e
                            ? void 0
                            : e.i18n)
                          ? [3, 2]
                          : [
                              4,
                              this.translations.init({
                                prepopulated:
                                  null === (t = this.prepopulatedData) ||
                                  void 0 === t
                                    ? void 0
                                    : t.translations,
                                useSuspense:
                                  this.environment.isEditor ||
                                  this.environment.isADI,
                              }),
                            ];
                      case 1:
                        r.sent(), (r.label = 2);
                      case 2:
                        return [2];
                    }
                  });
                });
              }),
              (t.prototype.updateControllerConfig = function (e) {
                this.controllerConfig.config = e;
              }),
              (t.prototype.handleError = function (e) {
                var t;
                this.sentry &&
                  (this.reportError(e), (t = this.sentry.lastEventId())),
                  this.errorMonitor && (t = this.reportError(e)),
                  this.controllerConfig.setProps({ _workerError: ne(e, t) });
              }),
              (t.prototype.withErrorBoundary = function (e) {
                var t = this;
                return function () {
                  for (var r = [], n = 0; n < arguments.length; n++)
                    r[n] = arguments[n];
                  try {
                    e.apply(void 0, r);
                  } catch (e) {
                    e instanceof Error && t.handleError(e);
                  }
                };
              }),
              t
            );
          })(A),
          de = {
            language: "_language",
            translations: "_translations",
            multilingual: "_multilingual",
            experiments: "_experiments",
            biMethods: "_biMethods",
            openModal: "__openModal__",
            biUtil: "_biUtil",
            mobile: "_mobile",
            isRTL: "_isRTL",
            isSSR: "_isSSR",
            isSEO: "_isSEO",
            appDefinitionId: "_appDefinitionId",
            widgetId: "_widgetId",
            fedopsLogger: "_fedopsLogger",
            sentry: "_sentry",
            errorMonitor: "_errorMonitor",
            publicData: "_publicData",
            styles: "__styles",
            enabledHOCs: "_enabledHOCs",
            onAppLoaded: "_onAppLoaded",
            error: "_workerError",
            errorMonitorWithOptions: "__errorMonitorWithOptions",
            logger: "__logger",
            transactionWithAction: "__transactionWithAction",
          },
          fe = (function () {
            function e() {
              this.store = {};
            }
            return (
              (e.prototype.init = function () {}),
              (e.prototype.getProps = function () {
                return this.store;
              }),
              (e.prototype.getProp = function (e) {
                var t = this.getPrivateKey(e);
                return this.store[t];
              }),
              (e.prototype.spreadProp = function (e) {
                var t,
                  r = this.getPrivateKey(e);
                return ((t = {})[r] = this.store[r]), t;
              }),
              (e.prototype.getPrivateKey = function (t) {
                return e.PropsMap[t];
              }),
              (e.prototype.getFromExternalStore = function (e, t) {
                return t[this.getPrivateKey(e)];
              }),
              (e.prototype.setProp = function (e, t) {
                var r = this.getPrivateKey(e);
                this.store[r] = t;
              }),
              (e.prototype.isHOCEnabled = function (e) {
                return this.getProp("enabledHOCs")[e];
              }),
              (e.prototype.isFlowPropsReceived = function () {
                return !!this.getProp("enabledHOCs");
              }),
              (e.PropsMap = de),
              e
            );
          })(),
          pe = function (e) {
            return function (t) {
              var r;
              return (
                (e.controllerConfig.config.publicData = t),
                ((r = {})[fe.PropsMap.publicData] = t),
                r
              );
            };
          },
          he = function () {
            return (
              (he =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              he.apply(this, arguments)
            );
          },
          ve = function (e) {
            return function (t) {
              var r, n, i;
              return (
                (e.controllerConfig.config.style.styleParams =
                  (void 0 ===
                    (n = e.controllerConfig.config.style.styleParams) &&
                    (n = {}),
                  void 0 === (i = t) && (i = {}),
                  he(he({}, n), {
                    colors: he(he({}, n.colors), i.colors),
                    booleans: he(he({}, n.booleans), i.booleans),
                    fonts: he(he({}, n.fonts), i.fonts),
                    numbers: he(he({}, n.numbers), i.numbers),
                  }))),
                ((r = {})[fe.PropsMap.styles] =
                  e.controllerConfig.config.style.styleParams),
                r
              );
            };
          },
          ge = function (e, t, n, i, o, s) {
            var a = s(),
              u = (function (e, t) {
                if (!e.createPanoramaClient) return null;
                var r = t.componentId,
                  n = t.sentryConfig,
                  i = t.environment;
                return e.createPanoramaClient({
                  fullArtifactId:
                    "com.wixpress.wixcode.santa-members-viewer-app",
                  artifactVersion:
                    "5cb399304ceef0e1941001acc722d6c713c921523f2e55285a00a5b9",
                  componentId: r,
                  sentryDsn: null == n ? void 0 : n.DSN,
                  sentryEnvironment: i,
                });
              })(n.essentials, {
                componentId: t.id,
                sentryConfig: t.sentryConfig,
                environment: "Viewer:Worker",
              }),
              l = new ce({
                translations: i.createTranslations(t, e, { basePath: r.p }),
                componentId: t.id,
                componentName: t.componentName,
                viewerScriptFlowAPI: i,
                appDefinitionId: t.appDefinitionId,
                widgetId: t.id,
                translationsConfig: t.translationsConfig,
                persistentAcrossPages: t.persistentAcrossPages,
                biLogger: t.biLogger,
                fedopsConfig: t.fedopsConfig,
                sentryConfig: t.sentryConfig,
                controllerConfig: n,
                shouldUseEssentials: t.shouldUseEssentials,
                multilingualDisabled: t.multilingualDisabled,
                panoramaClient: u,
              });
            return t.method({
              controllerConfig: n,
              flowAPI: l,
              appData: a,
              dangerousPublicDataOverride: pe(l),
              dangerousStylesOverride: ve(l),
            });
          };
        let me = (function (e) {
          return (
            (e.RestrictedMemberPagePermissions =
              "specs.membersArea.EnableMemberPagePermissions"),
            (e.SampleViewerAppFedopsInteractions =
              "specs.membersArea.sampleViewerAppFedopsInteractions"),
            (e.FixMarkAllAsReadNotifications =
              "specs.membersArea.FixMarkAllAsReadNotifications"),
            (e.EnablePublicAppData = "specs.membersArea.enableAppData"),
            (e.EnableNotifications =
              "specs.membersArea.enableNotificationsOnV2"),
            e
          );
        })({});
        var be = r(9186);
        const ye = [
            be.dn,
            be.tt,
            be.qq,
            be.sV,
            "14ebe801-d78a-daa9-c9e5-0286a891e46f",
            "14dbef06-cc42-5583-32a7-3abd44da4908",
            be.AV,
            "476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",
          ],
          _e = "b976560c-3122-4351-878f-453f337b7245",
          we = "14f25924-5664-31b2-9568-f9c5ed98c9b1",
          Pe = "{userName}",
          Se =
            /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,
          Ie = "initialData";
        let Ce = (function (e) {
          return (
            (e.MissingMemberId = "Error: please provide site member ID"),
            (e.RouteNotFound = "Error: route not found by provided widgetId:"),
            (e.MissingMembersAreaPage =
              "Error: missing members area page - failed to find prefix"),
            (e.MissingMembersAreaSettingsPage =
              "Error: missing members area settings page - failed to find prefix"),
            (e.CannotNavigateToMemberNoPublicPage =
              "Error: cannot navigate to member, no public page"),
            (e.MissingRoutes = "Error: members area viewer has no routes"),
            (e.NotInitializedWixCodeApi =
              "Error: wixCodeApi not properly initialized"),
            (e.CannotFindPageToNavigateTo =
              "Error: cannot find page to navigate to by provided widgetId and appDefinitionId. Check if correct widgetId or appDefId is passed."),
            (e.SectionUrlNotFound = "Error: section URL was not found"),
            e
          );
        })({});
        const Ae = "members-menu-initial-items",
          xe = "login-dropdown-menu-initial-items",
          Me = "@members_login",
          Re = "@members_menu",
          Oe = "@members-login-bar",
          Ee = "@members-menu";
        let Ne = (function (e) {
          return (e.Profile = "Profile"), (e.Settings = "Settings"), e;
        })({});
        function De(e) {
          if (!e || !e[0]) return [];
          return Object.keys(e[0]).includes("isVisible")
            ? (function (e) {
                return e.map((e) => ({
                  link: e.link,
                  isVisibleInMenuBar: e.isVisible,
                  isVisibleInMobileMenuBar: e.isVisibleMobile,
                  visibleForRoles: e.visibleForRoles,
                }));
              })(e)
            : (function (e) {
                return e.map((e) => ({
                  link: e.l,
                  isVisibleInMenuBar: !e.hmb,
                  isVisibleInMobileMenuBar: !e.hmmb,
                  visibleForRoles: e.vfr || [],
                }));
              })(e);
        }
        const Te = (e) => e.split("#");
        const Ue = "_",
          ke = /{(.*)}/,
          Le = new RegExp(`\\.(${["wix.com", "editorx.com"].join("|")})$`),
          je = new RegExp(
            `\\.(${["42.wixprod.net", "uw2-edt-1.wixprod.net"].join("|")})$`
          ),
          Be = new RegExp(".*\\.dev.wix-code.com$");
        function Fe(e) {
          const t = (function (e, t) {
            const r = t[e] || t[Ue];
            if (
              !r &&
              (function (e) {
                return !!e.match(/\._base_domain_$/);
              })(e)
            )
              return t[Ve];
            return r;
          })(
            (function (e) {
              return e.replace("create.editorx.com", "editor.editorx.com");
            })(e.host)
              .replace(Le, "._base_domain_")
              .replace(je, "._api_base_domain_")
              .replace(Be, "*.dev.wix-code.com"),
            e.domainToMappings
          );
          var r, n;
          return (function (e, t) {
            const r =
              null == t ? void 0 : t.find((t) => e.startsWith(t.destPath));
            if (!r) return e;
            return r.srcPath + e.slice(r.destPath.length);
          })(
            ((r = e.protoPath),
            (n = e.data || {}),
            r
              .split("/")
              .map((e) =>
                (function (e, t) {
                  const r = e.match(ke) || [],
                    n = r[1];
                  if (n) {
                    const i = e.replace(r[0], "");
                    return (function (e, t, r, n) {
                      let i = e;
                      for (const e of t.split(".")) {
                        if (!i) return r;
                        i = i[e];
                      }
                      return `${i}${n}`;
                    })(t, n, e, i);
                  }
                  return e;
                })(e, n)
              )
              .join("/")),
            t
          );
        }
        const Ve = "www._base_domain_";
        function $e(e, t = "") {
          const r = {};
          return (
            Object.entries(e).forEach(([e, n]) => {
              const i = null !== n && "object" == typeof n && !Array.isArray(n),
                o = (function (e, t) {
                  return `${e}${e ? "." : ""}${t}`;
                })(t, e);
              if (i) {
                const e = $e(n, o);
                Object.assign(r, e);
              } else r[o] = n;
            }),
            r
          );
        }
        function We(e) {
          const t = $e(e);
          return Object.entries(t).reduce(
            (e, [t, r]) => (
              (Array.isArray(r) ? r : [r]).forEach((r) => {
                null != r && e.append(t, r);
              }),
              e
            ),
            new URLSearchParams()
          );
        }
        var Ke;
        function Ge(e, t = {}, r) {
          return function (n = {}, i) {
            return "string" == typeof n ? n : o(e, n);
            function o(e, t) {
              const r = {};
              return [null, void 0].includes(t)
                ? t
                : (Object.entries(t).forEach(([t, n]) => {
                    var i, o, u;
                    const l = e[t],
                      { schemaName: c, schemaType: d } = (function (e = "") {
                        const [t, r] = Te(e);
                        return r
                          ? { schemaName: r, schemaType: t }
                          : { schemaName: t };
                      })(l),
                      f = "Map" === d;
                    let p;
                    (p = (
                      null !==
                        (u =
                          null ===
                            (o =
                              null === (i = a(c)) || void 0 === i
                                ? void 0
                                : i.checkRepetable) || void 0 === o
                            ? void 0
                            : o.call(i, n)) && void 0 !== u
                        ? u
                        : Array.isArray(n)
                    )
                      ? n.map((e) => s(e, c))
                      : f
                      ? (function (e, t) {
                          return Object.entries(e).reduce(
                            (e, [r, n]) => ((e[r] = s(n, t)), e),
                            {}
                          );
                        })(n, c)
                      : s(n, c)),
                      (r[t] = p);
                  }),
                  r);
            }
            function s(e, r) {
              if (!r) return e;
              const n = t[r];
              if (a(r)) return a(r).transform(e);
              if (n) return o(n, e);
              throw new Error(`${r} is neither schema nor serializable type`);
            }
            function a(e) {
              var t;
              return null === (t = r[e]) || void 0 === t ? void 0 : t[i];
            }
          };
        }
        !(function (e) {
          (e[(e.TO_JSON = 0)] = "TO_JSON"),
            (e[(e.FROM_JSON = 1)] = "FROM_JSON");
        })(Ke || (Ke = {}));
        const Je = {
            types: ["google.protobuf.Timestamp"],
            [Ke.TO_JSON]: {
              transform: (e) => (null == e ? void 0 : e.toISOString()),
            },
            [Ke.FROM_JSON]: { transform: (e) => (e ? new Date(e) : void 0) },
          },
          He = {
            types: ["google.protobuf.FieldMask"],
            [Ke.TO_JSON]: {
              transform: (e) => e.join(","),
              checkRepetable: (e) => e.some((e) => Array.isArray(e)),
            },
            [Ke.FROM_JSON]: {
              transform: (e) => ("object" == typeof e ? e.paths : e.split(",")),
            },
          },
          qe = {
            types: ["google.protobuf.BytesValue", "BYTES"],
            [Ke.TO_JSON]: {
              transform: (e) => {
                const t = e.reduce((e, t) => e + String.fromCharCode(t), "");
                return btoa(t);
              },
            },
            [Ke.FROM_JSON]: {
              transform: (e) =>
                Uint8Array.from(atob(e), (e) => e.charCodeAt(0)),
            },
          },
          ze = {
            types: ["google.protobuf.Duration"],
            [Ke.TO_JSON]: {
              transform: ({ seconds: e = "0", nanos: t = 0 }) => {
                let r = "";
                return (
                  0 !== t && (r = `.${t.toString().padStart(9, "0")}`),
                  `${e}${r}s`
                );
              },
            },
            [Ke.FROM_JSON]: {
              transform: (e) => {
                const [t, r] = e.substring(0, e.length - 1).split(".");
                return { seconds: t, nanos: Xe(r) };
              },
            },
          };
        function Xe(e) {
          let t = 0;
          if (void 0 !== e) {
            const r = 3 - e.length / 3;
            t = parseInt(e, 10) * Math.pow(1e3, r);
          }
          return t;
        }
        const Ye = {
          types: [
            "FLOAT",
            "DOUBLE",
            "google.protobuf.FloatValue",
            "google.protobuf.DoubleValue",
          ],
          [Ke.TO_JSON]: { transform: (e) => (isFinite(e) ? e : e.toString()) },
          [Ke.FROM_JSON]: {
            transform: (e) =>
              "NaN" === e
                ? NaN
                : "Infinity" === e
                ? 1 / 0
                : "-Infinity" === e
                ? -1 / 0
                : e,
          },
        };
        const Ze = [...[Je, He, qe, ze, Ye]].reduce((e, t) => {
          const r = t.types.reduce(
            (e, r) => Object.assign(Object.assign({}, e), { [r]: t }),
            {}
          );
          return Object.assign(Object.assign({}, e), r);
        }, {});
        function Qe(e, t = {}) {
          const r = Ge(e, t, Ze);
          return {
            fromJSON(e) {
              const t =
                (function (e) {
                  try {
                    return JSON.parse(e);
                  } catch (e) {}
                })(e) || e;
              return r(t, Ke.FROM_JSON);
            },
            toJSON: (e) => r(e, Ke.TO_JSON),
          };
        }
        var et = {},
          tt = {};
        function rt(e) {
          return Fe(
            Object.assign(e, {
              domainToMappings: {
                "api._api_base_domain_": [
                  { srcPath: "/members/v1/roles", destPath: "" },
                ],
                _: [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "www._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "members.wixapps.net": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "www.wixapis.com": [
                  { srcPath: "/members/v1/roles", destPath: "/v1/roles" },
                ],
                "editor._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "blocks._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "create.editorx": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "*.dev.wix-code.com": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "manage._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
              },
            })
          );
        }
        function nt(e) {
          var t = Qe(et, {}),
            r = t.toJSON,
            n = t.fromJSON,
            i = Qe(tt, {}).fromJSON;
          function o(t) {
            var n = t.host,
              o = r(e);
            return {
              entityFqdn: "wix.members.v1.role",
              method: "GET",
              methodFqn:
                "com.wixpress.members.memberroles.MemberRoles.GetRoles",
              url: rt({
                protoPath: "/v1/roles/members/{memberId}",
                data: o,
                host: n,
              }),
              params: We(o),
              transformResponse: i,
            };
          }
          return (o.fromReq = n), (o.__isAmbassador = !0), o;
        }
        let it, ot, st;
        const at = (e, t) => () => {
          try {
            !(function (e) {
              try {
                st && ot.interactionStarted(e);
              } catch (e) {
                const t = "Failed to start fedops interaction, reason: " + e;
                it && it.captureException(t);
              }
            })(e);
            const r = t();
            return (
              (function (e) {
                try {
                  st && ot.interactionEnded(e);
                } catch (e) {
                  const t = "Failed to end fedops interaction, reason: " + e;
                  it && it.captureException(t);
                }
              })(e),
              r
            );
          } catch (e) {
            throw (
              (console.error(e), it && it.captureException(e.toString()), e)
            );
          }
        };
        function ut(e, t) {
          var r;
          void 0 === t && (t = {}),
            null != (r = it) &&
              r.captureMessage &&
              it.captureMessage(e, { level: "error", ...t });
        }
        let lt;
        function ct() {
          return lt;
        }
        class dt {
          constructor(e) {
            this.httpClient = e;
          }
          async get(e) {
            try {
              return (await this.httpClient.get(e)).data;
            } catch (e) {
              return console.log("error fetching data", e.message), {};
            }
          }
          async post(e, t) {
            try {
              return (await this.httpClient.post(e, t)).data;
            } catch (e) {
              return console.log("error posting data", e.message), {};
            }
          }
        }
        var ft,
          pt,
          ht,
          vt,
          gt,
          mt = r(861),
          bt = {},
          yt = {};
        function _t(e) {
          return Fe(
            Object.assign(e, {
              domainToMappings: {
                "api._api_base_domain_": [
                  { srcPath: "/notifications-feed-api-proxy", destPath: "" },
                ],
              },
            })
          );
        }
        async function wt(e) {
          let { httpClient: t, metaSiteId: r, flowAPI: n, memberId: i } = e;
          try {
            var o;
            const e = await t.request(
                (function (e) {
                  var t = Qe(bt, {}),
                    r = t.toJSON,
                    n = t.fromJSON,
                    i = Qe(yt, {}).fromJSON;
                  function o(t) {
                    var n = t.host,
                      o = r(e);
                    return {
                      entityFqdn: "wix.ping.feed.v1.notification",
                      method: "POST",
                      methodFqn:
                        "com.wixpress.ping.feed.api.FeedService.GetNumberOfUnseenNotifications",
                      url: _t({
                        protoPath:
                          "/api/v1/feed/notifications/unseen-notifications",
                        data: o,
                        host: n,
                      }),
                      data: o,
                      transformResponse: i,
                    };
                  }
                  return (o.fromReq = n), (o.__isAmbassador = !0), o;
                })({
                  shouldCancelMergeContactInMobile: !1,
                  recipient: { contact: { metaSiteId: r, contactId: i } },
                  feedFilter: { channel: vt.WEB },
                  specialMigrationSpecs: [gt.HideChatNotifications],
                })
              ),
              n = null == e || null == (o = e.data) ? void 0 : o.numberOfUnseen;
            return n
              ? {
                  memberId: i,
                  appId: we,
                  counters: [
                    { key: "notificationsCount", public: !1, count: n },
                  ],
                }
              : null;
          } catch (e) {
            var s;
            return null == (s = n.errorMonitor) || s.captureException(e), null;
          }
        }
        !(function (e) {
          (e.UNSEEN = "UNSEEN"),
            (e.SEEN_BUT_UNREAD = "SEEN_BUT_UNREAD"),
            (e.READ = "READ"),
            (e.RESOLVED = "RESOLVED"),
            (e.DISMISSED = "DISMISSED"),
            (e.DELETED = "DELETED");
        })(ft || (ft = {})),
          (function (e) {
            (e.REGULAR = "REGULAR"),
              (e.ALERT_WARNING = "ALERT_WARNING"),
              (e.ALERT_INFO = "ALERT_INFO");
          })(pt || (pt = {})),
          (function (e) {
            (e.UrlIcon = "UrlIcon"),
              (e.AppIcon = "AppIcon"),
              (e.PersonAvatar = "PersonAvatar");
          })(ht || (ht = {})),
          (function (e) {
            (e.UNKOWN = "UNKOWN"), (e.WEB = "WEB"), (e.MOBILE = "MOBILE");
          })(vt || (vt = {})),
          (function (e) {
            e.HideChatNotifications = "HideChatNotifications";
          })(gt || (gt = {}));
        const Pt = "current-user-slug",
          St = "current-user-id";
        function It(e, t, r) {
          let n, i, o;
          return {
            getCurrentUser: function () {
              return i ?? {};
            },
            setCurrentUser: async function (t, r) {
              const n = await (function (t, r) {
                const n = ct(),
                  i = n.getItem(Pt),
                  o = n.getItem(St);
                if (i && o === t.id) return i;
                (o && o === t.id) || n.setItem(St, t.id);
                if (!t.loggedIn || "Site" !== e.window.viewMode) return t.id;
                return (async function (e) {
                  var t;
                  const r = new dt(e),
                    n = await r.get("/_api/members/v1/members/my");
                  return null == (t = n.member) || null == (t = t.profile)
                    ? void 0
                    : t.slug;
                })(r)
                  .then((e) => {
                    const r = e || t.id;
                    return n.setItem(Pt, r), r;
                  })
                  .catch(() =>
                    ut("Error while fetching current user slug", {
                      userDataId: t.id,
                    })
                  );
              })(t, r);
              i = { id: t.id, loggedIn: t.loggedIn, slug: n };
            },
            getViewedUser: function () {
              return n ?? {};
            },
            setViewedUser: function (e) {
              e && (n = e);
            },
            fetchRoles: async function (e, t, r) {
              var n, i;
              const [o, s] = await Promise.all([
                e ? r.request(nt({ memberId: e })).catch(() => {}) : void 0,
                t ? r.request(nt({ memberId: t })).catch(() => {}) : void 0,
              ]);
              return {
                ...(o && {
                  [e]:
                    (null == o || null == (n = o.data) || null == (n = n.roles)
                      ? void 0
                      : n.map((e) => {
                          var t;
                          return null == (t = e.roleKey)
                            ? void 0
                            : t.toLocaleLowerCase();
                        })) || [],
                }),
                ...(s && {
                  [t]:
                    (null == s || null == (i = s.data) || null == (i = i.roles)
                      ? void 0
                      : i.map((e) => {
                          var t;
                          return null == (t = e.roleKey)
                            ? void 0
                            : t.toLocaleLowerCase();
                        })) || [],
                }),
              };
            },
            getRoles: function () {
              return o ?? {};
            },
            setRoles: function (e) {
              o = e;
            },
            fetchMenuCounters: function (e, n) {
              return e && !1 !== e.loggedIn
                ? new Promise((i, o) => {
                    const s = e && e.id;
                    s && n
                      ? (async function (e) {
                          let {
                            memberId: t,
                            loggedIn: r,
                            httpClient: n,
                            biService: i,
                            flowAPI: o,
                          } = e;
                          try {
                            var s, a;
                            const [e, u] = await Promise.all([
                                n.request((0, mt.C5)({ memberId: t })),
                                r
                                  ? wt({
                                      httpClient: n,
                                      metaSiteId:
                                        null == i || null == (s = i.bi)
                                          ? void 0
                                          : s.metaSiteId,
                                      memberId: t,
                                      flowAPI: o,
                                    })
                                  : null,
                              ]),
                              l =
                                (null == e || null == (a = e.data)
                                  ? void 0
                                  : a.activityCounters) || [];
                            return (
                              u && l.push(u),
                              l.map((e) => {
                                var t;
                                return {
                                  appDefId: e.appId,
                                  numbers:
                                    null == (t = e.counters)
                                      ? void 0
                                      : t.reduce(
                                          (e, t) => (
                                            (e[t.key] = {
                                              public: t.public,
                                              count: t.count,
                                            }),
                                            e
                                          ),
                                          {}
                                        ),
                                };
                              })
                            );
                          } catch (e) {
                            var u;
                            return (
                              null == (u = o.errorMonitor) ||
                                u.captureException(e),
                              []
                            );
                          }
                        })({
                          memberId: s,
                          loggedIn: !!e.loggedIn,
                          httpClient: n,
                          biService: t,
                          flowAPI: r,
                        }).then((e) => i({ apps: e }))
                      : o(new Error("No user to get menu counters by"));
                  })
                : Promise.resolve({ apps: [] });
            },
            replaceUserPatternWithSlug: function (e, t) {
              return e.replace(Pe, t.slug).replace(encodeURI(Pe), t.slug);
            },
          };
        }
        const Ct = (e) =>
          Object.keys(e)
            .map((t) => `${t}=${e[t]}`)
            .join("&");
        const At = (() => {
          let e,
            t = null,
            r = null,
            n = [],
            i = [],
            o = null;
          return {
            getFlowAPI: () => t,
            setFlowAPI: (e) => (t = e),
            getWixCodeAPI: () => r,
            setWixCodeAPI: (e) => (r = e),
            getRoutes: () => n,
            setRoutes: (e) => (n = e),
            getSettingsRoutes: () => i,
            setSettingsRoutes: (e) => (i = e),
            getGlobalControllerConfig: () => o,
            setGlobalControllerConfig: (e) => (o = e),
            getMembersLoginWidgets: () => e || [],
            setMembersLoginWidgets: (t) => (e = t),
          };
        })();
        function xt(e) {
          let {
              menuItem: t,
              publicRouterConfig: r = {},
              privateRouterConfig: n = {},
              viewedUser: i,
              shouldLog: o = !0,
            } = e,
            s = t.link;
          i &&
            0 === s.indexOf(`/${i.slug}/`) &&
            (s = s.replace(`/${i.slug}/`, `/${Pe}/`));
          const a = s.split("/"),
            u = a.indexOf(Pe),
            l =
              u > -1
                ? "/" + a.splice(u, a.length).join("/")
                : "/" + a[a.length - 1],
            c = r.patterns || {},
            d = n.patterns || {},
            f = c[l] || d[l];
          if (!f && o) {
            const e = { menuItemLink: t.link },
              o = {
                menuItem: t,
                publicRouterConfig: r,
                privateRouterConfig: n,
                viewedUser: i,
              };
            (p =
              "Could not find the pattern for menu item in router configs - probably an invalid (or custom) menu item"),
              void 0 ===
                (h = { tags: e, extra: { data: JSON.stringify(o) } }) &&
                (h = {}),
              null != (v = it) &&
                v.captureMessage &&
                it.captureMessage(p, { level: "info", ...h });
          }
          var p, h, v;
          return f;
        }
        function Mt(e) {
          let { menuItems: t, publicRouterPrefix: r } = e;
          const n = t.filter(
            (e) => !!e.link || (e.items && e.items.length > 0)
          );
          return (
            n.forEach((e) => {
              if (e.link && 0 === e.link.indexOf(`undefined/${Pe}`)) {
                const t = e.link.split("/");
                e.link = `/${r}/${Pe}/${t[2]}`;
              }
            }),
            n.forEach((e) => {
              if (!e.link) return;
              if (4 === e.link.split("/").length && -1 === e.link.indexOf(Pe)) {
                const t = e.link.split("/");
                "https:" !== t[0] &&
                  "http:" !== t[0] &&
                  (e.link = `/${t[1]}/${Pe}/${t[3]}`);
              }
            }),
            n
          );
        }
        function Rt(e) {
          let { slug: t, options: r, wixCodeApi: n } = e;
          const [i] = (function (e) {
              let { location: t } = e;
              const { prefix: r, path: n, query: i } = t,
                o = Object.keys(i).length > 0 ? `?${Ct(i)}` : "";
              return `/${r}/${n.join("/")}${o}`;
            })(n).split("?"),
            o = (function (e, t) {
              if (!t) return e;
              const [, ...r] = e.split("/");
              return r[1].match(Se) ? ((r[1] = t), `/${r.join("/")}`) : e;
            })(i, t),
            s = r.find((e) => {
              let { link: t } = e;
              return t === o;
            });
          return s ? s.value : null;
        }
        function Ot(e) {
          let { menu: t, options: r, viewedUser: n, wixCodeApi: i } = e;
          if (!!t.autoNavigation) return;
          const o = (n || {}).slug;
          (t.value = Rt({ slug: o, options: r, wixCodeApi: i })),
            (function (e) {
              let { menu: t, options: r, wixCodeApi: n } = e;
              null == t.onChange ||
                t.onChange((e) => {
                  let { target: i } = e;
                  const o = i.value,
                    s = (
                      r.find((e) => {
                        let { value: t } = e;
                        return t === o;
                      }) || {}
                    ).link;
                  var a;
                  s
                    ? n.location.to(s)
                    : ut("Menu navigation request ignored: ", {
                        menu: t,
                        target: i,
                        options: r,
                        newLink: s,
                        api: !(null == n || null == (a = n.location) || !a.to),
                      });
                });
            })({ menu: t, options: r, wixCodeApi: i });
        }
        function Et(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r,
            userRoles: n,
            viewedUser: i,
            appsCounters: o,
          } = e;
          const s = null == r ? void 0 : r.find((e) => "public" === e.type),
            a = null == r ? void 0 : r.find((e) => "private" === e.type),
            u = (function (e) {
              let {
                menuItems: t,
                publicRouterConfig: r,
                privateRouterConfig: n,
                userRoles: i = [],
                viewedUser: o,
              } = e;
              return t.filter((e) => {
                if (!e.link) return !0;
                const t = xt({
                  menuItem: e,
                  publicRouterConfig: r,
                  privateRouterConfig: n,
                  viewedUser: o,
                });
                if (
                  !t ||
                  !t.appData ||
                  !t.appData.visibleForRoles ||
                  0 === t.appData.visibleForRoles.length
                )
                  return !0;
                const { visibleForRoles: s = [] } = t.appData;
                return !!s.some((e) => i.indexOf(e) > -1);
              });
            })({
              menuItems: t,
              publicRouterConfig: s,
              privateRouterConfig: a,
              userRoles: n,
              viewedUser: i,
            }),
            l = (function (e) {
              var t;
              let {
                menuItems: r,
                appsCounters: n,
                publicRouterConfig: i,
                privateRouterConfig: o,
                viewedUser: s,
              } = e;
              return (
                r.forEach((e) => {
                  e.displayCount = null;
                }),
                null != n && null != (t = n.apps) && t.length
                  ? (n.apps.forEach((e) => {
                      r.forEach((t) => {
                        if (!t.link) return;
                        const r = xt({
                          menuItem: t,
                          publicRouterConfig: i,
                          privateRouterConfig: o,
                          viewedUser: s,
                        });
                        if (r && r.appData.appDefinitionId === e.appDefId) {
                          const n = r.appData.numbers && r.appData.numbers.key,
                            i = e.numbers && n && e.numbers[n];
                          i && (t.displayCount = i.count);
                        }
                      });
                    }),
                    r)
                  : r
              );
            })({
              menuItems: u,
              appsCounters: o,
              publicRouterConfig: s,
              privateRouterConfig: a,
              viewedUser: i,
            });
          return (function (e) {
            let { menuItems: t, viewedUser: r } = e;
            return t.map(
              (e) => (
                e.link &&
                  e.link.indexOf(Pe) > -1 &&
                  (e.link = e.link.replace(Pe, r.slug)),
                e
              )
            );
          })({ menuItems: l, viewedUser: i });
        }
        function Nt(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r,
            viewedUser: n,
            permittedPagesMap: i,
            experiments: o,
          } = e;
          if (o && o.enabled(me.RestrictedMemberPagePermissions)) {
            const e = null == r ? void 0 : r.find((e) => "public" === e.type),
              o = null == r ? void 0 : r.find((e) => "private" === e.type);
            return t.filter((t) => {
              const r = xt({
                menuItem: t,
                publicRouterConfig: e,
                privateRouterConfig: o,
                viewedUser: n,
              });
              return !r || (i[r.page] ?? !0);
            });
          }
          return t;
        }
        function Dt(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r = [],
            viewedUserRoles: n,
            viewedUser: i,
            currentUser: o,
            appsCounters: s,
            parsedConfigItems: a,
            publicRouterPrefix: u,
            permittedPagesMap: l,
            experiments: c,
          } = e;
          const d = !i.id && o ? o : i,
            f = (function (e) {
              let { menuItems: t, parsedConfigItems: r } = e;
              if (r)
                return t.filter((e) => {
                  const t = r.find((t) => t.link === e.link),
                    { isVisibleInMenuBar: n } = t || {};
                  return "boolean" != typeof n || n;
                });
            })({
              menuItems: Mt({ menuItems: t, publicRouterPrefix: u }),
              parsedConfigItems: a,
            }),
            p = (function (e) {
              let {
                menuItems: t,
                currentUser: r,
                viewedUser: n,
                parsedRoutersConfigs: i = [],
              } = e;
              if (!n.id) return t;
              if (r && r.id === n.id) return t;
              const o = i.find((e) => "private" === e.type);
              return t.filter(
                (e) =>
                  !e.link ||
                  !xt({
                    menuItem: e,
                    viewedUser: n,
                    privateRouterConfig: o,
                    shouldLog: !1,
                  })
              );
            })({
              menuItems: f || [],
              currentUser: o,
              viewedUser: i,
              parsedRoutersConfigs: r,
            }),
            h = Et({
              menuItems: Nt({
                menuItems: p,
                parsedRoutersConfigs: r,
                permittedPagesMap: l,
                viewedUser: i,
                experiments: c,
              }),
              parsedRoutersConfigs: r,
              userRoles: n,
              viewedUser: d,
              appsCounters: s,
            });
          return (
            h.forEach((e) => {
              e.items &&
                e.items.length > 0 &&
                (e.items = Dt({
                  menuItems: e.items,
                  parsedRoutersConfigs: r,
                  viewedUserRoles: n,
                  viewedUser: i,
                  currentUser: o,
                  appsCounters: s,
                  parsedConfigItems: a,
                  publicRouterPrefix: u,
                }));
            }),
            (function (e) {
              let { menuItems: t } = e;
              return t.filter(
                (e) => !!e.link || (e.items && e.items.length > 0)
              );
            })({ menuItems: h })
          );
        }
        function Tt(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r,
            userRoles: n,
            viewedUser: i,
            appsCounters: o,
            publicRouterPrefix: s,
            permittedPagesMap: a,
            experiments: u,
          } = e;
          return Et({
            menuItems: Nt({
              menuItems: Mt({ menuItems: t, publicRouterPrefix: s }),
              parsedRoutersConfigs: r,
              permittedPagesMap: a,
              viewedUser: i,
              experiments: u,
            }),
            parsedRoutersConfigs: r,
            userRoles: n,
            viewedUser: i,
            appsCounters: o,
          });
        }
        function Ut(e) {
          let {
            menu: t,
            parsedRoutersConfigs: r,
            currentUserRoles: n,
            currentUser: i,
            appsCounters: o,
            memoryStorage: s,
            publicRouterPrefix: a,
            permittedPagesMap: u,
            experiments: l,
            isMobile: c,
          } = e;
          const d = Boolean(
              (null == t ? void 0 : t.accountNavBar) &&
                t.accountNavBar.navBarItems &&
                t.accountNavBar.menuItems &&
                c
            ),
            f = d ? t.accountNavBar.navBarItems : t.navBarItems || [],
            p = d
              ? null == t
                ? void 0
                : t.accountNavBar.menuItems
              : t.menuItems || [],
            h = `${xe}-${t.id}`;
          let v = JSON.parse(s.getItem(h));
          if (!v) {
            const e = JSON.stringify(p);
            s.setItem(h, e), (v = p);
          }
          const g = Tt({
              menuItems: f,
              parsedRoutersConfigs: r,
              userRoles: n,
              viewedUser: i,
              appsCounters: o,
              publicRouterPrefix: a,
              permittedPagesMap: u,
              experiments: l,
            }),
            m = Tt({
              menuItems: v,
              parsedRoutersConfigs: r,
              userRoles: n,
              viewedUser: i,
              appsCounters: o,
              publicRouterPrefix: a,
              permittedPagesMap: u,
              experiments: l,
            });
          d
            ? ((t.accountNavBar.navBarItems = g),
              (t.accountNavBar.menuItems = m))
            : ((t.navBarItems = g), (t.menuItems = m));
        }
        const kt = (e) => {
          let {
            menu: t,
            parsedRoutersConfigs: r,
            viewedUser: n,
            flowAPI: i,
          } = e;
          return t.onItemClick((e) => {
            var t;
            let { item: o } = e;
            const s = (function (e) {
                let { item: t, viewedUser: r, parsedRoutersConfigs: n } = e;
                const i = t.link.replace(`/${r.slug}/`, `/${Pe}/`),
                  o = null == n ? void 0 : n.find((e) => "public" === e.type),
                  s = null == n ? void 0 : n.find((e) => "private" === e.type),
                  a = i.split("/"),
                  u = a.indexOf(Pe),
                  l =
                    u > -1
                      ? "/" + a.splice(u, a.length).join("/")
                      : "/" + a[a.length - 1],
                  c = (null == o ? void 0 : o.patterns) || {},
                  d = (null == s ? void 0 : s.patterns) || {};
                return c[l] || d[l];
              })({ item: o, parsedRoutersConfigs: r, viewedUser: n }),
              { appDefinitionId: a, appPageId: u } = s.appData;
            null == (t = i.bi) ||
              t.report({
                evid: 866,
                src: 69,
                endpoint: "members-app-uou",
                params: {
                  pageName: u,
                  component: "ma-navigation",
                  originAppId: a,
                  action: "menu-item-click",
                },
              });
          });
        };
        function Lt(e) {
          let {
            wixCodeApi: t,
            menu: r,
            parsedRoutersConfigs: n,
            viewedUserRoles: i,
            currentUser: o,
            viewedUser: s,
            appsCounters: a,
            parsedConfigItems: u,
            memoryStorage: l,
            publicRouterPrefix: c,
            permittedPagesMap: d,
            experiments: f,
            isMobile: p,
            flowAPI: h,
          } = e;
          const v = p && void 0 !== r.options && void 0 === r.items,
            g = v ? r.options || [] : r.items || [],
            m = `${Ae}-${r.id}`;
          let b = JSON.parse(l.getItem(m));
          if (!b) {
            const e = JSON.stringify(g);
            l.setItem(m, e), (b = g);
          }
          const y = Dt({
            menuItems: b,
            parsedRoutersConfigs: n,
            viewedUserRoles: i,
            currentUser: o,
            viewedUser: s,
            appsCounters: a,
            parsedConfigItems: u,
            publicRouterPrefix: c,
            permittedPagesMap: d,
            experiments: f,
          });
          kt({ menu: r, parsedRoutersConfigs: n, flowAPI: h, viewedUser: s }),
            v
              ? ((r.options = y),
                Ot({ menu: r, options: y, viewedUser: s, wixCodeApi: t }))
              : (r.items = y);
        }
        function jt(e) {
          let {
            $w: t,
            wixCodeApi: r,
            parsedRoutersConfigs: n = [],
            viewedUserRoles: i = [],
            currentUser: o,
            viewedUser: s,
            appsCounters: a,
            parsedConfigItems: u,
            memoryStorage: l,
            publicRouterPrefix: c,
            permittedPagesMap: d = {},
            experiments: f,
            isMobile: p,
            flowAPI: h,
          } = e;
          const v = t(Re),
            g = t(Ee);
          v.forEach((e) =>
            Lt({
              wixCodeApi: r,
              menu: e,
              parsedRoutersConfigs: n,
              viewedUserRoles: i,
              currentUser: o,
              viewedUser: s,
              appsCounters: a,
              parsedConfigItems: u,
              memoryStorage: l,
              publicRouterPrefix: c,
              permittedPagesMap: d,
              experiments: f,
              isMobile: p,
              flowAPI: h,
            })
          ),
            g.forEach((e) =>
              Lt({
                wixCodeApi: r,
                menu: e,
                parsedRoutersConfigs: n,
                viewedUserRoles: i,
                currentUser: o,
                viewedUser: s,
                appsCounters: a,
                parsedConfigItems: u,
                memoryStorage: l,
                publicRouterPrefix: c,
                permittedPagesMap: d,
                experiments: f,
                isMobile: p,
                flowAPI: h,
              })
            );
        }
        var Bt = r(3213),
          Ft = r.n(Bt);
        class Vt {
          constructor(e, t) {
            (this.httpClient = e),
              (this.experiments = t),
              Ft()(
                this,
                "adminGroupId",
                "00000000-0000-0000-0000-000000000001"
              ),
              Ft()(this, "restrictedPagesContext", "Pages"),
              Ft()(
                this,
                "permittedPagesExperiment",
                me.RestrictedMemberPagePermissions
              );
          }
          async getPermittedPagesMap(e, t) {
            const r = Object.values(e);
            if (!this.shouldFetchPermittedPages(r, t)) return {};
            const n = await this.fetchRestrictedPagesPermission();
            if (!this.hasRestrictedPages(n, r))
              return this.getPermittedPagesMapFallback(Object.keys(e), !0);
            const i = this.getNonRestrictedPages(n, r),
              o = this.getRestrictedMemberPages(n, r),
              s = await this.checkPermissionsForRestrictedPages(n.id, o);
            return this.toPermittedPagesMap(e, i, s);
          }
          toPermittedPagesMap(e, t, r) {
            return Object.entries(e).reduce((e, n) => {
              let [i, o] = n;
              return t.includes(o) ? { ...e, [i]: !0 } : { ...e, [i]: r[o] };
            }, {});
          }
          getRestrictedMemberPages(e, t) {
            return e.resourceIds.filter((e) => t.includes(e));
          }
          getNonRestrictedPages(e, t) {
            return t.filter((t) => !e.resourceIds.includes(t));
          }
          getPermittedPagesMapFallback(e, t) {
            return e.reduce((e, r) => ({ ...e, [r]: t }), {});
          }
          async checkPermissionsForRestrictedPages(e, t) {
            var r;
            const n = `/_api/members-groups-web/v1/permissions/${e}`,
              i = { params: { resourceId: t } },
              o = this.getPermittedPagesMapFallback(t, !1);
            return (
              (await (null == (r = this.httpClient)
                ? void 0
                : r
                    .get(n, i)
                    .then((e) => {
                      let { data: t } = e;
                      return t.isPermitted;
                    })
                    .catch(() => null))) ?? o
            );
          }
          async fetchRestrictedPagesPermission() {
            var e;
            const t = `/_api/members-groups-web/v1/groups/${this.adminGroupId}/permissions`,
              r = await (null == (e = this.httpClient)
                ? void 0
                : e
                    .get(t)
                    .then((e) => {
                      let { data: t } = e;
                      return t.permissions;
                    })
                    .catch(() => null));
            return (
              (null == r
                ? void 0
                : r.find((e) => {
                    let { context: t } = e;
                    return this.restrictedPagesContext === t;
                  })) ?? null
            );
          }
          hasRestrictedPages(e, t) {
            return (
              !(null == e || !e.resourceIds.length) &&
              t.some((t) => e.resourceIds.includes(t))
            );
          }
          shouldFetchPermittedPages(e, t) {
            var r;
            return (
              ((null == (r = this.experiments)
                ? void 0
                : r.enabled(this.permittedPagesExperiment)) ??
                !1) &&
              e.length > 0 &&
              "Site" === t
            );
          }
        }
        const $t = (e) => {
          const t = {};
          return (
            e.forEach((e) => {
              Object.entries(e.pages ?? {}).forEach((e) => {
                let [r, n] = e;
                t[r] = n;
              });
            }),
            t
          );
        };
        function Wt(e) {
          const t = e.find((e) => "public" === JSON.parse(e.config).type);
          if (!t) return;
          const r = JSON.parse(t.config),
            n = t.prefix,
            i = Object.keys(r.patterns ?? {}),
            o = i.find((e) => !0 === r.patterns[e].socialHome);
          if (o)
            return { routerPrefix: n, patternKey: o, pageData: r.patterns[o] };
          if (i.length > 0) {
            const e = i[0];
            return { routerPrefix: n, patternKey: e, pageData: r.patterns[e] };
          }
        }
        const Kt = () => {};
        class Gt {
          constructor(e) {
            let {
              appRouters: t,
              routerReturnedData: r,
              wixCodeApi: n,
              cacheService: i,
              flowAPI: o,
            } = e;
            Ft()(this, "wixLocation", void 0),
              Ft()(this, "wixSite", void 0),
              Ft()(this, "isMobile", void 0),
              Ft()(this, "appRouters", void 0),
              Ft()(this, "routerReturnedData", void 0),
              Ft()(this, "wixCodeApi", void 0),
              Ft()(this, "cacheService", void 0),
              Ft()(this, "flowAPI", void 0),
              (this.wixLocation = n.location),
              (this.wixSite = n.site),
              (this.isMobile = "Mobile" === n.window.formFactor),
              (this.appRouters = t),
              (this.routerReturnedData = r),
              (this.wixCodeApi = n),
              (this.cacheService = i),
              (this.flowAPI = o);
          }
          async matchRoute(e) {
            let {
              appDefinitionId: t,
              sectionId: r,
              onSuccess: n = Kt,
              onError: i = Kt,
            } = e;
            (t && r) ||
              i("Error: please provide app ID and section ID for navigation");
            let o = !1;
            if (
              (this.appRouters.forEach((e) => {
                if (o) return;
                const i = JSON.parse(e.config);
                return (
                  i.patterns &&
                  Object.keys(i.patterns).forEach((s) => {
                    if (o) return;
                    const a = i.patterns[s];
                    a.appData &&
                      a.appData.appDefinitionId === t &&
                      a.appData.appPageId === r &&
                      ((o = !0), n(e.prefix, s));
                  })
                );
              }),
              !o)
            ) {
              const e = ((await this.wixSite.getSiteStructure()).pages || [])
                .filter((e) => e.applicationId === t && !e.prefix)
                .pop();
              return e
                ? ((o = !0), n("", e.url))
                : i(`Error: can not resolve route for app ${t} and page ${r}`);
            }
          }
          getRoute(e, t) {
            return this.appRouters.find((r) => {
              const n = JSON.parse(r.config);
              return (
                !!n.patterns &&
                Object.entries(n.patterns).some((r) => {
                  var n, i;
                  let [, o] = r;
                  return (
                    (null == (n = o.appData) ? void 0 : n.appDefinitionId) ===
                      e &&
                    (null == (i = o.appData) ? void 0 : i.appPageId) === t
                  );
                })
              );
            });
          }
          getRouterOptions(e) {
            const t = (e.appRouters || []).map((e) => ({
                ...e,
                config: JSON.parse(e.config),
              })),
              r = t.map((e) => e.config);
            return {
              publicRouterPrefix: t.find((e) => "public" === e.config.type)
                .prefix,
              parsedRoutersConfigs: r,
              parsedRouters: t,
            };
          }
          getMenuRenderOptions(e) {
            let {
              config: t,
              userService: r,
              appsCounters: n,
              enablePreview: i,
              flowAPI: o,
            } = e;
            const { $w: s, appParams: a } = t,
              {
                parsedRoutersConfigs: u,
                publicRouterPrefix: l,
                parsedRouters: c,
              } = this.getRouterOptions(a),
              d = r.getViewedUser();
            return {
              $w: s,
              wixCodeApi: this.wixCodeApi,
              publicRouterPrefix: l,
              parsedRoutersConfigs: u,
              appsCounters: n,
              memoryStorage: ct(),
              parsedConfigItems: De(t.config),
              currentUser: r.getCurrentUser(),
              viewedUser: i
                ? { ...d, id: "00000000-0000-0000-0000-000000000000" }
                : d,
              viewedUserRoles: r.getRoles()[d.id] || [],
              isMobile: this.isMobile,
              experiments: t.essentials.experiments,
              flowAPI: o,
              parsedRouters: c,
            };
          }
          static hasSocialApp(e) {
            const { applicationId: t } = e;
            return ye.indexOf(t) > -1;
          }
          async hasSocialPages(e, t) {
            if (!this.appRouters)
              throw (
                (t && t("App routers not initialised"),
                new Error("App routers not initialised"))
              );
            const r = this.appRouters.filter((e) => {
                const t = JSON.parse(e.config);
                return (
                  "public" === t.type &&
                  t.patterns &&
                  Object.keys(t.patterns).length > 0
                );
              }),
              { pages: n } = await this.wixSite.getSiteStructure(),
              i = n.filter(Gt.hasSocialApp);
            return (
              e && e(r.length > 0 || i.length > 0), r.length > 0 || i.length > 0
            );
          }
          async getViewedUser(e, t) {
            var r;
            const n =
              null == (r = this.routerReturnedData)
                ? void 0
                : r.memberData.memberContactId;
            if (n) return e && e(n), n;
            throw (
              (t && t("Error getting viewed user"),
              new Error("Error getting viewed user"))
            );
          }
          async navigateToSection(e, t) {
            let {
              appDefinitionId: r,
              sectionId: n,
              tpaInnerRoute: i = "",
              memberId: o = "",
            } = e;
            await this.matchRoute({
              appDefinitionId: r,
              sectionId: n,
              onSuccess: (e, t) => {
                var r, n;
                e && 0 !== e.indexOf("/") && (e = `/${e}`),
                  i && "/" !== i.charAt(0) && (i = "/" + i),
                  null == (r = (n = this.wixLocation).to) ||
                    r.call(n, `${e}${o ? t.replace(Pe, o) : t}${i}`);
              },
              onError: (e) => {
                throw (t && t(e), new Error(e));
              },
            });
          }
          async getSectionUrl(e, t) {
            let {
              appDefinitionId: r,
              sectionId: n,
              memberId: i = "",
              memberSlug: o,
            } = e;
            return new Promise((e, s) => {
              const a = o || i;
              this.matchRoute({
                appDefinitionId: r,
                sectionId: n,
                onSuccess: (r, n) => {
                  r && 0 === r.indexOf("/") && (r = r.substring(1)),
                    r || 0 !== n.indexOf("/") || (n = n.substring(1));
                  let i = this.wixLocation.baseUrl;
                  "/" !== i.slice(-1) && (i += "/");
                  const o = Object.keys(this.wixLocation.query)
                    .map((e) => `${e}=${this.wixLocation.query[e]}`)
                    .join("&");
                  t &&
                    t(`${i}${r}${a ? n.replace(Pe, a) : n}${o ? "?" + o : ""}`),
                    e(`${i}${r}${a ? n.replace(Pe, a) : n}${o ? "?" + o : ""}`);
                },
                onError: () => {
                  t && t(this.wixLocation.url), s(this.wixLocation.url);
                },
              });
            });
          }
          async getNavigatableRoles(e) {
            const t = Wt(this.appRouters);
            if (t) {
              var r;
              return {
                navigatableMembersRoles:
                  (null == (r = t.pageData.appData)
                    ? void 0
                    : r.visibleForRoles) ?? [],
                isNavigationAllowed: !0,
              };
            }
            return { navigatableMembersRoles: [], isNavigationAllowed: !1 };
          }
          async navigateToMember(e, t) {
            let { memberId: r, memberSlug: n } = e;
            const i = n || r;
            if (!r)
              throw (
                (t && t("Error: please provide site member ID"),
                new Error("Error: please provide site member ID"))
              );
            const o = Wt(this.appRouters);
            if (o) {
              var s, a;
              const e = `/${o.routerPrefix}${o.patternKey.replace(Pe, i)}`;
              null == (s = (a = this.wixLocation).to) || s.call(a, e);
            }
          }
          async getMemberPagePrefix(e, t, r) {
            let { type: n = "public" } = e;
            if (!this.appRouters)
              throw (
                (r && r(`Can not get prefix for type ${n} - no routers`),
                new Error(`Can not get prefix for type ${n} - no routers`))
              );
            const i = this.appRouters
              .filter((e) => JSON.parse(e.config).type === n)
              .pop();
            if (!i)
              throw (
                (r && r(`Can not get prefix for type ${n}`),
                new Error(`Can not get prefix for type ${n}`))
              );
            return (
              t && t({ type: n, prefix: i.prefix }),
              { type: n, prefix: i.prefix }
            );
          }
          updateCounterForNotificationApp(e, t) {
            return {
              ...e,
              apps:
                null != e && e.apps
                  ? e.apps.map((e) => {
                      var r;
                      return e.appDefId === we
                        ? {
                            ...e,
                            numbers: {
                              ...e.numbers,
                              notificationsCount: {
                                ...(null == (r = e.numbers)
                                  ? void 0
                                  : r.notificationsCount),
                                count: t ?? 0,
                              },
                            },
                          }
                        : e;
                    })
                  : [],
            };
          }
          async setNotificationCount(e) {
            let { config: t, userService: r, displayCount: n } = e;
            const { experiments: i } = this.flowAPI;
            if (i.enabled(me.FixMarkAllAsReadNotifications)) {
              var o;
              const e =
                  null == (o = this.wixCodeApi) ||
                  null == (o = o.site) ||
                  null == o.getAppToken
                    ? void 0
                    : o.getAppToken(t.appParams.appDefinitionId),
                i = r.getCurrentUser(),
                s = r.getViewedUser(),
                a = this.updateCounterForNotificationApp(
                  this.cacheService.getNumbers(e, i.id),
                  n
                );
              this.cacheService.setNumbers(e, i.id, a);
              const u = this.getMenuRenderOptions({
                  config: t,
                  userService: r,
                  appsCounters: a,
                  enablePreview: !1,
                  flowAPI: this.flowAPI,
                }),
                {
                  publicRouterPrefix: l,
                  parsedRouters: c,
                  parsedRoutersConfigs: d,
                  parsedConfigItems: f,
                  viewedUserRoles: p,
                } = u,
                h = {
                  counters: {
                    currentUserCounters: a,
                    viewedUserCounters:
                      this.cacheService.getNumbers(e, s.id) ?? void 0,
                  },
                  permittedPagesMap: {},
                  parsedRouters: c,
                  parsedRoutersConfigs: d,
                  parsedConfigItems: f,
                  currentUserRoles: r.getRoles()[i.id],
                  viewedUserRoles: p,
                  publicRouterPrefix: l,
                };
              return at("renderMembersMenuItems", () =>
                ir(t, h, this.flowAPI)
              )();
            }
            At.getMembersLoginWidgets().forEach((e) => {
              var t;
              null != (t = e.navBarItems) &&
                t.length &&
                (e.navBarItems = [{ ...e.navBarItems[0], displayCount: n }]);
            });
          }
          async enterPublicProfilePreviewMode(e) {
            var t;
            let { config: r, userService: n } = e;
            const { appParams: i, essentials: o } = r,
              { httpClient: s } = o,
              a = n.getViewedUser(),
              u =
                null == (t = this.wixCodeApi) ||
                null == (t = t.site) ||
                null == t.getAppToken
                  ? void 0
                  : t.getAppToken(i.appDefinitionId),
              l = this.cacheService.hasNumbers(u, a.id)
                ? this.cacheService.getNumbers(u, a.id)
                : n.fetchMenuCounters(a, s),
              c = this.getMenuRenderOptions({
                config: r,
                userService: n,
                appsCounters: l,
                enablePreview: !0,
                flowAPI: this.flowAPI,
              });
            return at("renderMembersMenuItems", () => jt(c))();
          }
          leavePublicProfilePreviewMode(e) {
            var t;
            let { config: r, userService: n } = e;
            const { appParams: i, essentials: o } = r,
              { httpClient: s } = o,
              a = n.getViewedUser(),
              u =
                null == (t = this.wixCodeApi) ||
                null == (t = t.site) ||
                null == t.getAppToken
                  ? void 0
                  : t.getAppToken(i.appDefinitionId),
              l = this.cacheService.hasNumbers(u, a.id)
                ? this.cacheService.getNumbers(u, a.id)
                : n.fetchMenuCounters(a, s),
              c = this.getMenuRenderOptions({
                config: r,
                userService: n,
                appsCounters: l,
                enablePreview: !1,
                flowAPI: this.flowAPI,
              });
            return at("renderMembersMenuItems", () => jt(c))();
          }
          clearMenus(e) {
            let { config: t } = e;
            return (function (e) {
              const t = e(Re),
                r = e(Ee);
              t.forEach((e) => {
                e.items = [];
              }),
                r.forEach((e) => {
                  e.items = [];
                });
            })(null == t ? void 0 : t.$w);
          }
          getIsMembersAreaSeoEnabled(e) {
            let { config: t } = e;
            const r = null == t ? void 0 : t.config.isMembersAreaSeoEnabled;
            return Promise.resolve(r);
          }
          isAppSectionInstalled(e) {
            let { appDefinitionId: t, sectionId: r } = e;
            return !!this.getRoute(t, r);
          }
        }
        class Jt {
          constructor(e) {
            this.storage = e;
          }
          hasCurrentUser(e) {
            const t = this.getCurrentUserCacheKey(e);
            return this.hasItemInStorage(t);
          }
          getCurrentUser(e) {
            const t = this.getCurrentUserCacheKey(e);
            return this.getItemFromStorage(t);
          }
          setCurrentUser(e, t) {
            const r = this.getCurrentUserCacheKey(e);
            return this.setItemToStorage(r, t);
          }
          hasViewedUser(e, t) {
            const r = this.getViewedUserCacheKey(e, t);
            return this.hasItemInStorage(r);
          }
          getViewedUser(e, t) {
            const r = this.getViewedUserCacheKey(e, t);
            return this.getItemFromStorage(r);
          }
          setViewedUser(e, t, r) {
            const n = this.getViewedUserCacheKey(e, t);
            return this.setItemToStorage(n, r);
          }
          hasRoles(e, t) {
            const r = this.getRolesCacheKey(e, t);
            return this.hasItemInStorage(r);
          }
          getRoles(e, t) {
            const r = this.getRolesCacheKey(e, t);
            return this.getItemFromStorage(r);
          }
          setRoles(e, t, r) {
            const n = this.getRolesCacheKey(e, t);
            return this.setItemToStorage(n, r);
          }
          hasNumbers(e, t) {
            const r = this.getNumbersCacheKey(e, t);
            return this.hasItemInStorage(r);
          }
          getNumbers(e, t) {
            const r = this.getNumbersCacheKey(e, t);
            return this.getItemFromStorage(r);
          }
          setNumbers(e, t, r) {
            const n = this.getNumbersCacheKey(e, t);
            return this.setItemToStorage(n, r);
          }
          hasItemInStorage(e) {
            return !!this.storage.getItem(e);
          }
          getItemFromStorage(e) {
            const t = this.storage.getItem(e);
            return t ? JSON.parse(t) : null;
          }
          setItemToStorage(e, t) {
            return this.storage.setItem(e, JSON.stringify(t));
          }
          getCurrentUserCacheKey(e) {
            return `cu-${e}`;
          }
          getViewedUserCacheKey(e, t) {
            return `vu-${t}-${e}`;
          }
          getRolesCacheKey(e, t) {
            return t ? `roles-${t}-${e}` : `roles-${e}`;
          }
          getNumbersCacheKey(e, t) {
            return `numbers-${t}-${e}`;
          }
        }
        let Ht, qt, zt, Xt, Yt, Zt;
        const Qt = async (e, t, r, n, i, o) => {
            let {
                appDefinitionId: s,
                routerReturnedData: a,
                appRouters: u = [],
              } = e,
              { storage: l } = t;
            if (
              ((Xt = It(r, o, i)),
              (Zt = ((e) => new Jt(e.memory))(l)),
              (Yt = ((e, t) => new Vt(e, t))(n, i.experiments)),
              (zt = new Gt({
                appRouters: u,
                routerReturnedData: a,
                wixCodeApi: r,
                cacheService: Zt,
                flowAPI: i,
              })),
              (function (e) {
                lt = e;
              })(l.memory),
              await Xt.setCurrentUser(r.user.currentUser, n),
              !a)
            )
              return Promise.resolve();
            const c =
                null == r.site.getAppToken ? void 0 : r.site.getAppToken(s),
              d = (a.memberData && a.memberData.slugs) || [],
              f = (a.memberData && a.memberData.memberContactId) || a.userId,
              p = d.find((e) => e.primary),
              h = { id: f, slug: (p && p.name) || f };
            Xt.setViewedUser(h),
              Xt.setRoles(a.roles || {}),
              a.roles && Zt.setRoles(c, f, a.roles);
          },
          er = async (e, t, r) => {
            if (t)
              return {
                currentUserCounters: void 0,
                viewedUserCounters: void 0,
              };
            const n = Xt.getCurrentUser(),
              i = Xt.getViewedUser(),
              o = async (t) => {
                if (Zt.hasNumbers(e, t.id)) return Zt.getNumbers(e, t.id);
                const n = await Xt.fetchMenuCounters(t, r);
                return Zt.setNumbers(e, t.id, n), n;
              },
              s = i.id === n.id,
              a = o(n),
              u = s ? a : i.id ? o(i) : Promise.resolve({ apps: [] }),
              [l, c] = await Promise.all([a, u]);
            return { currentUserCounters: l, viewedUserCounters: c };
          },
          tr = async (e, t) => {
            const r = Xt.getCurrentUser(),
              n = Xt.getViewedUser();
            if (Zt.hasRoles(e, null == n ? void 0 : n.id))
              return Zt.getRoles(e, null == n ? void 0 : n.id);
            const i = await Xt.fetchRoles(n.id, r.id, t);
            return Zt.setRoles(e, null == n ? void 0 : n.id, i), i;
          };
        function rr(e, t, r) {
          const {
              wixCodeApi: n,
              $w: i,
              essentials: { experiments: o },
            } = e,
            s = Xt.getViewedUser(),
            a = Xt.getCurrentUser(),
            u = "Mobile" === n.window.formFactor,
            l = ct(),
            {
              permittedPagesMap: c,
              parsedRoutersConfigs: d,
              viewedUserRoles: f,
              parsedConfigItems: p,
              counters: { viewedUserCounters: h },
              publicRouterPrefix: v,
            } = t;
          at("renderMembersMenuItems", () =>
            jt({
              $w: i,
              wixCodeApi: n,
              parsedRoutersConfigs: d,
              viewedUserRoles: f,
              viewedUser: s,
              currentUser: a,
              appsCounters: h,
              parsedConfigItems: p,
              memoryStorage: l,
              publicRouterPrefix: v,
              permittedPagesMap: c,
              experiments: o,
              isMobile: u,
              flowAPI: r,
            })
          )();
        }
        function nr(e, t) {
          const {
              $w: r,
              essentials: { experiments: n },
              wixCodeApi: i,
            } = e,
            o = Xt.getCurrentUser(),
            s = "Mobile" === i.window.formFactor,
            a = ct(),
            {
              permittedPagesMap: u,
              parsedRoutersConfigs: l,
              counters: { currentUserCounters: c },
              publicRouterPrefix: d,
              currentUserRoles: f,
            } = t;
          at("renderLoginMenuItems", () =>
            (function (e) {
              let {
                $w: t,
                parsedRoutersConfigs: r = [],
                currentUserRoles: n,
                currentUser: i,
                appsCounters: o,
                memoryStorage: s,
                publicRouterPrefix: a,
                permittedPagesMap: u = {},
                experiments: l,
                isMobile: c,
              } = e;
              if (i.loggedIn) {
                const e = t(Me),
                  d = t(Oe);
                e.forEach((e) =>
                  Ut({
                    menu: e,
                    parsedRoutersConfigs: r,
                    currentUserRoles: n,
                    currentUser: i,
                    appsCounters: o,
                    memoryStorage: s,
                    publicRouterPrefix: a,
                    permittedPagesMap: u,
                    experiments: l,
                    isMobile: c,
                  })
                ),
                  d.forEach((e) =>
                    Ut({
                      menu: e,
                      parsedRoutersConfigs: r,
                      currentUserRoles: n,
                      currentUser: i,
                      appsCounters: o,
                      memoryStorage: s,
                      publicRouterPrefix: a,
                      permittedPagesMap: u,
                      experiments: l,
                      isMobile: c,
                    })
                  ),
                  At.setMembersLoginWidgets([
                    ...At.getMembersLoginWidgets(),
                    ...e,
                    ...d,
                  ]);
              }
            })({
              $w: r,
              parsedRoutersConfigs: l,
              currentUserRoles: f,
              currentUser: o,
              appsCounters: c,
              memoryStorage: a,
              publicRouterPrefix: d,
              permittedPagesMap: u,
              experiments: n,
              isMobile: s,
              wixCodeApi: i,
            })
          )();
        }
        function ir(e, t, r) {
          nr(e, t), rr(e, t, r);
        }
        const or = (e) => {
            Ht = e;
          },
          sr = (e, t) => Xt.setCurrentUser(e, t),
          ar = (e, t, r) => {
            const n = ((e, t) => {
                const { prefix: r, path: n } = e.location,
                  i = t.find((e) => {
                    let {
                      config: { type: t },
                    } = e;
                    return "public" === t;
                  });
                if ((null == i ? void 0 : i.prefix) === r) {
                  const [, ...e] = n;
                  return `/${r}/${Pe}/${e.join("/")}`;
                }
                return `/${r}/${n.join("/")}`;
              })(t, r),
              i = (e) => {
                if (e.onChange) {
                  var t;
                  const r =
                    null == (t = e.options)
                      ? void 0
                      : t.find((e) => {
                          let { link: t } = e;
                          return t === n;
                        });
                  e.value = (null == r ? void 0 : r.value) ?? e.value;
                }
              };
            e(Re).forEach(i), e(Ee).forEach(i);
          },
          ur = async (e) => {
            let { controllerConfig: t, appData: r, flowAPI: n } = e;
            const {
                wixCodeApi: i,
                essentials: { httpClient: o },
                $w: s,
              } = t,
              a = t,
              u = !!s(Me).length,
              l = !!s(Oe).length,
              c = !!s(Re).length,
              d = !!s(Ee).length,
              f = u || l || c || d;
            if (
              (((e) => {
                qt = e;
              })(a),
              !f)
            )
              return {
                async pageReady() {
                  await (null == r ? void 0 : r.initApplication());
                },
              };
            const p = "Editor" === i.window.viewMode;
            return (
              or(a),
              {
                async pageReady() {
                  const e = await (null == r ? void 0 : r.initApplication());
                  i.user.onLogin((t) =>
                    at("onLogin", () => sr(t, o).then(() => ir(a, e, n)))()
                  ),
                    p
                      ? n.environment.isMobile && ar(s, i, e.parsedRouters)
                      : ir(a, e, n);
                },
              }
            );
          },
          lr = async (e) => {
            let { controllerConfig: t } = e;
            const r = t;
            return At.setGlobalControllerConfig(r), { async pageReady() {} };
          },
          cr = async (e) => {
            let { controllerConfig: t } = e;
            const r = t;
            return At.setGlobalControllerConfig(r), { async pageReady() {} };
          },
          dr = async (e) =>
            !!(await (null == e
              ? void 0
              : e.site.isAppSectionInstalled({
                  sectionId: "member_page",
                  appDefinitionId: be.rH,
                }))),
          fr = async (e) =>
            !!e &&
            e.site.isAppSectionInstalled({
              sectionId: "member_settings_page",
              appDefinitionId: be.rH,
            }),
          pr = async (e) =>
            (
              await (async (e) => {
                const [t, r] = await Promise.all([
                  fr(e.controllerConfig.wixCodeApi),
                  dr(e.controllerConfig.wixCodeApi),
                ]);
                return t ? cr : r ? lr : ur;
              })(e.flowAPI)
            )(e);
        function hr(e) {
          for (
            var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1;
            n < t;
            n++
          )
            r[n - 1] = arguments[n];
          throw new Error(
            "number" == typeof e
              ? "[MobX] minified error nr: " +
                e +
                (r.length ? " " + r.map(String).join(",") : "") +
                ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts"
              : "[MobX] " + e
          );
        }
        var vr = {};
        function gr() {
          return "undefined" != typeof globalThis
            ? globalThis
            : "undefined" != typeof window
            ? window
            : void 0 !== r.g
            ? r.g
            : "undefined" != typeof self
            ? self
            : vr;
        }
        var mr = Object.assign,
          br = Object.getOwnPropertyDescriptor,
          yr = Object.defineProperty,
          _r = Object.prototype,
          wr = [];
        Object.freeze(wr);
        var Pr = {};
        Object.freeze(Pr);
        var Sr = "undefined" != typeof Proxy,
          Ir = Object.toString();
        function Cr() {
          Sr || hr("Proxy not available");
        }
        function Ar(e) {
          var t = !1;
          return function () {
            if (!t) return (t = !0), e.apply(this, arguments);
          };
        }
        var xr = function () {};
        function Mr(e) {
          return "function" == typeof e;
        }
        function Rr(e) {
          switch (typeof e) {
            case "string":
            case "symbol":
            case "number":
              return !0;
          }
          return !1;
        }
        function Or(e) {
          return null !== e && "object" == typeof e;
        }
        function Er(e) {
          if (!Or(e)) return !1;
          var t = Object.getPrototypeOf(e);
          if (null == t) return !0;
          var r = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
          return "function" == typeof r && r.toString() === Ir;
        }
        function Nr(e) {
          var t = null == e ? void 0 : e.constructor;
          return (
            !!t &&
            ("GeneratorFunction" === t.name ||
              "GeneratorFunction" === t.displayName)
          );
        }
        function Dr(e, t, r) {
          yr(e, t, {
            enumerable: !1,
            writable: !0,
            configurable: !0,
            value: r,
          });
        }
        function Tr(e, t, r) {
          yr(e, t, {
            enumerable: !1,
            writable: !1,
            configurable: !0,
            value: r,
          });
        }
        function Ur(e, t) {
          var r = "isMobX" + e;
          return (
            (t.prototype[r] = !0),
            function (e) {
              return Or(e) && !0 === e[r];
            }
          );
        }
        function kr(e) {
          return e instanceof Map;
        }
        function Lr(e) {
          return e instanceof Set;
        }
        var jr = void 0 !== Object.getOwnPropertySymbols;
        var Br =
          "undefined" != typeof Reflect && Reflect.ownKeys
            ? Reflect.ownKeys
            : jr
            ? function (e) {
                return Object.getOwnPropertyNames(e).concat(
                  Object.getOwnPropertySymbols(e)
                );
              }
            : Object.getOwnPropertyNames;
        function Fr(e) {
          return null === e ? null : "object" == typeof e ? "" + e : e;
        }
        function Vr(e, t) {
          return _r.hasOwnProperty.call(e, t);
        }
        var $r =
          Object.getOwnPropertyDescriptors ||
          function (e) {
            var t = {};
            return (
              Br(e).forEach(function (r) {
                t[r] = br(e, r);
              }),
              t
            );
          };
        function Wr(e, t) {
          for (var r = 0; r < t.length; r++) {
            var n = t[r];
            (n.enumerable = n.enumerable || !1),
              (n.configurable = !0),
              "value" in n && (n.writable = !0),
              Object.defineProperty(
                e,
                ((i = n.key),
                (o = void 0),
                "symbol" ==
                typeof (o = (function (e, t) {
                  if ("object" != typeof e || null === e) return e;
                  var r = e[Symbol.toPrimitive];
                  if (void 0 !== r) {
                    var n = r.call(e, t || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError(
                      "@@toPrimitive must return a primitive value."
                    );
                  }
                  return ("string" === t ? String : Number)(e);
                })(i, "string"))
                  ? o
                  : String(o)),
                n
              );
          }
          var i, o;
        }
        function Kr(e, t, r) {
          return (
            t && Wr(e.prototype, t),
            r && Wr(e, r),
            Object.defineProperty(e, "prototype", { writable: !1 }),
            e
          );
        }
        function Gr() {
          return (
            (Gr = Object.assign
              ? Object.assign.bind()
              : function (e) {
                  for (var t = 1; t < arguments.length; t++) {
                    var r = arguments[t];
                    for (var n in r)
                      Object.prototype.hasOwnProperty.call(r, n) &&
                        (e[n] = r[n]);
                  }
                  return e;
                }),
            Gr.apply(this, arguments)
          );
        }
        function Jr(e, t) {
          (e.prototype = Object.create(t.prototype)),
            (e.prototype.constructor = e),
            Hr(e, t);
        }
        function Hr(e, t) {
          return (
            (Hr = Object.setPrototypeOf
              ? Object.setPrototypeOf.bind()
              : function (e, t) {
                  return (e.__proto__ = t), e;
                }),
            Hr(e, t)
          );
        }
        function qr(e) {
          if (void 0 === e)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called"
            );
          return e;
        }
        function zr(e, t) {
          (null == t || t > e.length) && (t = e.length);
          for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
          return n;
        }
        function Xr(e, t) {
          var r =
            ("undefined" != typeof Symbol && e[Symbol.iterator]) ||
            e["@@iterator"];
          if (r) return (r = r.call(e)).next.bind(r);
          if (
            Array.isArray(e) ||
            (r = (function (e, t) {
              if (e) {
                if ("string" == typeof e) return zr(e, t);
                var r = Object.prototype.toString.call(e).slice(8, -1);
                return (
                  "Object" === r && e.constructor && (r = e.constructor.name),
                  "Map" === r || "Set" === r
                    ? Array.from(e)
                    : "Arguments" === r ||
                      /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    ? zr(e, t)
                    : void 0
                );
              }
            })(e)) ||
            (t && e && "number" == typeof e.length)
          ) {
            r && (e = r);
            var n = 0;
            return function () {
              return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] };
            };
          }
          throw new TypeError(
            "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        }
        var Yr = Symbol("mobx-stored-annotations");
        function Zr(e) {
          return Object.assign(function (t, r) {
            if (en(r)) return e.decorate_20223_(t, r);
            Qr(t, r, e);
          }, e);
        }
        function Qr(e, t, r) {
          Vr(e, Yr) || Dr(e, Yr, Gr({}, e[Yr])),
            (function (e) {
              return e.annotationType_ === ln;
            })(r) || (e[Yr][t] = r);
        }
        function en(e) {
          return "object" == typeof e && "string" == typeof e.kind;
        }
        var tn = Symbol("mobx administration"),
          rn = (function () {
            function e(e) {
              void 0 === e && (e = "Atom"),
                (this.name_ = void 0),
                (this.isPendingUnobservation_ = !1),
                (this.isBeingObserved_ = !1),
                (this.observers_ = new Set()),
                (this.diffValue_ = 0),
                (this.lastAccessedBy_ = 0),
                (this.lowestObserverState_ = ui.NOT_TRACKING_),
                (this.onBOL = void 0),
                (this.onBUOL = void 0),
                (this.name_ = e);
            }
            var t = e.prototype;
            return (
              (t.onBO = function () {
                this.onBOL &&
                  this.onBOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.onBUO = function () {
                this.onBUOL &&
                  this.onBUOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.reportObserved = function () {
                return Di(this);
              }),
              (t.reportChanged = function () {
                Ei(), Ti(this), Ni();
              }),
              (t.toString = function () {
                return this.name_;
              }),
              e
            );
          })(),
          nn = Ur("Atom", rn);
        function on(e, t, r) {
          void 0 === t && (t = xr), void 0 === r && (r = xr);
          var n,
            i = new rn(e);
          return t !== xr && io(to, i, t, n), r !== xr && no(i, r), i;
        }
        var sn = {
          identity: function (e, t) {
            return e === t;
          },
          structural: function (e, t) {
            return Ss(e, t);
          },
          default: function (e, t) {
            return Object.is
              ? Object.is(e, t)
              : e === t
              ? 0 !== e || 1 / e == 1 / t
              : e != e && t != t;
          },
          shallow: function (e, t) {
            return Ss(e, t, 1);
          },
        };
        function an(e, t, r) {
          return mo(e)
            ? e
            : Array.isArray(e)
            ? Gn.array(e, { name: r })
            : Er(e)
            ? Gn.object(e, void 0, { name: r })
            : kr(e)
            ? Gn.map(e, { name: r })
            : Lr(e)
            ? Gn.set(e, { name: r })
            : "function" != typeof e || Yi(e) || vo(e)
            ? e
            : Nr(e)
            ? po(e)
            : Xi(r, e);
        }
        function un(e) {
          return e;
        }
        var ln = "override";
        function cn(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: dn,
            extend_: fn,
            decorate_20223_: pn,
          };
        }
        function dn(e, t, r, n) {
          var i;
          if (null != (i = this.options_) && i.bound)
            return null === this.extend_(e, t, r, !1) ? 0 : 1;
          if (n === e.target_)
            return null === this.extend_(e, t, r, !1) ? 0 : 2;
          if (Yi(r.value)) return 1;
          var o = hn(e, this, t, r, !1);
          return yr(n, t, o), 2;
        }
        function fn(e, t, r, n) {
          var i = hn(e, this, t, r);
          return e.defineProperty_(t, i, n);
        }
        function pn(e, t) {
          var r = t.kind,
            n = t.name,
            i = t.addInitializer,
            o = this;
          if ("field" != r) {
            var s, a, u, l, c, d;
            if ("method" == r)
              return (
                Yi(e) ||
                  ((a = e),
                  (e = ti(
                    null != (u = null == (l = o.options_) ? void 0 : l.name)
                      ? u
                      : n.toString(),
                    a,
                    null !=
                      (c = null == (d = o.options_) ? void 0 : d.autoAction) &&
                      c
                  ))),
                null != (s = this.options_) &&
                  s.bound &&
                  i(function () {
                    var e = this,
                      t = e[n].bind(e);
                    (t.isMobxAction = !0), (e[n] = t);
                  }),
                e
              );
            hr(
              "Cannot apply '" +
                o.annotationType_ +
                "' to '" +
                String(n) +
                "' (kind: " +
                r +
                "):\n'" +
                o.annotationType_ +
                "' can only be used on properties with a function value."
            );
          } else
            i(function () {
              Qr(this, n, o);
            });
        }
        function hn(e, t, r, n, i) {
          var o, s, a, u, l, c, d, f;
          void 0 === i && (i = xi.safeDescriptors),
            (f = n),
            t.annotationType_,
            f.value;
          var p,
            h = n.value;
          null != (o = t.options_) &&
            o.bound &&
            (h = h.bind(null != (p = e.proxy_) ? p : e.target_));
          return {
            value: ti(
              null != (s = null == (a = t.options_) ? void 0 : a.name)
                ? s
                : r.toString(),
              h,
              null != (u = null == (l = t.options_) ? void 0 : l.autoAction) &&
                u,
              null != (c = t.options_) && c.bound
                ? null != (d = e.proxy_)
                  ? d
                  : e.target_
                : void 0
            ),
            configurable: !i || e.isPlainObject_,
            enumerable: !1,
            writable: !i,
          };
        }
        function vn(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: gn,
            extend_: mn,
            decorate_20223_: bn,
          };
        }
        function gn(e, t, r, n) {
          var i;
          if (n === e.target_)
            return null === this.extend_(e, t, r, !1) ? 0 : 2;
          if (
            null != (i = this.options_) &&
            i.bound &&
            (!Vr(e.target_, t) || !vo(e.target_[t])) &&
            null === this.extend_(e, t, r, !1)
          )
            return 0;
          if (vo(r.value)) return 1;
          var o = yn(e, this, t, r, !1, !1);
          return yr(n, t, o), 2;
        }
        function mn(e, t, r, n) {
          var i,
            o = yn(
              e,
              this,
              t,
              r,
              null == (i = this.options_) ? void 0 : i.bound
            );
          return e.defineProperty_(t, o, n);
        }
        function bn(e, t) {
          var r;
          var n = t.name,
            i = t.addInitializer;
          return (
            vo(e) || (e = po(e)),
            null != (r = this.options_) &&
              r.bound &&
              i(function () {
                var e = this,
                  t = e[n].bind(e);
                (t.isMobXFlow = !0), (e[n] = t);
              }),
            e
          );
        }
        function yn(e, t, r, n, i, o) {
          var s;
          void 0 === o && (o = xi.safeDescriptors),
            (s = n),
            t.annotationType_,
            s.value;
          var a,
            u = n.value;
          (vo(u) || (u = po(u)), i) &&
            ((u = u.bind(null != (a = e.proxy_) ? a : e.target_)).isMobXFlow =
              !0);
          return {
            value: u,
            configurable: !o || e.isPlainObject_,
            enumerable: !1,
            writable: !o,
          };
        }
        function _n(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: wn,
            extend_: Pn,
            decorate_20223_: Sn,
          };
        }
        function wn(e, t, r) {
          return null === this.extend_(e, t, r, !1) ? 0 : 1;
        }
        function Pn(e, t, r, n) {
          return (
            (function (e, t, r, n) {
              t.annotationType_, n.get;
              0;
            })(0, this, 0, r),
            e.defineComputedProperty_(
              t,
              Gr({}, this.options_, { get: r.get, set: r.set }),
              n
            )
          );
        }
        function Sn(e, t) {
          var r = this,
            n = t.name;
          return (
            (0, t.addInitializer)(function () {
              var t = ts(this)[tn],
                i = Gr({}, r.options_, { get: e, context: this });
              i.name || (i.name = "ObservableObject." + n.toString()),
                t.values_.set(n, new ci(i));
            }),
            function () {
              return this[tn].getObservablePropValue_(n);
            }
          );
        }
        function In(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: Cn,
            extend_: An,
            decorate_20223_: xn,
          };
        }
        function Cn(e, t, r) {
          return null === this.extend_(e, t, r, !1) ? 0 : 1;
        }
        function An(e, t, r, n) {
          var i, o;
          return (
            (function (e, t, r, n) {
              t.annotationType_;
              0;
            })(0, this),
            e.defineObservableProperty_(
              t,
              r.value,
              null != (i = null == (o = this.options_) ? void 0 : o.enhancer)
                ? i
                : an,
              n
            )
          );
        }
        function xn(e, t) {
          var r = this,
            n = t.kind,
            i = t.name,
            o = new WeakSet();
          function s(e, t) {
            var n,
              s,
              a = ts(e)[tn],
              u = new ai(
                t,
                null != (n = null == (s = r.options_) ? void 0 : s.enhancer)
                  ? n
                  : an,
                "ObservableObject." + i.toString(),
                !1
              );
            a.values_.set(i, u), o.add(e);
          }
          if ("accessor" == n)
            return {
              get: function () {
                return (
                  o.has(this) || s(this, e.get.call(this)),
                  this[tn].getObservablePropValue_(i)
                );
              },
              set: function (e) {
                return (
                  o.has(this) || s(this, e),
                  this[tn].setObservablePropValue_(i, e)
                );
              },
              init: function (e) {
                return o.has(this) || s(this, e), e;
              },
            };
        }
        var Mn = "true",
          Rn = On();
        function On(e) {
          return {
            annotationType_: Mn,
            options_: e,
            make_: En,
            extend_: Nn,
            decorate_20223_: Dn,
          };
        }
        function En(e, t, r, n) {
          var i, o, s, a;
          if (r.get) return zn.make_(e, t, r, n);
          if (r.set) {
            var u = ti(t.toString(), r.set);
            return n === e.target_
              ? null ===
                e.defineProperty_(t, {
                  configurable: !xi.safeDescriptors || e.isPlainObject_,
                  set: u,
                })
                ? 0
                : 2
              : (yr(n, t, { configurable: !0, set: u }), 2);
          }
          if (n !== e.target_ && "function" == typeof r.value)
            return Nr(r.value)
              ? (null != (a = this.options_) && a.autoBind
                  ? po.bound
                  : po
                ).make_(e, t, r, n)
              : (null != (s = this.options_) && s.autoBind
                  ? Xi.bound
                  : Xi
                ).make_(e, t, r, n);
          var l,
            c =
              !1 === (null == (i = this.options_) ? void 0 : i.deep)
                ? Gn.ref
                : Gn;
          "function" == typeof r.value &&
            null != (o = this.options_) &&
            o.autoBind &&
            (r.value = r.value.bind(null != (l = e.proxy_) ? l : e.target_));
          return c.make_(e, t, r, n);
        }
        function Nn(e, t, r, n) {
          var i, o, s;
          if (r.get) return zn.extend_(e, t, r, n);
          if (r.set)
            return e.defineProperty_(
              t,
              {
                configurable: !xi.safeDescriptors || e.isPlainObject_,
                set: ti(t.toString(), r.set),
              },
              n
            );
          "function" == typeof r.value &&
            null != (i = this.options_) &&
            i.autoBind &&
            (r.value = r.value.bind(null != (s = e.proxy_) ? s : e.target_));
          return (
            !1 === (null == (o = this.options_) ? void 0 : o.deep) ? Gn.ref : Gn
          ).extend_(e, t, r, n);
        }
        function Dn(e, t) {
          hr("'" + this.annotationType_ + "' cannot be used as a decorator");
        }
        var Tn = {
          deep: !0,
          name: void 0,
          defaultDecorator: void 0,
          proxy: !0,
        };
        function Un(e) {
          return e || Tn;
        }
        Object.freeze(Tn);
        var kn = In("observable"),
          Ln = In("observable.ref", { enhancer: un }),
          jn = In("observable.shallow", {
            enhancer: function (e, t, r) {
              return null == e || is(e) || Vo(e) || qo(e) || Yo(e)
                ? e
                : Array.isArray(e)
                ? Gn.array(e, { name: r, deep: !1 })
                : Er(e)
                ? Gn.object(e, void 0, { name: r, deep: !1 })
                : kr(e)
                ? Gn.map(e, { name: r, deep: !1 })
                : Lr(e)
                ? Gn.set(e, { name: r, deep: !1 })
                : void 0;
            },
          }),
          Bn = In("observable.struct", {
            enhancer: function (e, t) {
              return Ss(e, t) ? t : e;
            },
          }),
          Fn = Zr(kn);
        function Vn(e) {
          return !0 === e.deep
            ? an
            : !1 === e.deep
            ? un
            : (t = e.defaultDecorator) &&
              null != (r = null == (n = t.options_) ? void 0 : n.enhancer)
            ? r
            : an;
          var t, r, n;
        }
        function $n(e, t, r) {
          return en(t)
            ? kn.decorate_20223_(e, t)
            : Rr(t)
            ? void Qr(e, t, kn)
            : mo(e)
            ? e
            : Er(e)
            ? Gn.object(e, t, r)
            : Array.isArray(e)
            ? Gn.array(e, t)
            : kr(e)
            ? Gn.map(e, t)
            : Lr(e)
            ? Gn.set(e, t)
            : "object" == typeof e && null !== e
            ? e
            : Gn.box(e, t);
        }
        mr($n, Fn);
        var Wn,
          Kn,
          Gn = mr($n, {
            box: function (e, t) {
              var r = Un(t);
              return new ai(e, Vn(r), r.name, !0, r.equals);
            },
            array: function (e, t) {
              var r = Un(t);
              return (!1 === xi.useProxies || !1 === r.proxy ? ms : No)(
                e,
                Vn(r),
                r.name
              );
            },
            map: function (e, t) {
              var r = Un(t);
              return new Ho(e, Vn(r), r.name);
            },
            set: function (e, t) {
              var r = Un(t);
              return new Xo(e, Vn(r), r.name);
            },
            object: function (e, t, r) {
              return ws(function () {
                return ao(
                  !1 === xi.useProxies || !1 === (null == r ? void 0 : r.proxy)
                    ? ts({}, r)
                    : (function (e, t) {
                        var r, n;
                        return (
                          Cr(),
                          (e = ts(e, t)),
                          null != (n = (r = e[tn]).proxy_)
                            ? n
                            : (r.proxy_ = new Proxy(e, _o))
                        );
                      })({}, r),
                  e,
                  t
                );
              });
            },
            ref: Zr(Ln),
            shallow: Zr(jn),
            deep: Fn,
            struct: Zr(Bn),
          }),
          Jn = "computed",
          Hn = _n(Jn),
          qn = _n("computed.struct", { equals: sn.structural }),
          zn = function (e, t) {
            if (en(t)) return Hn.decorate_20223_(e, t);
            if (Rr(t)) return Qr(e, t, Hn);
            if (Er(e)) return Zr(_n(Jn, e));
            var r = Er(t) ? t : {};
            return (r.get = e), r.name || (r.name = e.name || ""), new ci(r);
          };
        Object.assign(zn, Hn), (zn.struct = Zr(qn));
        var Xn,
          Yn = 0,
          Zn = 1,
          Qn =
            null !=
              (Wn =
                null == (Kn = br(function () {}, "name"))
                  ? void 0
                  : Kn.configurable) && Wn,
          ei = {
            value: "action",
            configurable: !0,
            writable: !1,
            enumerable: !1,
          };
        function ti(e, t, r, n) {
          function i() {
            return ri(e, r, t, n || this, arguments);
          }
          return (
            void 0 === r && (r = !1),
            (i.isMobxAction = !0),
            (i.toString = function () {
              return t.toString();
            }),
            Qn && ((ei.value = e), yr(i, "name", ei)),
            i
          );
        }
        function ri(e, t, r, n, i) {
          var o = (function (e, t, r, n) {
            var i = !1,
              o = 0;
            0;
            var s = xi.trackingDerivation,
              a = !t || !s;
            Ei();
            var u = xi.allowStateChanges;
            a && (yi(), (u = ii(!0)));
            var l = wi(!0),
              c = {
                runAsAction_: a,
                prevDerivation_: s,
                prevAllowStateChanges_: u,
                prevAllowStateReads_: l,
                notifySpy_: i,
                startTime_: o,
                actionId_: Zn++,
                parentActionId_: Yn,
              };
            return (Yn = c.actionId_), c;
          })(0, t);
          try {
            return r.apply(n, i);
          } catch (e) {
            throw ((o.error_ = e), e);
          } finally {
            !(function (e) {
              Yn !== e.actionId_ && hr(30);
              (Yn = e.parentActionId_),
                void 0 !== e.error_ && (xi.suppressReactionErrors = !0);
              oi(e.prevAllowStateChanges_),
                Pi(e.prevAllowStateReads_),
                Ni(),
                e.runAsAction_ && _i(e.prevDerivation_);
              0;
              xi.suppressReactionErrors = !1;
            })(o);
          }
        }
        function ni(e, t) {
          var r = ii(e);
          try {
            return t();
          } finally {
            oi(r);
          }
        }
        function ii(e) {
          var t = xi.allowStateChanges;
          return (xi.allowStateChanges = e), t;
        }
        function oi(e) {
          xi.allowStateChanges = e;
        }
        Xn = Symbol.toPrimitive;
        var si,
          ai = (function (e) {
            function t(t, r, n, i, o) {
              var s;
              return (
                void 0 === n && (n = "ObservableValue"),
                void 0 === i && (i = !0),
                void 0 === o && (o = sn.default),
                ((s = e.call(this, n) || this).enhancer = void 0),
                (s.name_ = void 0),
                (s.equals = void 0),
                (s.hasUnreportedChange_ = !1),
                (s.interceptors_ = void 0),
                (s.changeListeners_ = void 0),
                (s.value_ = void 0),
                (s.dehancer = void 0),
                (s.enhancer = r),
                (s.name_ = n),
                (s.equals = o),
                (s.value_ = r(t, void 0, n)),
                s
              );
            }
            Jr(t, e);
            var r = t.prototype;
            return (
              (r.dehanceValue = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (r.set = function (e) {
                this.value_;
                if ((e = this.prepareNewValue_(e)) !== xi.UNCHANGED) {
                  0, this.setNewValue_(e);
                }
              }),
              (r.prepareNewValue_ = function (e) {
                if ((vi(this), wo(this))) {
                  var t = So(this, { object: this, type: Ro, newValue: e });
                  if (!t) return xi.UNCHANGED;
                  e = t.newValue;
                }
                return (
                  (e = this.enhancer(e, this.value_, this.name_)),
                  this.equals(this.value_, e) ? xi.UNCHANGED : e
                );
              }),
              (r.setNewValue_ = function (e) {
                var t = this.value_;
                (this.value_ = e),
                  this.reportChanged(),
                  Io(this) &&
                    Ao(this, {
                      type: Ro,
                      object: this,
                      newValue: e,
                      oldValue: t,
                    });
              }),
              (r.get = function () {
                return this.reportObserved(), this.dehanceValue(this.value_);
              }),
              (r.intercept_ = function (e) {
                return Po(this, e);
              }),
              (r.observe_ = function (e, t) {
                return (
                  t &&
                    e({
                      observableKind: "value",
                      debugObjectName: this.name_,
                      object: this,
                      type: Ro,
                      newValue: this.value_,
                      oldValue: void 0,
                    }),
                  Co(this, e)
                );
              }),
              (r.raw = function () {
                return this.value_;
              }),
              (r.toJSON = function () {
                return this.get();
              }),
              (r.toString = function () {
                return this.name_ + "[" + this.value_ + "]";
              }),
              (r.valueOf = function () {
                return Fr(this.get());
              }),
              (r[Xn] = function () {
                return this.valueOf();
              }),
              t
            );
          })(rn);
        si = Symbol.toPrimitive;
        var ui,
          li,
          ci = (function () {
            function e(e) {
              (this.dependenciesState_ = ui.NOT_TRACKING_),
                (this.observing_ = []),
                (this.newObserving_ = null),
                (this.isBeingObserved_ = !1),
                (this.isPendingUnobservation_ = !1),
                (this.observers_ = new Set()),
                (this.diffValue_ = 0),
                (this.runId_ = 0),
                (this.lastAccessedBy_ = 0),
                (this.lowestObserverState_ = ui.UP_TO_DATE_),
                (this.unboundDepsCount_ = 0),
                (this.value_ = new fi(null)),
                (this.name_ = void 0),
                (this.triggeredBy_ = void 0),
                (this.isComputing_ = !1),
                (this.isRunningSetter_ = !1),
                (this.derivation = void 0),
                (this.setter_ = void 0),
                (this.isTracing_ = li.NONE),
                (this.scope_ = void 0),
                (this.equals_ = void 0),
                (this.requiresReaction_ = void 0),
                (this.keepAlive_ = void 0),
                (this.onBOL = void 0),
                (this.onBUOL = void 0),
                e.get || hr(31),
                (this.derivation = e.get),
                (this.name_ = e.name || "ComputedValue"),
                e.set && (this.setter_ = ti("ComputedValue-setter", e.set)),
                (this.equals_ =
                  e.equals ||
                  (e.compareStructural || e.struct
                    ? sn.structural
                    : sn.default)),
                (this.scope_ = e.context),
                (this.requiresReaction_ = e.requiresReaction),
                (this.keepAlive_ = !!e.keepAlive);
            }
            var t = e.prototype;
            return (
              (t.onBecomeStale_ = function () {
                !(function (e) {
                  if (e.lowestObserverState_ !== ui.UP_TO_DATE_) return;
                  (e.lowestObserverState_ = ui.POSSIBLY_STALE_),
                    e.observers_.forEach(function (e) {
                      e.dependenciesState_ === ui.UP_TO_DATE_ &&
                        ((e.dependenciesState_ = ui.POSSIBLY_STALE_),
                        e.onBecomeStale_());
                    });
                })(this);
              }),
              (t.onBO = function () {
                this.onBOL &&
                  this.onBOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.onBUO = function () {
                this.onBUOL &&
                  this.onBUOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.get = function () {
                if (
                  (this.isComputing_ && hr(32, this.name_, this.derivation),
                  0 !== xi.inBatch ||
                    0 !== this.observers_.size ||
                    this.keepAlive_)
                ) {
                  if ((Di(this), hi(this))) {
                    var e = xi.trackingContext;
                    this.keepAlive_ && !e && (xi.trackingContext = this),
                      this.trackAndCompute() &&
                        (function (e) {
                          if (e.lowestObserverState_ === ui.STALE_) return;
                          (e.lowestObserverState_ = ui.STALE_),
                            e.observers_.forEach(function (t) {
                              t.dependenciesState_ === ui.POSSIBLY_STALE_
                                ? (t.dependenciesState_ = ui.STALE_)
                                : t.dependenciesState_ === ui.UP_TO_DATE_ &&
                                  (e.lowestObserverState_ = ui.UP_TO_DATE_);
                            });
                        })(this),
                      (xi.trackingContext = e);
                  }
                } else
                  hi(this) &&
                    (this.warnAboutUntrackedRead_(),
                    Ei(),
                    (this.value_ = this.computeValue_(!1)),
                    Ni());
                var t = this.value_;
                if (pi(t)) throw t.cause;
                return t;
              }),
              (t.set = function (e) {
                if (this.setter_) {
                  this.isRunningSetter_ && hr(33, this.name_),
                    (this.isRunningSetter_ = !0);
                  try {
                    this.setter_.call(this.scope_, e);
                  } finally {
                    this.isRunningSetter_ = !1;
                  }
                } else hr(34, this.name_);
              }),
              (t.trackAndCompute = function () {
                var e = this.value_,
                  t = this.dependenciesState_ === ui.NOT_TRACKING_,
                  r = this.computeValue_(!0),
                  n = t || pi(e) || pi(r) || !this.equals_(e, r);
                return n && (this.value_ = r), n;
              }),
              (t.computeValue_ = function (e) {
                this.isComputing_ = !0;
                var t,
                  r = ii(!1);
                if (e) t = gi(this, this.derivation, this.scope_);
                else if (!0 === xi.disableErrorBoundaries)
                  t = this.derivation.call(this.scope_);
                else
                  try {
                    t = this.derivation.call(this.scope_);
                  } catch (e) {
                    t = new fi(e);
                  }
                return oi(r), (this.isComputing_ = !1), t;
              }),
              (t.suspend_ = function () {
                this.keepAlive_ || (mi(this), (this.value_ = void 0));
              }),
              (t.observe_ = function (e, t) {
                var r = this,
                  n = !0,
                  i = void 0;
                return Zi(function () {
                  var o = r.get();
                  if (!n || t) {
                    var s = yi();
                    e({
                      observableKind: "computed",
                      debugObjectName: r.name_,
                      type: Ro,
                      object: r,
                      newValue: o,
                      oldValue: i,
                    }),
                      _i(s);
                  }
                  (n = !1), (i = o);
                });
              }),
              (t.warnAboutUntrackedRead_ = function () {}),
              (t.toString = function () {
                return this.name_ + "[" + this.derivation.toString() + "]";
              }),
              (t.valueOf = function () {
                return Fr(this.get());
              }),
              (t[si] = function () {
                return this.valueOf();
              }),
              e
            );
          })(),
          di = Ur("ComputedValue", ci);
        !(function (e) {
          (e[(e.NOT_TRACKING_ = -1)] = "NOT_TRACKING_"),
            (e[(e.UP_TO_DATE_ = 0)] = "UP_TO_DATE_"),
            (e[(e.POSSIBLY_STALE_ = 1)] = "POSSIBLY_STALE_"),
            (e[(e.STALE_ = 2)] = "STALE_");
        })(ui || (ui = {})),
          (function (e) {
            (e[(e.NONE = 0)] = "NONE"),
              (e[(e.LOG = 1)] = "LOG"),
              (e[(e.BREAK = 2)] = "BREAK");
          })(li || (li = {}));
        var fi = function (e) {
          (this.cause = void 0), (this.cause = e);
        };
        function pi(e) {
          return e instanceof fi;
        }
        function hi(e) {
          switch (e.dependenciesState_) {
            case ui.UP_TO_DATE_:
              return !1;
            case ui.NOT_TRACKING_:
            case ui.STALE_:
              return !0;
            case ui.POSSIBLY_STALE_:
              for (
                var t = wi(!0), r = yi(), n = e.observing_, i = n.length, o = 0;
                o < i;
                o++
              ) {
                var s = n[o];
                if (di(s)) {
                  if (xi.disableErrorBoundaries) s.get();
                  else
                    try {
                      s.get();
                    } catch (e) {
                      return _i(r), Pi(t), !0;
                    }
                  if (e.dependenciesState_ === ui.STALE_)
                    return _i(r), Pi(t), !0;
                }
              }
              return Si(e), _i(r), Pi(t), !1;
          }
        }
        function vi(e) {}
        function gi(e, t, r) {
          var n = wi(!0);
          Si(e),
            (e.newObserving_ = new Array(e.observing_.length + 100)),
            (e.unboundDepsCount_ = 0),
            (e.runId_ = ++xi.runId);
          var i,
            o = xi.trackingDerivation;
          if (
            ((xi.trackingDerivation = e),
            xi.inBatch++,
            !0 === xi.disableErrorBoundaries)
          )
            i = t.call(r);
          else
            try {
              i = t.call(r);
            } catch (e) {
              i = new fi(e);
            }
          return (
            xi.inBatch--,
            (xi.trackingDerivation = o),
            (function (e) {
              for (
                var t = e.observing_,
                  r = (e.observing_ = e.newObserving_),
                  n = ui.UP_TO_DATE_,
                  i = 0,
                  o = e.unboundDepsCount_,
                  s = 0;
                s < o;
                s++
              ) {
                var a = r[s];
                0 === a.diffValue_ &&
                  ((a.diffValue_ = 1), i !== s && (r[i] = a), i++),
                  a.dependenciesState_ > n && (n = a.dependenciesState_);
              }
              (r.length = i), (e.newObserving_ = null), (o = t.length);
              for (; o--; ) {
                var u = t[o];
                0 === u.diffValue_ && Ri(u, e), (u.diffValue_ = 0);
              }
              for (; i--; ) {
                var l = r[i];
                1 === l.diffValue_ && ((l.diffValue_ = 0), Mi(l, e));
              }
              n !== ui.UP_TO_DATE_ &&
                ((e.dependenciesState_ = n), e.onBecomeStale_());
            })(e),
            Pi(n),
            i
          );
        }
        function mi(e) {
          var t = e.observing_;
          e.observing_ = [];
          for (var r = t.length; r--; ) Ri(t[r], e);
          e.dependenciesState_ = ui.NOT_TRACKING_;
        }
        function bi(e) {
          var t = yi();
          try {
            return e();
          } finally {
            _i(t);
          }
        }
        function yi() {
          var e = xi.trackingDerivation;
          return (xi.trackingDerivation = null), e;
        }
        function _i(e) {
          xi.trackingDerivation = e;
        }
        function wi(e) {
          var t = xi.allowStateReads;
          return (xi.allowStateReads = e), t;
        }
        function Pi(e) {
          xi.allowStateReads = e;
        }
        function Si(e) {
          if (e.dependenciesState_ !== ui.UP_TO_DATE_) {
            e.dependenciesState_ = ui.UP_TO_DATE_;
            for (var t = e.observing_, r = t.length; r--; )
              t[r].lowestObserverState_ = ui.UP_TO_DATE_;
          }
        }
        var Ii = function () {
            (this.version = 6),
              (this.UNCHANGED = {}),
              (this.trackingDerivation = null),
              (this.trackingContext = null),
              (this.runId = 0),
              (this.mobxGuid = 0),
              (this.inBatch = 0),
              (this.pendingUnobservations = []),
              (this.pendingReactions = []),
              (this.isRunningReactions = !1),
              (this.allowStateChanges = !1),
              (this.allowStateReads = !0),
              (this.enforceActions = !0),
              (this.spyListeners = []),
              (this.globalReactionErrorHandlers = []),
              (this.computedRequiresReaction = !1),
              (this.reactionRequiresObservable = !1),
              (this.observableRequiresReaction = !1),
              (this.disableErrorBoundaries = !1),
              (this.suppressReactionErrors = !1),
              (this.useProxies = !0),
              (this.verifyProxies = !1),
              (this.safeDescriptors = !0);
          },
          Ci = !0,
          Ai = !1,
          xi = (function () {
            var e = gr();
            return (
              e.__mobxInstanceCount > 0 && !e.__mobxGlobals && (Ci = !1),
              e.__mobxGlobals &&
                e.__mobxGlobals.version !== new Ii().version &&
                (Ci = !1),
              Ci
                ? e.__mobxGlobals
                  ? ((e.__mobxInstanceCount += 1),
                    e.__mobxGlobals.UNCHANGED ||
                      (e.__mobxGlobals.UNCHANGED = {}),
                    e.__mobxGlobals)
                  : ((e.__mobxInstanceCount = 1), (e.__mobxGlobals = new Ii()))
                : (setTimeout(function () {
                    Ai || hr(35);
                  }, 1),
                  new Ii())
            );
          })();
        function Mi(e, t) {
          e.observers_.add(t),
            e.lowestObserverState_ > t.dependenciesState_ &&
              (e.lowestObserverState_ = t.dependenciesState_);
        }
        function Ri(e, t) {
          e.observers_.delete(t), 0 === e.observers_.size && Oi(e);
        }
        function Oi(e) {
          !1 === e.isPendingUnobservation_ &&
            ((e.isPendingUnobservation_ = !0),
            xi.pendingUnobservations.push(e));
        }
        function Ei() {
          xi.inBatch++;
        }
        function Ni() {
          if (0 == --xi.inBatch) {
            ji();
            for (var e = xi.pendingUnobservations, t = 0; t < e.length; t++) {
              var r = e[t];
              (r.isPendingUnobservation_ = !1),
                0 === r.observers_.size &&
                  (r.isBeingObserved_ && ((r.isBeingObserved_ = !1), r.onBUO()),
                  r instanceof ci && r.suspend_());
            }
            xi.pendingUnobservations = [];
          }
        }
        function Di(e) {
          var t = xi.trackingDerivation;
          return null !== t
            ? (t.runId_ !== e.lastAccessedBy_ &&
                ((e.lastAccessedBy_ = t.runId_),
                (t.newObserving_[t.unboundDepsCount_++] = e),
                !e.isBeingObserved_ &&
                  xi.trackingContext &&
                  ((e.isBeingObserved_ = !0), e.onBO())),
              e.isBeingObserved_)
            : (0 === e.observers_.size && xi.inBatch > 0 && Oi(e), !1);
        }
        function Ti(e) {
          e.lowestObserverState_ !== ui.STALE_ &&
            ((e.lowestObserverState_ = ui.STALE_),
            e.observers_.forEach(function (e) {
              e.dependenciesState_ === ui.UP_TO_DATE_ && e.onBecomeStale_(),
                (e.dependenciesState_ = ui.STALE_);
            }));
        }
        var Ui = (function () {
          function e(e, t, r, n) {
            void 0 === e && (e = "Reaction"),
              (this.name_ = void 0),
              (this.onInvalidate_ = void 0),
              (this.errorHandler_ = void 0),
              (this.requiresObservable_ = void 0),
              (this.observing_ = []),
              (this.newObserving_ = []),
              (this.dependenciesState_ = ui.NOT_TRACKING_),
              (this.diffValue_ = 0),
              (this.runId_ = 0),
              (this.unboundDepsCount_ = 0),
              (this.isDisposed_ = !1),
              (this.isScheduled_ = !1),
              (this.isTrackPending_ = !1),
              (this.isRunning_ = !1),
              (this.isTracing_ = li.NONE),
              (this.name_ = e),
              (this.onInvalidate_ = t),
              (this.errorHandler_ = r),
              (this.requiresObservable_ = n);
          }
          var t = e.prototype;
          return (
            (t.onBecomeStale_ = function () {
              this.schedule_();
            }),
            (t.schedule_ = function () {
              this.isScheduled_ ||
                ((this.isScheduled_ = !0),
                xi.pendingReactions.push(this),
                ji());
            }),
            (t.isScheduled = function () {
              return this.isScheduled_;
            }),
            (t.runReaction_ = function () {
              if (!this.isDisposed_) {
                Ei(), (this.isScheduled_ = !1);
                var e = xi.trackingContext;
                if (((xi.trackingContext = this), hi(this))) {
                  this.isTrackPending_ = !0;
                  try {
                    this.onInvalidate_();
                  } catch (e) {
                    this.reportExceptionInDerivation_(e);
                  }
                }
                (xi.trackingContext = e), Ni();
              }
            }),
            (t.track = function (e) {
              if (!this.isDisposed_) {
                Ei();
                0, (this.isRunning_ = !0);
                var t = xi.trackingContext;
                xi.trackingContext = this;
                var r = gi(this, e, void 0);
                (xi.trackingContext = t),
                  (this.isRunning_ = !1),
                  (this.isTrackPending_ = !1),
                  this.isDisposed_ && mi(this),
                  pi(r) && this.reportExceptionInDerivation_(r.cause),
                  Ni();
              }
            }),
            (t.reportExceptionInDerivation_ = function (e) {
              var t = this;
              if (this.errorHandler_) this.errorHandler_(e, this);
              else {
                if (xi.disableErrorBoundaries) throw e;
                var r = "[mobx] uncaught error in '" + this + "'";
                xi.suppressReactionErrors || console.error(r, e),
                  xi.globalReactionErrorHandlers.forEach(function (r) {
                    return r(e, t);
                  });
              }
            }),
            (t.dispose = function () {
              this.isDisposed_ ||
                ((this.isDisposed_ = !0),
                this.isRunning_ || (Ei(), mi(this), Ni()));
            }),
            (t.getDisposer_ = function (e) {
              var t = this,
                r = function r() {
                  t.dispose(),
                    null == e ||
                      null == e.removeEventListener ||
                      e.removeEventListener("abort", r);
                };
              return (
                null == e ||
                  null == e.addEventListener ||
                  e.addEventListener("abort", r),
                (r[tn] = this),
                r
              );
            }),
            (t.toString = function () {
              return "Reaction[" + this.name_ + "]";
            }),
            (t.trace = function (e) {
              void 0 === e && (e = !1);
            }),
            e
          );
        })();
        var ki = 100,
          Li = function (e) {
            return e();
          };
        function ji() {
          xi.inBatch > 0 || xi.isRunningReactions || Li(Bi);
        }
        function Bi() {
          xi.isRunningReactions = !0;
          for (var e = xi.pendingReactions, t = 0; e.length > 0; ) {
            ++t === ki &&
              (console.error("[mobx] cycle in reaction: " + e[0]), e.splice(0));
            for (var r = e.splice(0), n = 0, i = r.length; n < i; n++)
              r[n].runReaction_();
          }
          xi.isRunningReactions = !1;
        }
        var Fi = Ur("Reaction", Ui);
        var Vi = "action",
          $i = "autoAction",
          Wi = "<unnamed action>",
          Ki = cn(Vi),
          Gi = cn("action.bound", { bound: !0 }),
          Ji = cn($i, { autoAction: !0 }),
          Hi = cn("autoAction.bound", { autoAction: !0, bound: !0 });
        function qi(e) {
          return function (t, r) {
            return Mr(t)
              ? ti(t.name || Wi, t, e)
              : Mr(r)
              ? ti(t, r, e)
              : en(r)
              ? (e ? Ji : Ki).decorate_20223_(t, r)
              : Rr(r)
              ? Qr(t, r, e ? Ji : Ki)
              : Rr(t)
              ? Zr(cn(e ? $i : Vi, { name: t, autoAction: e }))
              : void 0;
          };
        }
        var zi = qi(!1);
        Object.assign(zi, Ki);
        var Xi = qi(!0);
        function Yi(e) {
          return Mr(e) && !0 === e.isMobxAction;
        }
        function Zi(e, t) {
          var r, n, i, o, s;
          void 0 === t && (t = Pr);
          var a,
            u = null != (r = null == (n = t) ? void 0 : n.name) ? r : "Autorun";
          if (!t.scheduler && !t.delay)
            a = new Ui(
              u,
              function () {
                this.track(d);
              },
              t.onError,
              t.requiresObservable
            );
          else {
            var l = eo(t),
              c = !1;
            a = new Ui(
              u,
              function () {
                c ||
                  ((c = !0),
                  l(function () {
                    (c = !1), a.isDisposed_ || a.track(d);
                  }));
              },
              t.onError,
              t.requiresObservable
            );
          }
          function d() {
            e(a);
          }
          return (
            (null != (i = t) && null != (o = i.signal) && o.aborted) ||
              a.schedule_(),
            a.getDisposer_(null == (s = t) ? void 0 : s.signal)
          );
        }
        Object.assign(Xi, Ji), (zi.bound = Zr(Gi)), (Xi.bound = Zr(Hi));
        var Qi = function (e) {
          return e();
        };
        function eo(e) {
          return e.scheduler
            ? e.scheduler
            : e.delay
            ? function (t) {
                return setTimeout(t, e.delay);
              }
            : Qi;
        }
        var to = "onBO",
          ro = "onBUO";
        function no(e, t, r) {
          return io(ro, e, t, r);
        }
        function io(e, t, r, n) {
          var i = "function" == typeof n ? bs(t, r) : bs(t),
            o = Mr(n) ? n : r,
            s = e + "L";
          return (
            i[s] ? i[s].add(o) : (i[s] = new Set([o])),
            function () {
              var e = i[s];
              e && (e.delete(o), 0 === e.size && delete i[s]);
            }
          );
        }
        var oo = "always";
        function so(e) {
          !0 === e.isolateGlobalState &&
            (function () {
              if (
                ((xi.pendingReactions.length ||
                  xi.inBatch ||
                  xi.isRunningReactions) &&
                  hr(36),
                (Ai = !0),
                Ci)
              ) {
                var e = gr();
                0 == --e.__mobxInstanceCount && (e.__mobxGlobals = void 0),
                  (xi = new Ii());
              }
            })();
          var t,
            r,
            n = e.useProxies,
            i = e.enforceActions;
          if (
            (void 0 !== n &&
              (xi.useProxies =
                n === oo || ("never" !== n && "undefined" != typeof Proxy)),
            "ifavailable" === n && (xi.verifyProxies = !0),
            void 0 !== i)
          ) {
            var o = i === oo ? oo : "observed" === i;
            (xi.enforceActions = o),
              (xi.allowStateChanges = !0 !== o && o !== oo);
          }
          [
            "computedRequiresReaction",
            "reactionRequiresObservable",
            "observableRequiresReaction",
            "disableErrorBoundaries",
            "safeDescriptors",
          ].forEach(function (t) {
            t in e && (xi[t] = !!e[t]);
          }),
            (xi.allowStateReads = !xi.observableRequiresReaction),
            e.reactionScheduler &&
              ((t = e.reactionScheduler),
              (r = Li),
              (Li = function (e) {
                return t(function () {
                  return r(e);
                });
              }));
        }
        function ao(e, t, r, n) {
          var i = $r(t);
          return (
            ws(function () {
              var t = ts(e, n)[tn];
              Br(i).forEach(function (e) {
                t.extend_(e, i[e], !r || !(e in r) || r[e]);
              });
            }),
            e
          );
        }
        var uo = 0;
        function lo() {
          this.message = "FLOW_CANCELLED";
        }
        lo.prototype = Object.create(Error.prototype);
        var co = vn("flow"),
          fo = vn("flow.bound", { bound: !0 }),
          po = Object.assign(function (e, t) {
            if (en(t)) return co.decorate_20223_(e, t);
            if (Rr(t)) return Qr(e, t, co);
            var r = e,
              n = r.name || "<unnamed flow>",
              i = function () {
                var e,
                  t = arguments,
                  i = ++uo,
                  o = zi(n + " - runid: " + i + " - init", r).apply(this, t),
                  s = void 0,
                  a = new Promise(function (t, r) {
                    var a = 0;
                    function u(e) {
                      var t;
                      s = void 0;
                      try {
                        t = zi(
                          n + " - runid: " + i + " - yield " + a++,
                          o.next
                        ).call(o, e);
                      } catch (e) {
                        return r(e);
                      }
                      c(t);
                    }
                    function l(e) {
                      var t;
                      s = void 0;
                      try {
                        t = zi(
                          n + " - runid: " + i + " - yield " + a++,
                          o.throw
                        ).call(o, e);
                      } catch (e) {
                        return r(e);
                      }
                      c(t);
                    }
                    function c(e) {
                      if (!Mr(null == e ? void 0 : e.then))
                        return e.done
                          ? t(e.value)
                          : (s = Promise.resolve(e.value)).then(u, l);
                      e.then(c, r);
                    }
                    (e = r), u(void 0);
                  });
                return (
                  (a.cancel = zi(
                    n + " - runid: " + i + " - cancel",
                    function () {
                      try {
                        s && ho(s);
                        var t = o.return(void 0),
                          r = Promise.resolve(t.value);
                        r.then(xr, xr), ho(r), e(new lo());
                      } catch (t) {
                        e(t);
                      }
                    }
                  )),
                  a
                );
              };
            return (i.isMobXFlow = !0), i;
          }, co);
        function ho(e) {
          Mr(e.cancel) && e.cancel();
        }
        function vo(e) {
          return !0 === (null == e ? void 0 : e.isMobXFlow);
        }
        function go(e, t) {
          return (
            !!e &&
            (void 0 !== t
              ? !!is(e) && e[tn].values_.has(t)
              : is(e) || !!e[tn] || nn(e) || Fi(e) || di(e))
          );
        }
        function mo(e) {
          return go(e);
        }
        function bo(e, t) {
          void 0 === t && (t = void 0), Ei();
          try {
            return e.apply(t);
          } finally {
            Ni();
          }
        }
        function yo(e) {
          return e[tn];
        }
        po.bound = Zr(fo);
        var _o = {
          has: function (e, t) {
            return yo(e).has_(t);
          },
          get: function (e, t) {
            return yo(e).get_(t);
          },
          set: function (e, t, r) {
            var n;
            return !!Rr(t) && (null == (n = yo(e).set_(t, r, !0)) || n);
          },
          deleteProperty: function (e, t) {
            var r;
            return !!Rr(t) && (null == (r = yo(e).delete_(t, !0)) || r);
          },
          defineProperty: function (e, t, r) {
            var n;
            return null == (n = yo(e).defineProperty_(t, r)) || n;
          },
          ownKeys: function (e) {
            return yo(e).ownKeys_();
          },
          preventExtensions: function (e) {
            hr(13);
          },
        };
        function wo(e) {
          return void 0 !== e.interceptors_ && e.interceptors_.length > 0;
        }
        function Po(e, t) {
          var r = e.interceptors_ || (e.interceptors_ = []);
          return (
            r.push(t),
            Ar(function () {
              var e = r.indexOf(t);
              -1 !== e && r.splice(e, 1);
            })
          );
        }
        function So(e, t) {
          var r = yi();
          try {
            for (
              var n = [].concat(e.interceptors_ || []), i = 0, o = n.length;
              i < o && ((t = n[i](t)) && !t.type && hr(14), t);
              i++
            );
            return t;
          } finally {
            _i(r);
          }
        }
        function Io(e) {
          return void 0 !== e.changeListeners_ && e.changeListeners_.length > 0;
        }
        function Co(e, t) {
          var r = e.changeListeners_ || (e.changeListeners_ = []);
          return (
            r.push(t),
            Ar(function () {
              var e = r.indexOf(t);
              -1 !== e && r.splice(e, 1);
            })
          );
        }
        function Ao(e, t) {
          var r = yi(),
            n = e.changeListeners_;
          if (n) {
            for (var i = 0, o = (n = n.slice()).length; i < o; i++) n[i](t);
            _i(r);
          }
        }
        function xo(e, t, r) {
          return (
            ws(function () {
              var n = ts(e, r)[tn];
              null != t ||
                (t = (function (e) {
                  return Vr(e, Yr) || Dr(e, Yr, Gr({}, e[Yr])), e[Yr];
                })(e)),
                Br(t).forEach(function (e) {
                  return n.make_(e, t[e]);
                });
            }),
            e
          );
        }
        var Mo = "splice",
          Ro = "update",
          Oo = {
            get: function (e, t) {
              var r = e[tn];
              return t === tn
                ? r
                : "length" === t
                ? r.getArrayLength_()
                : "string" != typeof t || isNaN(t)
                ? Vr(Do, t)
                  ? Do[t]
                  : e[t]
                : r.get_(parseInt(t));
            },
            set: function (e, t, r) {
              var n = e[tn];
              return (
                "length" === t && n.setArrayLength_(r),
                "symbol" == typeof t || isNaN(t)
                  ? (e[t] = r)
                  : n.set_(parseInt(t), r),
                !0
              );
            },
            preventExtensions: function () {
              hr(15);
            },
          },
          Eo = (function () {
            function e(e, t, r, n) {
              void 0 === e && (e = "ObservableArray"),
                (this.owned_ = void 0),
                (this.legacyMode_ = void 0),
                (this.atom_ = void 0),
                (this.values_ = []),
                (this.interceptors_ = void 0),
                (this.changeListeners_ = void 0),
                (this.enhancer_ = void 0),
                (this.dehancer = void 0),
                (this.proxy_ = void 0),
                (this.lastKnownLength_ = 0),
                (this.owned_ = r),
                (this.legacyMode_ = n),
                (this.atom_ = new rn(e)),
                (this.enhancer_ = function (e, r) {
                  return t(e, r, "ObservableArray[..]");
                });
            }
            var t = e.prototype;
            return (
              (t.dehanceValue_ = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (t.dehanceValues_ = function (e) {
                return void 0 !== this.dehancer && e.length > 0
                  ? e.map(this.dehancer)
                  : e;
              }),
              (t.intercept_ = function (e) {
                return Po(this, e);
              }),
              (t.observe_ = function (e, t) {
                return (
                  void 0 === t && (t = !1),
                  t &&
                    e({
                      observableKind: "array",
                      object: this.proxy_,
                      debugObjectName: this.atom_.name_,
                      type: "splice",
                      index: 0,
                      added: this.values_.slice(),
                      addedCount: this.values_.length,
                      removed: [],
                      removedCount: 0,
                    }),
                  Co(this, e)
                );
              }),
              (t.getArrayLength_ = function () {
                return this.atom_.reportObserved(), this.values_.length;
              }),
              (t.setArrayLength_ = function (e) {
                ("number" != typeof e || isNaN(e) || e < 0) &&
                  hr("Out of range: " + e);
                var t = this.values_.length;
                if (e !== t)
                  if (e > t) {
                    for (var r = new Array(e - t), n = 0; n < e - t; n++)
                      r[n] = void 0;
                    this.spliceWithArray_(t, 0, r);
                  } else this.spliceWithArray_(e, t - e);
              }),
              (t.updateArrayLength_ = function (e, t) {
                e !== this.lastKnownLength_ && hr(16),
                  (this.lastKnownLength_ += t),
                  this.legacyMode_ && t > 0 && gs(e + t + 1);
              }),
              (t.spliceWithArray_ = function (e, t, r) {
                var n = this;
                this.atom_;
                var i = this.values_.length;
                if (
                  (void 0 === e
                    ? (e = 0)
                    : e > i
                    ? (e = i)
                    : e < 0 && (e = Math.max(0, i + e)),
                  (t =
                    1 === arguments.length
                      ? i - e
                      : null == t
                      ? 0
                      : Math.max(0, Math.min(t, i - e))),
                  void 0 === r && (r = wr),
                  wo(this))
                ) {
                  var o = So(this, {
                    object: this.proxy_,
                    type: Mo,
                    index: e,
                    removedCount: t,
                    added: r,
                  });
                  if (!o) return wr;
                  (t = o.removedCount), (r = o.added);
                }
                if (
                  ((r =
                    0 === r.length
                      ? r
                      : r.map(function (e) {
                          return n.enhancer_(e, void 0);
                        })),
                  this.legacyMode_)
                ) {
                  var s = r.length - t;
                  this.updateArrayLength_(i, s);
                }
                var a = this.spliceItemsIntoValues_(e, t, r);
                return (
                  (0 === t && 0 === r.length) ||
                    this.notifyArraySplice_(e, r, a),
                  this.dehanceValues_(a)
                );
              }),
              (t.spliceItemsIntoValues_ = function (e, t, r) {
                var n;
                if (r.length < 1e4)
                  return (n = this.values_).splice.apply(n, [e, t].concat(r));
                var i = this.values_.slice(e, e + t),
                  o = this.values_.slice(e + t);
                this.values_.length += r.length - t;
                for (var s = 0; s < r.length; s++) this.values_[e + s] = r[s];
                for (var a = 0; a < o.length; a++)
                  this.values_[e + r.length + a] = o[a];
                return i;
              }),
              (t.notifyArrayChildUpdate_ = function (e, t, r) {
                var n = !this.owned_ && !1,
                  i = Io(this),
                  o =
                    i || n
                      ? {
                          observableKind: "array",
                          object: this.proxy_,
                          type: Ro,
                          debugObjectName: this.atom_.name_,
                          index: e,
                          newValue: t,
                          oldValue: r,
                        }
                      : null;
                this.atom_.reportChanged(), i && Ao(this, o);
              }),
              (t.notifyArraySplice_ = function (e, t, r) {
                var n = !this.owned_ && !1,
                  i = Io(this),
                  o =
                    i || n
                      ? {
                          observableKind: "array",
                          object: this.proxy_,
                          debugObjectName: this.atom_.name_,
                          type: Mo,
                          index: e,
                          removed: r,
                          added: t,
                          removedCount: r.length,
                          addedCount: t.length,
                        }
                      : null;
                this.atom_.reportChanged(), i && Ao(this, o);
              }),
              (t.get_ = function (e) {
                if (!(this.legacyMode_ && e >= this.values_.length))
                  return (
                    this.atom_.reportObserved(),
                    this.dehanceValue_(this.values_[e])
                  );
                console.warn("[mobx] Out of bounds read: " + e);
              }),
              (t.set_ = function (e, t) {
                var r = this.values_;
                if (
                  (this.legacyMode_ && e > r.length && hr(17, e, r.length),
                  e < r.length)
                ) {
                  this.atom_;
                  var n = r[e];
                  if (wo(this)) {
                    var i = So(this, {
                      type: Ro,
                      object: this.proxy_,
                      index: e,
                      newValue: t,
                    });
                    if (!i) return;
                    t = i.newValue;
                  }
                  (t = this.enhancer_(t, n)) !== n &&
                    ((r[e] = t), this.notifyArrayChildUpdate_(e, t, n));
                } else {
                  for (
                    var o = new Array(e + 1 - r.length), s = 0;
                    s < o.length - 1;
                    s++
                  )
                    o[s] = void 0;
                  (o[o.length - 1] = t), this.spliceWithArray_(r.length, 0, o);
                }
              }),
              e
            );
          })();
        function No(e, t, r, n) {
          return (
            void 0 === r && (r = "ObservableArray"),
            void 0 === n && (n = !1),
            Cr(),
            ws(function () {
              var i = new Eo(r, t, n, !1);
              Tr(i.values_, tn, i);
              var o = new Proxy(i.values_, Oo);
              return (
                (i.proxy_ = o), e && e.length && i.spliceWithArray_(0, 0, e), o
              );
            })
          );
        }
        var Do = {
          clear: function () {
            return this.splice(0);
          },
          replace: function (e) {
            var t = this[tn];
            return t.spliceWithArray_(0, t.values_.length, e);
          },
          toJSON: function () {
            return this.slice();
          },
          splice: function (e, t) {
            for (
              var r = arguments.length, n = new Array(r > 2 ? r - 2 : 0), i = 2;
              i < r;
              i++
            )
              n[i - 2] = arguments[i];
            var o = this[tn];
            switch (arguments.length) {
              case 0:
                return [];
              case 1:
                return o.spliceWithArray_(e);
              case 2:
                return o.spliceWithArray_(e, t);
            }
            return o.spliceWithArray_(e, t, n);
          },
          spliceWithArray: function (e, t, r) {
            return this[tn].spliceWithArray_(e, t, r);
          },
          push: function () {
            for (
              var e = this[tn], t = arguments.length, r = new Array(t), n = 0;
              n < t;
              n++
            )
              r[n] = arguments[n];
            return e.spliceWithArray_(e.values_.length, 0, r), e.values_.length;
          },
          pop: function () {
            return this.splice(Math.max(this[tn].values_.length - 1, 0), 1)[0];
          },
          shift: function () {
            return this.splice(0, 1)[0];
          },
          unshift: function () {
            for (
              var e = this[tn], t = arguments.length, r = new Array(t), n = 0;
              n < t;
              n++
            )
              r[n] = arguments[n];
            return e.spliceWithArray_(0, 0, r), e.values_.length;
          },
          reverse: function () {
            return (
              xi.trackingDerivation && hr(37, "reverse"),
              this.replace(this.slice().reverse()),
              this
            );
          },
          sort: function () {
            xi.trackingDerivation && hr(37, "sort");
            var e = this.slice();
            return e.sort.apply(e, arguments), this.replace(e), this;
          },
          remove: function (e) {
            var t = this[tn],
              r = t.dehanceValues_(t.values_).indexOf(e);
            return r > -1 && (this.splice(r, 1), !0);
          },
        };
        function To(e, t) {
          "function" == typeof Array.prototype[e] && (Do[e] = t(e));
        }
        function Uo(e) {
          return function () {
            var t = this[tn];
            t.atom_.reportObserved();
            var r = t.dehanceValues_(t.values_);
            return r[e].apply(r, arguments);
          };
        }
        function ko(e) {
          return function (t, r) {
            var n = this,
              i = this[tn];
            return (
              i.atom_.reportObserved(),
              i.dehanceValues_(i.values_)[e](function (e, i) {
                return t.call(r, e, i, n);
              })
            );
          };
        }
        function Lo(e) {
          return function () {
            var t = this,
              r = this[tn];
            r.atom_.reportObserved();
            var n = r.dehanceValues_(r.values_),
              i = arguments[0];
            return (
              (arguments[0] = function (e, r, n) {
                return i(e, r, n, t);
              }),
              n[e].apply(n, arguments)
            );
          };
        }
        To("at", Uo),
          To("concat", Uo),
          To("flat", Uo),
          To("includes", Uo),
          To("indexOf", Uo),
          To("join", Uo),
          To("lastIndexOf", Uo),
          To("slice", Uo),
          To("toString", Uo),
          To("toLocaleString", Uo),
          To("toSorted", Uo),
          To("toSpliced", Uo),
          To("with", Uo),
          To("every", ko),
          To("filter", ko),
          To("find", ko),
          To("findIndex", ko),
          To("findLast", ko),
          To("findLastIndex", ko),
          To("flatMap", ko),
          To("forEach", ko),
          To("map", ko),
          To("some", ko),
          To("toReversed", ko),
          To("reduce", Lo),
          To("reduceRight", Lo);
        var jo,
          Bo,
          Fo = Ur("ObservableArrayAdministration", Eo);
        function Vo(e) {
          return Or(e) && Fo(e[tn]);
        }
        var $o = {},
          Wo = "add",
          Ko = "delete";
        (jo = Symbol.iterator), (Bo = Symbol.toStringTag);
        var Go,
          Jo,
          Ho = (function () {
            function e(e, t, r) {
              var n = this;
              void 0 === t && (t = an),
                void 0 === r && (r = "ObservableMap"),
                (this.enhancer_ = void 0),
                (this.name_ = void 0),
                (this[tn] = $o),
                (this.data_ = void 0),
                (this.hasMap_ = void 0),
                (this.keysAtom_ = void 0),
                (this.interceptors_ = void 0),
                (this.changeListeners_ = void 0),
                (this.dehancer = void 0),
                (this.enhancer_ = t),
                (this.name_ = r),
                Mr(Map) || hr(18),
                ws(function () {
                  (n.keysAtom_ = on("ObservableMap.keys()")),
                    (n.data_ = new Map()),
                    (n.hasMap_ = new Map()),
                    e && n.merge(e);
                });
            }
            var t = e.prototype;
            return (
              (t.has_ = function (e) {
                return this.data_.has(e);
              }),
              (t.has = function (e) {
                var t = this;
                if (!xi.trackingDerivation) return this.has_(e);
                var r = this.hasMap_.get(e);
                if (!r) {
                  var n = (r = new ai(
                    this.has_(e),
                    un,
                    "ObservableMap.key?",
                    !1
                  ));
                  this.hasMap_.set(e, n),
                    no(n, function () {
                      return t.hasMap_.delete(e);
                    });
                }
                return r.get();
              }),
              (t.set = function (e, t) {
                var r = this.has_(e);
                if (wo(this)) {
                  var n = So(this, {
                    type: r ? Ro : Wo,
                    object: this,
                    newValue: t,
                    name: e,
                  });
                  if (!n) return this;
                  t = n.newValue;
                }
                return r ? this.updateValue_(e, t) : this.addValue_(e, t), this;
              }),
              (t.delete = function (e) {
                var t = this;
                if (
                  (this.keysAtom_, wo(this)) &&
                  !So(this, { type: Ko, object: this, name: e })
                )
                  return !1;
                if (this.has_(e)) {
                  var r = Io(this),
                    n = r
                      ? {
                          observableKind: "map",
                          debugObjectName: this.name_,
                          type: Ko,
                          object: this,
                          oldValue: this.data_.get(e).value_,
                          name: e,
                        }
                      : null;
                  return (
                    bo(function () {
                      var r;
                      t.keysAtom_.reportChanged(),
                        null == (r = t.hasMap_.get(e)) || r.setNewValue_(!1),
                        t.data_.get(e).setNewValue_(void 0),
                        t.data_.delete(e);
                    }),
                    r && Ao(this, n),
                    !0
                  );
                }
                return !1;
              }),
              (t.updateValue_ = function (e, t) {
                var r = this.data_.get(e);
                if ((t = r.prepareNewValue_(t)) !== xi.UNCHANGED) {
                  var n = Io(this),
                    i = n
                      ? {
                          observableKind: "map",
                          debugObjectName: this.name_,
                          type: Ro,
                          object: this,
                          oldValue: r.value_,
                          name: e,
                          newValue: t,
                        }
                      : null;
                  0, r.setNewValue_(t), n && Ao(this, i);
                }
              }),
              (t.addValue_ = function (e, t) {
                var r = this;
                this.keysAtom_,
                  bo(function () {
                    var n,
                      i = new ai(t, r.enhancer_, "ObservableMap.key", !1);
                    r.data_.set(e, i),
                      (t = i.value_),
                      null == (n = r.hasMap_.get(e)) || n.setNewValue_(!0),
                      r.keysAtom_.reportChanged();
                  });
                var n = Io(this),
                  i = n
                    ? {
                        observableKind: "map",
                        debugObjectName: this.name_,
                        type: Wo,
                        object: this,
                        name: e,
                        newValue: t,
                      }
                    : null;
                n && Ao(this, i);
              }),
              (t.get = function (e) {
                return this.has(e)
                  ? this.dehanceValue_(this.data_.get(e).get())
                  : this.dehanceValue_(void 0);
              }),
              (t.dehanceValue_ = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (t.keys = function () {
                return this.keysAtom_.reportObserved(), this.data_.keys();
              }),
              (t.values = function () {
                var e = this,
                  t = this.keys();
                return As({
                  next: function () {
                    var r = t.next(),
                      n = r.done,
                      i = r.value;
                    return { done: n, value: n ? void 0 : e.get(i) };
                  },
                });
              }),
              (t.entries = function () {
                var e = this,
                  t = this.keys();
                return As({
                  next: function () {
                    var r = t.next(),
                      n = r.done,
                      i = r.value;
                    return { done: n, value: n ? void 0 : [i, e.get(i)] };
                  },
                });
              }),
              (t[jo] = function () {
                return this.entries();
              }),
              (t.forEach = function (e, t) {
                for (var r, n = Xr(this); !(r = n()).done; ) {
                  var i = r.value,
                    o = i[0],
                    s = i[1];
                  e.call(t, s, o, this);
                }
              }),
              (t.merge = function (e) {
                var t = this;
                return (
                  qo(e) && (e = new Map(e)),
                  bo(function () {
                    Er(e)
                      ? (function (e) {
                          var t = Object.keys(e);
                          if (!jr) return t;
                          var r = Object.getOwnPropertySymbols(e);
                          return r.length
                            ? [].concat(
                                t,
                                r.filter(function (t) {
                                  return _r.propertyIsEnumerable.call(e, t);
                                })
                              )
                            : t;
                        })(e).forEach(function (r) {
                          return t.set(r, e[r]);
                        })
                      : Array.isArray(e)
                      ? e.forEach(function (e) {
                          var r = e[0],
                            n = e[1];
                          return t.set(r, n);
                        })
                      : kr(e)
                      ? (e.constructor !== Map && hr(19, e),
                        e.forEach(function (e, r) {
                          return t.set(r, e);
                        }))
                      : null != e && hr(20, e);
                  }),
                  this
                );
              }),
              (t.clear = function () {
                var e = this;
                bo(function () {
                  bi(function () {
                    for (var t, r = Xr(e.keys()); !(t = r()).done; ) {
                      var n = t.value;
                      e.delete(n);
                    }
                  });
                });
              }),
              (t.replace = function (e) {
                var t = this;
                return (
                  bo(function () {
                    for (
                      var r,
                        n = (function (e) {
                          if (kr(e) || qo(e)) return e;
                          if (Array.isArray(e)) return new Map(e);
                          if (Er(e)) {
                            var t = new Map();
                            for (var r in e) t.set(r, e[r]);
                            return t;
                          }
                          return hr(21, e);
                        })(e),
                        i = new Map(),
                        o = !1,
                        s = Xr(t.data_.keys());
                      !(r = s()).done;

                    ) {
                      var a = r.value;
                      if (!n.has(a))
                        if (t.delete(a)) o = !0;
                        else {
                          var u = t.data_.get(a);
                          i.set(a, u);
                        }
                    }
                    for (var l, c = Xr(n.entries()); !(l = c()).done; ) {
                      var d = l.value,
                        f = d[0],
                        p = d[1],
                        h = t.data_.has(f);
                      if ((t.set(f, p), t.data_.has(f))) {
                        var v = t.data_.get(f);
                        i.set(f, v), h || (o = !0);
                      }
                    }
                    if (!o)
                      if (t.data_.size !== i.size) t.keysAtom_.reportChanged();
                      else
                        for (
                          var g = t.data_.keys(),
                            m = i.keys(),
                            b = g.next(),
                            y = m.next();
                          !b.done;

                        ) {
                          if (b.value !== y.value) {
                            t.keysAtom_.reportChanged();
                            break;
                          }
                          (b = g.next()), (y = m.next());
                        }
                    t.data_ = i;
                  }),
                  this
                );
              }),
              (t.toString = function () {
                return "[object ObservableMap]";
              }),
              (t.toJSON = function () {
                return Array.from(this);
              }),
              (t.observe_ = function (e, t) {
                return Co(this, e);
              }),
              (t.intercept_ = function (e) {
                return Po(this, e);
              }),
              Kr(e, [
                {
                  key: "size",
                  get: function () {
                    return this.keysAtom_.reportObserved(), this.data_.size;
                  },
                },
                {
                  key: Bo,
                  get: function () {
                    return "Map";
                  },
                },
              ]),
              e
            );
          })(),
          qo = Ur("ObservableMap", Ho);
        var zo = {};
        (Go = Symbol.iterator), (Jo = Symbol.toStringTag);
        var Xo = (function () {
            function e(e, t, r) {
              var n = this;
              void 0 === t && (t = an),
                void 0 === r && (r = "ObservableSet"),
                (this.name_ = void 0),
                (this[tn] = zo),
                (this.data_ = new Set()),
                (this.atom_ = void 0),
                (this.changeListeners_ = void 0),
                (this.interceptors_ = void 0),
                (this.dehancer = void 0),
                (this.enhancer_ = void 0),
                (this.name_ = r),
                Mr(Set) || hr(22),
                (this.enhancer_ = function (e, n) {
                  return t(e, n, r);
                }),
                ws(function () {
                  (n.atom_ = on(n.name_)), e && n.replace(e);
                });
            }
            var t = e.prototype;
            return (
              (t.dehanceValue_ = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (t.clear = function () {
                var e = this;
                bo(function () {
                  bi(function () {
                    for (var t, r = Xr(e.data_.values()); !(t = r()).done; ) {
                      var n = t.value;
                      e.delete(n);
                    }
                  });
                });
              }),
              (t.forEach = function (e, t) {
                for (var r, n = Xr(this); !(r = n()).done; ) {
                  var i = r.value;
                  e.call(t, i, i, this);
                }
              }),
              (t.add = function (e) {
                var t = this;
                if (
                  (this.atom_, wo(this)) &&
                  !So(this, { type: Wo, object: this, newValue: e })
                )
                  return this;
                if (!this.has(e)) {
                  bo(function () {
                    t.data_.add(t.enhancer_(e, void 0)),
                      t.atom_.reportChanged();
                  });
                  var r = !1,
                    n = Io(this),
                    i = n
                      ? {
                          observableKind: "set",
                          debugObjectName: this.name_,
                          type: Wo,
                          object: this,
                          newValue: e,
                        }
                      : null;
                  r, n && Ao(this, i);
                }
                return this;
              }),
              (t.delete = function (e) {
                var t = this;
                if (
                  wo(this) &&
                  !So(this, { type: Ko, object: this, oldValue: e })
                )
                  return !1;
                if (this.has(e)) {
                  var r = Io(this),
                    n = r
                      ? {
                          observableKind: "set",
                          debugObjectName: this.name_,
                          type: Ko,
                          object: this,
                          oldValue: e,
                        }
                      : null;
                  return (
                    bo(function () {
                      t.atom_.reportChanged(), t.data_.delete(e);
                    }),
                    r && Ao(this, n),
                    !0
                  );
                }
                return !1;
              }),
              (t.has = function (e) {
                return (
                  this.atom_.reportObserved(),
                  this.data_.has(this.dehanceValue_(e))
                );
              }),
              (t.entries = function () {
                var e = 0,
                  t = Array.from(this.keys()),
                  r = Array.from(this.values());
                return As({
                  next: function () {
                    var n = e;
                    return (
                      (e += 1),
                      n < r.length
                        ? { value: [t[n], r[n]], done: !1 }
                        : { done: !0 }
                    );
                  },
                });
              }),
              (t.keys = function () {
                return this.values();
              }),
              (t.values = function () {
                this.atom_.reportObserved();
                var e = this,
                  t = 0,
                  r = Array.from(this.data_.values());
                return As({
                  next: function () {
                    return t < r.length
                      ? { value: e.dehanceValue_(r[t++]), done: !1 }
                      : { done: !0 };
                  },
                });
              }),
              (t.replace = function (e) {
                var t = this;
                return (
                  Yo(e) && (e = new Set(e)),
                  bo(function () {
                    Array.isArray(e) || Lr(e)
                      ? (t.clear(),
                        e.forEach(function (e) {
                          return t.add(e);
                        }))
                      : null != e && hr("Cannot initialize set from " + e);
                  }),
                  this
                );
              }),
              (t.observe_ = function (e, t) {
                return Co(this, e);
              }),
              (t.intercept_ = function (e) {
                return Po(this, e);
              }),
              (t.toJSON = function () {
                return Array.from(this);
              }),
              (t.toString = function () {
                return "[object ObservableSet]";
              }),
              (t[Go] = function () {
                return this.values();
              }),
              Kr(e, [
                {
                  key: "size",
                  get: function () {
                    return this.atom_.reportObserved(), this.data_.size;
                  },
                },
                {
                  key: Jo,
                  get: function () {
                    return "Set";
                  },
                },
              ]),
              e
            );
          })(),
          Yo = Ur("ObservableSet", Xo),
          Zo = Object.create(null),
          Qo = "remove",
          es = (function () {
            function e(e, t, r, n) {
              void 0 === t && (t = new Map()),
                void 0 === n && (n = Rn),
                (this.target_ = void 0),
                (this.values_ = void 0),
                (this.name_ = void 0),
                (this.defaultAnnotation_ = void 0),
                (this.keysAtom_ = void 0),
                (this.changeListeners_ = void 0),
                (this.interceptors_ = void 0),
                (this.proxy_ = void 0),
                (this.isPlainObject_ = void 0),
                (this.appliedAnnotations_ = void 0),
                (this.pendingKeys_ = void 0),
                (this.target_ = e),
                (this.values_ = t),
                (this.name_ = r),
                (this.defaultAnnotation_ = n),
                (this.keysAtom_ = new rn("ObservableObject.keys")),
                (this.isPlainObject_ = Er(this.target_));
            }
            var t = e.prototype;
            return (
              (t.getObservablePropValue_ = function (e) {
                return this.values_.get(e).get();
              }),
              (t.setObservablePropValue_ = function (e, t) {
                var r = this.values_.get(e);
                if (r instanceof ci) return r.set(t), !0;
                if (wo(this)) {
                  var n = So(this, {
                    type: Ro,
                    object: this.proxy_ || this.target_,
                    name: e,
                    newValue: t,
                  });
                  if (!n) return null;
                  t = n.newValue;
                }
                if ((t = r.prepareNewValue_(t)) !== xi.UNCHANGED) {
                  var i = Io(this),
                    o = i
                      ? {
                          type: Ro,
                          observableKind: "object",
                          debugObjectName: this.name_,
                          object: this.proxy_ || this.target_,
                          oldValue: r.value_,
                          name: e,
                          newValue: t,
                        }
                      : null;
                  0, r.setNewValue_(t), i && Ao(this, o);
                }
                return !0;
              }),
              (t.get_ = function (e) {
                return (
                  xi.trackingDerivation && !Vr(this.target_, e) && this.has_(e),
                  this.target_[e]
                );
              }),
              (t.set_ = function (e, t, r) {
                return (
                  void 0 === r && (r = !1),
                  Vr(this.target_, e)
                    ? this.values_.has(e)
                      ? this.setObservablePropValue_(e, t)
                      : r
                      ? Reflect.set(this.target_, e, t)
                      : ((this.target_[e] = t), !0)
                    : this.extend_(
                        e,
                        {
                          value: t,
                          enumerable: !0,
                          writable: !0,
                          configurable: !0,
                        },
                        this.defaultAnnotation_,
                        r
                      )
                );
              }),
              (t.has_ = function (e) {
                if (!xi.trackingDerivation) return e in this.target_;
                this.pendingKeys_ || (this.pendingKeys_ = new Map());
                var t = this.pendingKeys_.get(e);
                return (
                  t ||
                    ((t = new ai(
                      e in this.target_,
                      un,
                      "ObservableObject.key?",
                      !1
                    )),
                    this.pendingKeys_.set(e, t)),
                  t.get()
                );
              }),
              (t.make_ = function (e, t) {
                if ((!0 === t && (t = this.defaultAnnotation_), !1 !== t)) {
                  if ((ss(this, t, e), !(e in this.target_))) {
                    var r;
                    if (null != (r = this.target_[Yr]) && r[e]) return;
                    hr(1, t.annotationType_, this.name_ + "." + e.toString());
                  }
                  for (var n = this.target_; n && n !== _r; ) {
                    var i = br(n, e);
                    if (i) {
                      var o = t.make_(this, e, i, n);
                      if (0 === o) return;
                      if (1 === o) break;
                    }
                    n = Object.getPrototypeOf(n);
                  }
                  os(this, t, e);
                }
              }),
              (t.extend_ = function (e, t, r, n) {
                if (
                  (void 0 === n && (n = !1),
                  !0 === r && (r = this.defaultAnnotation_),
                  !1 === r)
                )
                  return this.defineProperty_(e, t, n);
                ss(this, r, e);
                var i = r.extend_(this, e, t, n);
                return i && os(this, r, e), i;
              }),
              (t.defineProperty_ = function (e, t, r) {
                void 0 === r && (r = !1), this.keysAtom_;
                try {
                  Ei();
                  var n = this.delete_(e);
                  if (!n) return n;
                  if (wo(this)) {
                    var i = So(this, {
                      object: this.proxy_ || this.target_,
                      name: e,
                      type: Wo,
                      newValue: t.value,
                    });
                    if (!i) return null;
                    var o = i.newValue;
                    t.value !== o && (t = Gr({}, t, { value: o }));
                  }
                  if (r) {
                    if (!Reflect.defineProperty(this.target_, e, t)) return !1;
                  } else yr(this.target_, e, t);
                  this.notifyPropertyAddition_(e, t.value);
                } finally {
                  Ni();
                }
                return !0;
              }),
              (t.defineObservableProperty_ = function (e, t, r, n) {
                void 0 === n && (n = !1), this.keysAtom_;
                try {
                  Ei();
                  var i = this.delete_(e);
                  if (!i) return i;
                  if (wo(this)) {
                    var o = So(this, {
                      object: this.proxy_ || this.target_,
                      name: e,
                      type: Wo,
                      newValue: t,
                    });
                    if (!o) return null;
                    t = o.newValue;
                  }
                  var s = ns(e),
                    a = {
                      configurable: !xi.safeDescriptors || this.isPlainObject_,
                      enumerable: !0,
                      get: s.get,
                      set: s.set,
                    };
                  if (n) {
                    if (!Reflect.defineProperty(this.target_, e, a)) return !1;
                  } else yr(this.target_, e, a);
                  var u = new ai(t, r, "ObservableObject.key", !1);
                  this.values_.set(e, u),
                    this.notifyPropertyAddition_(e, u.value_);
                } finally {
                  Ni();
                }
                return !0;
              }),
              (t.defineComputedProperty_ = function (e, t, r) {
                void 0 === r && (r = !1), this.keysAtom_;
                try {
                  Ei();
                  var n = this.delete_(e);
                  if (!n) return n;
                  if (wo(this))
                    if (
                      !So(this, {
                        object: this.proxy_ || this.target_,
                        name: e,
                        type: Wo,
                        newValue: void 0,
                      })
                    )
                      return null;
                  t.name || (t.name = "ObservableObject.key"),
                    (t.context = this.proxy_ || this.target_);
                  var i = ns(e),
                    o = {
                      configurable: !xi.safeDescriptors || this.isPlainObject_,
                      enumerable: !1,
                      get: i.get,
                      set: i.set,
                    };
                  if (r) {
                    if (!Reflect.defineProperty(this.target_, e, o)) return !1;
                  } else yr(this.target_, e, o);
                  this.values_.set(e, new ci(t)),
                    this.notifyPropertyAddition_(e, void 0);
                } finally {
                  Ni();
                }
                return !0;
              }),
              (t.delete_ = function (e, t) {
                if (
                  (void 0 === t && (t = !1),
                  this.keysAtom_,
                  !Vr(this.target_, e))
                )
                  return !0;
                if (
                  wo(this) &&
                  !So(this, {
                    object: this.proxy_ || this.target_,
                    name: e,
                    type: Qo,
                  })
                )
                  return null;
                try {
                  var r, n;
                  Ei();
                  var i,
                    o = Io(this),
                    s = this.values_.get(e),
                    a = void 0;
                  if (!s && o)
                    a = null == (i = br(this.target_, e)) ? void 0 : i.value;
                  if (t) {
                    if (!Reflect.deleteProperty(this.target_, e)) return !1;
                  } else delete this.target_[e];
                  if (
                    (s &&
                      (this.values_.delete(e),
                      s instanceof ai && (a = s.value_),
                      Ti(s)),
                    this.keysAtom_.reportChanged(),
                    null == (r = this.pendingKeys_) ||
                      null == (n = r.get(e)) ||
                      n.set(e in this.target_),
                    o)
                  ) {
                    var u = {
                      type: Qo,
                      observableKind: "object",
                      object: this.proxy_ || this.target_,
                      debugObjectName: this.name_,
                      oldValue: a,
                      name: e,
                    };
                    0, o && Ao(this, u);
                  }
                } finally {
                  Ni();
                }
                return !0;
              }),
              (t.observe_ = function (e, t) {
                return Co(this, e);
              }),
              (t.intercept_ = function (e) {
                return Po(this, e);
              }),
              (t.notifyPropertyAddition_ = function (e, t) {
                var r,
                  n,
                  i = Io(this);
                if (i) {
                  var o = i
                    ? {
                        type: Wo,
                        observableKind: "object",
                        debugObjectName: this.name_,
                        object: this.proxy_ || this.target_,
                        name: e,
                        newValue: t,
                      }
                    : null;
                  0, i && Ao(this, o);
                }
                null == (r = this.pendingKeys_) ||
                  null == (n = r.get(e)) ||
                  n.set(!0),
                  this.keysAtom_.reportChanged();
              }),
              (t.ownKeys_ = function () {
                return this.keysAtom_.reportObserved(), Br(this.target_);
              }),
              (t.keys_ = function () {
                return (
                  this.keysAtom_.reportObserved(), Object.keys(this.target_)
                );
              }),
              e
            );
          })();
        function ts(e, t) {
          var r;
          if (Vr(e, tn)) return e;
          var n =
              null != (r = null == t ? void 0 : t.name)
                ? r
                : "ObservableObject",
            i = new es(
              e,
              new Map(),
              String(n),
              (function (e) {
                var t;
                return e
                  ? null != (t = e.defaultDecorator)
                    ? t
                    : On(e)
                  : void 0;
              })(t)
            );
          return Dr(e, tn, i), e;
        }
        var rs = Ur("ObservableObjectAdministration", es);
        function ns(e) {
          return (
            Zo[e] ||
            (Zo[e] = {
              get: function () {
                return this[tn].getObservablePropValue_(e);
              },
              set: function (t) {
                return this[tn].setObservablePropValue_(e, t);
              },
            })
          );
        }
        function is(e) {
          return !!Or(e) && rs(e[tn]);
        }
        function os(e, t, r) {
          var n;
          null == (n = e.target_[Yr]) || delete n[r];
        }
        function ss(e, t, r) {}
        var as,
          us,
          ls = hs(0),
          cs = (function () {
            var e = !1,
              t = {};
            return (
              Object.defineProperty(t, "0", {
                set: function () {
                  e = !0;
                },
              }),
              (Object.create(t)[0] = 1),
              !1 === e
            );
          })(),
          ds = 0,
          fs = function () {};
        (as = fs),
          (us = Array.prototype),
          Object.setPrototypeOf
            ? Object.setPrototypeOf(as.prototype, us)
            : void 0 !== as.prototype.__proto__
            ? (as.prototype.__proto__ = us)
            : (as.prototype = us);
        var ps = (function (e, t, r) {
          function n(t, r, n, i) {
            var o;
            return (
              void 0 === n && (n = "ObservableArray"),
              void 0 === i && (i = !1),
              (o = e.call(this) || this),
              ws(function () {
                var e = new Eo(n, r, i, !0);
                (e.proxy_ = qr(o)),
                  Tr(qr(o), tn, e),
                  t && t.length && o.spliceWithArray(0, 0, t),
                  cs && Object.defineProperty(qr(o), "0", ls);
              }),
              o
            );
          }
          Jr(n, e);
          var i = n.prototype;
          return (
            (i.concat = function () {
              this[tn].atom_.reportObserved();
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return Array.prototype.concat.apply(
                this.slice(),
                t.map(function (e) {
                  return Vo(e) ? e.slice() : e;
                })
              );
            }),
            (i[r] = function () {
              var e = this,
                t = 0;
              return As({
                next: function () {
                  return t < e.length
                    ? { value: e[t++], done: !1 }
                    : { done: !0, value: void 0 };
                },
              });
            }),
            Kr(n, [
              {
                key: "length",
                get: function () {
                  return this[tn].getArrayLength_();
                },
                set: function (e) {
                  this[tn].setArrayLength_(e);
                },
              },
              {
                key: t,
                get: function () {
                  return "Array";
                },
              },
            ]),
            n
          );
        })(fs, Symbol.toStringTag, Symbol.iterator);
        function hs(e) {
          return {
            enumerable: !1,
            configurable: !0,
            get: function () {
              return this[tn].get_(e);
            },
            set: function (t) {
              this[tn].set_(e, t);
            },
          };
        }
        function vs(e) {
          yr(ps.prototype, "" + e, hs(e));
        }
        function gs(e) {
          if (e > ds) {
            for (var t = ds; t < e + 100; t++) vs(t);
            ds = e;
          }
        }
        function ms(e, t, r) {
          return new ps(e, t, r);
        }
        function bs(e, t) {
          if ("object" == typeof e && null !== e) {
            if (Vo(e)) return void 0 !== t && hr(23), e[tn].atom_;
            if (Yo(e)) return e.atom_;
            if (qo(e)) {
              if (void 0 === t) return e.keysAtom_;
              var r = e.data_.get(t) || e.hasMap_.get(t);
              return r || hr(25, t, _s(e)), r;
            }
            if (is(e)) {
              if (!t) return hr(26);
              var n = e[tn].values_.get(t);
              return n || hr(27, t, _s(e)), n;
            }
            if (nn(e) || di(e) || Fi(e)) return e;
          } else if (Mr(e) && Fi(e[tn])) return e[tn];
          hr(28);
        }
        function ys(e, t) {
          return (
            e || hr(29),
            void 0 !== t
              ? ys(bs(e, t))
              : nn(e) || di(e) || Fi(e) || qo(e) || Yo(e)
              ? e
              : e[tn]
              ? e[tn]
              : void hr(24, e)
          );
        }
        function _s(e, t) {
          var r;
          if (void 0 !== t) r = bs(e, t);
          else {
            if (Yi(e)) return e.name;
            r = is(e) || qo(e) || Yo(e) ? ys(e) : bs(e);
          }
          return r.name_;
        }
        function ws(e) {
          var t = yi(),
            r = ii(!0);
          Ei();
          try {
            return e();
          } finally {
            Ni(), oi(r), _i(t);
          }
        }
        Object.entries(Do).forEach(function (e) {
          var t = e[0],
            r = e[1];
          "concat" !== t && Dr(ps.prototype, t, r);
        }),
          gs(1e3);
        var Ps = _r.toString;
        function Ss(e, t, r) {
          return void 0 === r && (r = -1), Is(e, t, r);
        }
        function Is(e, t, r, n, i) {
          if (e === t) return 0 !== e || 1 / e == 1 / t;
          if (null == e || null == t) return !1;
          if (e != e) return t != t;
          var o = typeof e;
          if ("function" !== o && "object" !== o && "object" != typeof t)
            return !1;
          var s = Ps.call(e);
          if (s !== Ps.call(t)) return !1;
          switch (s) {
            case "[object RegExp]":
            case "[object String]":
              return "" + e == "" + t;
            case "[object Number]":
              return +e != +e ? +t != +t : 0 == +e ? 1 / +e == 1 / t : +e == +t;
            case "[object Date]":
            case "[object Boolean]":
              return +e == +t;
            case "[object Symbol]":
              return (
                "undefined" != typeof Symbol &&
                Symbol.valueOf.call(e) === Symbol.valueOf.call(t)
              );
            case "[object Map]":
            case "[object Set]":
              r >= 0 && r++;
          }
          (e = Cs(e)), (t = Cs(t));
          var a = "[object Array]" === s;
          if (!a) {
            if ("object" != typeof e || "object" != typeof t) return !1;
            var u = e.constructor,
              l = t.constructor;
            if (
              u !== l &&
              !(Mr(u) && u instanceof u && Mr(l) && l instanceof l) &&
              "constructor" in e &&
              "constructor" in t
            )
              return !1;
          }
          if (0 === r) return !1;
          r < 0 && (r = -1), (i = i || []);
          for (var c = (n = n || []).length; c--; )
            if (n[c] === e) return i[c] === t;
          if ((n.push(e), i.push(t), a)) {
            if ((c = e.length) !== t.length) return !1;
            for (; c--; ) if (!Is(e[c], t[c], r - 1, n, i)) return !1;
          } else {
            var d,
              f = Object.keys(e);
            if (((c = f.length), Object.keys(t).length !== c)) return !1;
            for (; c--; )
              if (!Vr(t, (d = f[c])) || !Is(e[d], t[d], r - 1, n, i)) return !1;
          }
          return n.pop(), i.pop(), !0;
        }
        function Cs(e) {
          return Vo(e)
            ? e.slice()
            : kr(e) || qo(e) || Lr(e) || Yo(e)
            ? Array.from(e.entries())
            : e;
        }
        function As(e) {
          return (e[Symbol.iterator] = xs), e;
        }
        function xs() {
          return this;
        }
        ["Symbol", "Map", "Set"].forEach(function (e) {
          void 0 === gr()[e] &&
            hr(
              "MobX requires global '" + e + "' to be available or polyfilled"
            );
        }),
          "object" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ &&
            __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
              spy: function (e) {
                return (
                  console.warn("[mobx.spy] Is a no-op in production builds"),
                  function () {}
                );
              },
              extras: { getDebugName: _s },
              $mobx: tn,
            });
        const Ms = (e) => e(Oe);
        class Rs {
          constructor(e, t, r) {
            (this.$w = e),
              (this.stateService = t),
              (this.experiments = r),
              Ft()(this, "menuItems", void 0),
              Ft()(this, "menuContext", void 0),
              (this.menuItems = ((e) => Ms(e).menuItems)(this.$w)),
              xo(this, { menuItems: Gn });
          }
          setNotificationsCount() {
            var e;
            if (!this.experiments.enabled(me.EnableNotifications)) return;
            const t =
                null == (e = this.stateService.notificationsCounter) ||
                null == (e = e.counters)
                  ? void 0
                  : e.find((e) => "notificationsCount" === e.key),
              r = null == t ? void 0 : t.count;
            this.$w(Oe).forEach((e) => {
              var t;
              null != (t = e.navBarItems) &&
                t.length &&
                (e.navBarItems = [{ ...e.navBarItems[0], displayCount: r }]);
            });
          }
          bindMenuItems() {
            this.$w(Oe).menuItems = this.menuItems;
          }
          filterMenuItemsVisibleForRoles() {
            const { routes: e } = this.menuContext,
              { currentUserRoles: t } = this.menuContext;
            this.menuItems = this.menuItems.filter((r) => {
              var n;
              const i = ((e, t) =>
                e.find((e) => {
                  var r;
                  return null == (r = t.link) ? void 0 : r.includes(e.path);
                }))(e, r);
              return (
                null == i ||
                null == (n = i.vfr) ||
                !n.length ||
                ((e, t) => !t.length || e.some((e) => t.includes(e)))(t, i.vfr)
              );
            });
          }
        }
        const Os = ["{userName}", "my"];
        class Es extends Rs {
          constructor(e, t, r) {
            super(e, t, r), xo(this, { initializeMenuItems: zi });
          }
          initializeMenuItems(e) {
            if (
              ((this.menuContext = e),
              this.menuContext.cacheService.hasLoginMenuItems())
            )
              return (
                (this.menuItems =
                  this.menuContext.cacheService.getLoginMenuItems()),
                void this.bindMenuItems()
              );
            this.filterMenuItemsVisibleForRoles(),
              this.fillMenuItemsWithSlugs(),
              this.setNotificationsCount(),
              this.menuContext.cacheService.setLoginMenuItems(this.menuItems),
              this.bindMenuItems();
          }
          fillMenuItemsWithSlugs() {
            var e;
            const { currentUser: t } = this.menuContext,
              r =
                (null == t || null == (e = t.profile) ? void 0 : e.slug) ??
                (null == t ? void 0 : t.id);
            r &&
              (this.menuItems = this.menuItems.map((e) =>
                this.updateMenuItemWithMemberSlug(e, r)
              ));
          }
          updateMenuItemWithMemberSlug(e, t) {
            const r = this.getSlugPlaceholderFromMenuItem(e);
            return this.isValidSlugPlaceholder(r)
              ? this.replaceLinkInMenuItem(e, t)
              : e;
          }
          isValidSlugPlaceholder(e) {
            return Os.includes(e);
          }
          replaceLinkInMenuItem(e, t) {
            const r = this.getMemberPageRelativePathItemsFromMenuItem(e);
            if (!r.length) return e;
            const n = e.link.replace(
              r.join("/"),
              this.getMemberPageRelativePathWithMemberSlug(r, t)
            );
            return { ...e, link: n };
          }
          getMemberPageRelativePathWithMemberSlug(e, t) {
            return e.map((e, r) => (1 === r ? t : e)).join("/");
          }
          getSlugPlaceholderFromMenuItem(e) {
            return this.getMemberPageRelativePathItemsFromMenuItem(e)[1] ?? "";
          }
          getMemberPageRelativePathItemsFromMenuItem(e) {
            const { membersAreaPagePrefix: t } = this.menuContext,
              r = e.link.indexOf(t);
            return e.link.slice(r).split("/");
          }
        }
        class Ns {
          constructor(e, t) {
            (this.contextProps = e),
              (this.contextServices = t),
              Ft()(this, "routes", []),
              Ft()(this, "currentUser", null),
              Ft()(this, "currentUserRoles", []),
              Ft()(this, "notificationsCounter", null),
              (this.contextProps = e),
              (this.contextServices = t),
              xo(this, {
                routes: Gn,
                currentUser: Gn,
                currentUserRoles: Gn,
                notificationsCounter: Gn,
                fetchCurrentUser: zi,
                fetchCurrentUserRoles: zi,
                fetchRouteConfigurations: zi,
                fetchNotificationsCounters: zi,
              });
          }
          async fetchCurrentUser() {
            const { cacheService: e, currentUserService: t } =
              this.contextServices;
            e.hasCurrentUser()
              ? (this.currentUser = e.getCurrentUser())
              : ((this.currentUser = await t.getCurrentUser()),
                e.setCurrentUser(this.currentUser));
          }
          async fetchCurrentUserRoles() {
            var e;
            const { cacheService: t, rolesService: r } = this.contextServices;
            t.hasRoles()
              ? (this.currentUserRoles = t.getRoles())
              : ((this.currentUserRoles = await r.getMemberRoles(
                  (null == (e = this.currentUser) ? void 0 : e.id) ?? null
                )),
                t.setRoles(this.currentUserRoles));
          }
          async fetchRouteConfigurations() {
            var e, t;
            const { experiments: r } = this.contextProps.flowAPI,
              { cacheService: n } = this.contextServices;
            if (n.hasRoutes()) return void (this.routes = n.getRoutes());
            const i = At.getGlobalControllerConfig(),
              o = r.enabled(me.EnablePublicAppData),
              s = null == i ? void 0 : i.appParams,
              a = null == i || null == (e = i.config) ? void 0 : e.routes,
              u = o
                ? null == s || null == (t = s.publicData) || null == (t = t.APP)
                  ? void 0
                  : t.routes
                : void 0;
            (this.routes = u ?? a ?? []), n.setRoutes(this.routes);
          }
          async fetchNotificationsCounters() {
            var e, t;
            const {
              controllerConfig: r,
              essentials: n,
              experiments: i,
            } = this.contextProps.flowAPI;
            if (!i.enabled(me.EnableNotifications)) return;
            const o = await wt({
              memberId: null == (e = this.currentUser) ? void 0 : e.contactId,
              httpClient: n.httpClient,
              metaSiteId:
                null == (t = r.platformAPIs.bi) ? void 0 : t.metaSiteId,
              flowAPI: this.contextProps.flowAPI,
            });
            this.notificationsCounter = o;
          }
        }
        class Ds extends Ns {
          constructor(e, t) {
            super(e, t),
              Ft()(this, "membersAreaPagePrefix", ""),
              xo(this, {
                membersAreaPagePrefix: Gn,
                fetchMembersAreaPagePrefix: zi,
                fetchInitialData: zi,
              });
          }
          async fetchMembersAreaPagePrefix() {
            const { pageService: e } = this.contextServices,
              t = await e.getMembersAreaPagePrefix();
            this.membersAreaPagePrefix = t.replace("/", "");
          }
          async fetchInitialData() {
            const { isSSR: e } = this.contextProps.flowAPI.environment;
            if (e) {
              await this.fetchDataWrapper();
              const {
                currentUser: e,
                currentUserRoles: t,
                routes: r,
                membersAreaPagePrefix: n,
                notificationsCounter: i,
              } = this;
              return this.contextServices.warmupDataService.setData(
                Ie,
                JSON.stringify({
                  currentUser: e,
                  currentUserRoles: t,
                  routes: r,
                  membersAreaPagePrefix: n,
                  notificationsCounter: i,
                })
              );
            }
            const t = this.contextServices.warmupDataService.getData(Ie),
              r = t ? JSON.parse(t) : null;
            return r
              ? ((this.currentUser = r.currentUser),
                (this.currentUserRoles = r.currentUserRoles),
                (this.routes = r.routes),
                (this.membersAreaPagePrefix = r.membersAreaPagePrefix),
                void (this.notificationsCounter = r.notificationsCounter))
              : this.fetchDataWrapper();
          }
          async fetchDataWrapper() {
            await this.fetchCurrentUser(),
              await Promise.all([
                this.fetchRouteConfigurations(),
                this.fetchCurrentUserRoles(),
                this.fetchMembersAreaPagePrefix(),
                this.fetchNotificationsCounters(),
              ]);
          }
        }
        class Ts {
          constructor(e) {
            this.siteAPI = e;
          }
          async getMembersAreaPagePrefix() {
            const { prefixes: e } = await this.siteAPI.getSiteStructure(),
              t = e.find((e) => {
                let { applicationId: t } = e;
                return t === be.rH;
              });
            if (!t)
              throw new Error(
                "Error: missing members area page - failed to find prefix"
              );
            return t.prefix;
          }
        }
        var Us,
          ks,
          Ls,
          js,
          Bs,
          Fs,
          Vs,
          $s,
          Ws,
          Ks = {},
          Gs = { member: "_member" },
          Js = {
            createdDate: "google.protobuf.Timestamp",
            updatedDate: "google.protobuf.Timestamp",
            lastLoginDate: "google.protobuf.Timestamp",
          };
        function Hs(e) {
          return Fe(
            Object.assign(e, {
              domainToMappings: {
                "www.wixapis.com": [
                  { srcPath: "/members/v1/members", destPath: "/v1/members" },
                ],
                "api._api_base_domain_": [
                  { srcPath: "/members-ng-api", destPath: "" },
                ],
                "www._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "manage._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "editor._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "blocks._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "create.editorx": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "editor.wixapps.net": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "*.dev.wix-code.com": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "bo._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                _: [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "members.wixapps.net": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
              },
            })
          );
        }
        !(function (e) {
          (e.UNKNOWN = "UNKNOWN"),
            (e.PENDING = "PENDING"),
            (e.APPROVED = "APPROVED"),
            (e.BLOCKED = "BLOCKED"),
            (e.OFFLINE = "OFFLINE");
        })(Us || (Us = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"),
              (e.PRIVATE = "PRIVATE"),
              (e.PUBLIC = "PUBLIC");
          })(ks || (ks = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"), (e.ACTIVE = "ACTIVE"), (e.MUTED = "MUTED");
          })(Ls || (Ls = {})),
          (function (e) {
            (e.PUBLIC = "PUBLIC"), (e.EXTENDED = "EXTENDED"), (e.FULL = "FULL");
          })(js || (js = {})),
          (function (e) {
            (e.ASC = "ASC"), (e.DESC = "DESC");
          })(Bs || (Bs = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"),
              (e.ENABLED = "ENABLED"),
              (e.DISABLED = "DISABLED"),
              (e.PENDING = "PENDING"),
              (e.DEMO = "DEMO");
          })(Fs || (Fs = {})),
          (function (e) {
            (e.OTHER = "OTHER"),
              (e.FROM_TEMPLATE = "FROM_TEMPLATE"),
              (e.DUPLICATE_BY_SITE_TRANSFER = "DUPLICATE_BY_SITE_TRANSFER"),
              (e.DUPLICATE = "DUPLICATE"),
              (e.OLD_SITE_TRANSFER = "OLD_SITE_TRANSFER"),
              (e.FLASH = "FLASH");
          })(Vs || (Vs = {})),
          (function (e) {
            (e.UNKNOWN_NAMESPACE = "UNKNOWN_NAMESPACE"),
              (e.WIX = "WIX"),
              (e.SHOUT_OUT = "SHOUT_OUT"),
              (e.ALBUMS = "ALBUMS"),
              (e.WIX_STORES_TEST_DRIVE = "WIX_STORES_TEST_DRIVE"),
              (e.HOTELS = "HOTELS"),
              (e.CLUBS = "CLUBS"),
              (e.ONBOARDING_DRAFT = "ONBOARDING_DRAFT"),
              (e.DEV_SITE = "DEV_SITE"),
              (e.LOGOS = "LOGOS"),
              (e.VIDEO_MAKER = "VIDEO_MAKER"),
              (e.PARTNER_DASHBOARD = "PARTNER_DASHBOARD"),
              (e.DEV_CENTER_COMPANY = "DEV_CENTER_COMPANY"),
              (e.HTML_DRAFT = "HTML_DRAFT"),
              (e.SITELESS_BUSINESS = "SITELESS_BUSINESS"),
              (e.CREATOR_ECONOMY = "CREATOR_ECONOMY"),
              (e.DASHBOARD_FIRST = "DASHBOARD_FIRST"),
              (e.ANYWHERE = "ANYWHERE"),
              (e.HEADLESS = "HEADLESS"),
              (e.ACCOUNT_MASTER_CMS = "ACCOUNT_MASTER_CMS"),
              (e.RISE = "RISE"),
              (e.BRANDED_FIRST = "BRANDED_FIRST");
          })($s || ($s = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"),
              (e.TRASH = "TRASH"),
              (e.DELETED = "DELETED"),
              (e.PENDING_PURGE = "PENDING_PURGE");
          })(Ws || (Ws = {}));
        class qs {
          constructor(e) {
            this.httpClient = e;
          }
          async getCurrentUser() {
            const { data: e } = await this.httpClient.request(
              (function (e) {
                var t = Qe(Ks, {}),
                  r = t.toJSON,
                  n = t.fromJSON,
                  i = Qe(Gs, { _member: Js }).fromJSON;
                function o(t) {
                  var n = t.host,
                    o = r(e);
                  return {
                    entityFqdn: "wix.members.v1.member",
                    method: "GET",
                    methodFqn: "com.wixpress.members.api.Members.GetMyMember",
                    url: Hs({ protoPath: "/v1/members/my", data: o, host: n }),
                    params: We(o),
                    transformResponse: i,
                  };
                }
                return (o.fromReq = n), (o.__isAmbassador = !0), o;
              })({ fieldSet: js.FULL })
            );
            return e.member ?? null;
          }
        }
        class zs {
          constructor(e) {
            this.httpClient = e;
          }
          async getMemberRoles(e) {
            var t;
            const { data: r } = await this.httpClient.request(
              nt({ memberId: e })
            );
            return (
              (null == (t = r.roles)
                ? void 0
                : t.map((e) => {
                    var t;
                    return null == (t = e.roleKey)
                      ? void 0
                      : t.toLocaleLowerCase();
                  })) || []
            );
          }
        }
        class Xs {
          constructor(e, t, r) {
            (this.memoryStorage = e), (this.site = t), (this.appDefId = r);
          }
          hasCurrentUser() {
            const e = this.getCurrentUserCacheKey();
            return this.hasItemInStorage(e);
          }
          getCurrentUser() {
            const e = this.getCurrentUserCacheKey();
            return this.getItemFromStorage(e);
          }
          setCurrentUser(e) {
            const t = this.getCurrentUserCacheKey();
            return this.setItemToStorage(t, e);
          }
          hasRoles() {
            const e = this.getRolesCacheKey();
            return this.hasItemInStorage(e);
          }
          getRoles() {
            const e = this.getRolesCacheKey();
            return this.getItemFromStorage(e) ?? [];
          }
          setRoles(e) {
            const t = this.getRolesCacheKey();
            return this.setItemToStorage(t, e);
          }
          hasRoutes() {
            const e = this.getRoutesCacheKey();
            return this.hasItemInStorage(e);
          }
          getRoutes() {
            const e = this.getRoutesCacheKey();
            return this.getItemFromStorage(e) ?? [];
          }
          setRoutes(e) {
            const t = this.getRoutesCacheKey();
            return this.setItemToStorage(t, e);
          }
          hasLoginMenuItems() {
            const e = this.getLoginBarMenuCacheKey();
            return this.hasItemInStorage(e);
          }
          getLoginMenuItems() {
            const e = this.getLoginBarMenuCacheKey();
            return this.getItemFromStorage(e) ?? [];
          }
          setLoginMenuItems(e) {
            const t = this.getLoginBarMenuCacheKey();
            return this.setItemToStorage(t, e);
          }
          getRoutesCacheKey() {
            var e, t;
            return `members-routes-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          getRolesCacheKey() {
            var e, t;
            return `members-roles-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          getCurrentUserCacheKey() {
            var e, t;
            return `members-cu-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          getLoginBarMenuCacheKey() {
            var e, t;
            return `members-login-bar-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          hasItemInStorage(e) {
            return !!this.memoryStorage.getItem(e);
          }
          getItemFromStorage(e) {
            const t = this.memoryStorage.getItem(e);
            return t ? JSON.parse(t) : null;
          }
          setItemToStorage(e, t) {
            return this.memoryStorage.setItem(e, JSON.stringify(t));
          }
        }
        class Ys {
          constructor(e) {
            (this.viewerWarmupDataService = e), Ft()(this, "callMap", {});
          }
          getData(e) {
            if (this.callMap[e]) return null;
            const t = this.viewerWarmupDataService.get(e);
            return (this.callMap[e] = !0), t;
          }
          setData(e, t) {
            return this.viewerWarmupDataService.set(e, t);
          }
        }
        const Zs = (e) => {
            let {
              flowAPI: t,
              controllerConfig: {
                platformAPIs: r,
                wixCodeApi: n,
                appParams: i,
              },
            } = e;
            return {
              currentUserService: new qs(t.httpClient),
              rolesService: new zs(t.httpClient),
              cacheService: new Xs(r.storage.memory, n.site, i.appDefinitionId),
              warmupDataService: new Ys(n.window.warmupData),
            };
          },
          Qs = async (e) => {
            const { contextProps: t, contextServices: r } = ((e) => {
                const { flowAPI: t, controllerConfig: r } = e,
                  { wixCodeApi: n, appParams: i, $w: o } = r,
                  s = { $w: o, flowAPI: t, wixCodeApi: n, appParams: i },
                  {
                    currentUserService: a,
                    rolesService: u,
                    cacheService: l,
                    warmupDataService: c,
                  } = Zs({ flowAPI: t, controllerConfig: r }),
                  d = new Ts(n.site),
                  f = new Ds(s, {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    warmupDataService: c,
                    pageService: d,
                  });
                return {
                  contextProps: s,
                  contextServices: {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    menuService: new Es(o, f, t.experiments),
                    stateService: f,
                  },
                };
              })(e),
              { environment: n } = t.flowAPI,
              { user: i } = t.wixCodeApi,
              { stateService: o, cacheService: s, menuService: a } = r,
              u = i.currentUser.loggedIn && !n.isEditor;
            return {
              async pageReady() {
                u &&
                  (await o.fetchInitialData(),
                  a.initializeMenuItems({ ...o, cacheService: s })),
                  ((e, t) => {
                    e.wixCodeApi.user.onLogin(async () => {
                      await t.stateService.fetchInitialData(),
                        t.menuService.initializeMenuItems({
                          ...t.stateService,
                          cacheService: t.cacheService,
                        });
                    });
                  })(t, r),
                  At.setMembersLoginWidgets([
                    ...At.getMembersLoginWidgets(),
                    ...Ms(t.$w),
                  ]);
              },
            };
          };
        class ea extends Rs {
          constructor(e, t, r) {
            super(e, t, r), xo(this, { initializeMenuItems: zi });
          }
          initializeMenuItems(e) {
            if (
              ((this.menuContext = e),
              this.menuContext.cacheService.hasLoginMenuItems())
            )
              return (
                (this.menuItems =
                  this.menuContext.cacheService.getLoginMenuItems()),
                void this.bindMenuItems()
              );
            this.filterMenuItemsVisibleForRoles(),
              this.setNotificationsCount(),
              this.menuContext.cacheService.setLoginMenuItems(this.menuItems),
              this.bindMenuItems();
          }
        }
        class ta extends Ns {
          constructor(e, t) {
            super(e, t),
              (this.contextProps = e),
              (this.contextServices = t),
              xo(this, { fetchInitialData: zi });
          }
          async fetchInitialData() {
            const { isSSR: e } = this.contextProps.flowAPI.environment;
            if (e) {
              await this.fetchDataWrapper();
              const {
                currentUser: e,
                currentUserRoles: t,
                routes: r,
                notificationsCounter: n,
              } = this;
              return this.contextServices.warmupDataService.setData(
                Ie,
                JSON.stringify({
                  currentUser: e,
                  currentUserRoles: t,
                  routes: r,
                  notificationsCounter: n,
                })
              );
            }
            const t = this.contextServices.warmupDataService.getData(Ie),
              r = t ? JSON.parse(t) : null;
            return r
              ? ((this.currentUser = r.currentUser),
                (this.currentUserRoles = r.currentUserRoles),
                (this.routes = r.routes),
                void (this.notificationsCounter = r.notificationsCounter))
              : this.fetchDataWrapper();
          }
          async fetchDataWrapper() {
            await this.fetchCurrentUser(),
              await Promise.all([
                this.fetchRouteConfigurations(),
                this.fetchCurrentUserRoles(),
                this.fetchNotificationsCounters(),
              ]);
          }
        }
        const ra = async (e) => {
            const { contextProps: t, contextServices: r } = ((e) => {
                const { flowAPI: t, controllerConfig: r } = e,
                  { wixCodeApi: n, appParams: i, $w: o } = r,
                  s = { $w: o, flowAPI: t, wixCodeApi: n, appParams: i },
                  {
                    currentUserService: a,
                    rolesService: u,
                    cacheService: l,
                    warmupDataService: c,
                  } = Zs({ flowAPI: t, controllerConfig: r }),
                  d = new ta(s, {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    warmupDataService: c,
                  });
                return {
                  contextProps: s,
                  contextServices: {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    menuService: new ea(o, d, t.experiments),
                    stateService: d,
                  },
                };
              })(e),
              { environment: n } = t.flowAPI,
              { user: i } = t.wixCodeApi,
              { stateService: o, cacheService: s, menuService: a } = r,
              u = i.currentUser.loggedIn && !n.isEditor;
            return {
              async pageReady() {
                u &&
                  (await o.fetchInitialData(),
                  a.initializeMenuItems({ ...o, cacheService: s })),
                  ((e, t) => {
                    e.wixCodeApi.user.onLogin(async () => {
                      await t.stateService.fetchInitialData(),
                        t.menuService.initializeMenuItems({
                          ...t.stateService,
                          cacheService: t.cacheService,
                        });
                    });
                  })(t, r),
                  At.setMembersLoginWidgets([
                    ...At.getMembersLoginWidgets(),
                    ...Ms(t.$w),
                  ]);
              },
            };
          },
          na = async (e) => {
            let { controllerConfig: t, appData: r, flowAPI: n } = e;
            const {
                wixCodeApi: i,
                essentials: { httpClient: o },
              } = t,
              s = "Editor" === i.window.viewMode,
              a = t;
            return (
              or(a),
              {
                async pageReady() {
                  const e = await (null == r ? void 0 : r.initApplication());
                  i.user.onLogin((t) =>
                    at("onLogin", () => sr(t, o).then(() => nr(a, e)))()
                  ),
                    s
                      ? n.environment.isMobile && ar($w, i, e.parsedRouters)
                      : nr(a, e);
                },
              }
            );
          },
          ia = async (e) =>
            (
              await (async (e, t) => {
                const [r, n] = await Promise.all([
                  fr(e.controllerConfig.wixCodeApi),
                  dr(e.controllerConfig.wixCodeApi),
                ]);
                return r
                  ? ra
                  : n ||
                    ((e) => {
                      var t;
                      return null == e ||
                        null == (t = e.connections) ||
                        null == (t = t[0]) ||
                        null == (t = t.config)
                        ? void 0
                        : t.isMembersAreaV2;
                    })(t)
                  ? Qs
                  : na;
              })(e.flowAPI, e.controllerConfig)
            )(e),
          oa = async (e) => {
            let { controllerConfig: t, appData: r, flowAPI: n } = e;
            const {
                wixCodeApi: i,
                essentials: { httpClient: o },
                $w: s,
              } = t,
              a = "Editor" === i.window.viewMode,
              u = t;
            return (
              or(u),
              {
                async pageReady() {
                  const e = await (null == r ? void 0 : r.initApplication());
                  i.user.onLogin((t) =>
                    at("onLogin", () => sr(t, o).then(() => rr(u, e, n)))()
                  ),
                    a
                      ? n.environment.isMobile && ar(s, i, e.parsedRouters)
                      : rr(u, e, n);
                },
              }
            );
          },
          sa = (e, t, r) => {
            const n = new Ys(t.window.warmupData);
            let i = null;
            return {
              getAppData: () => (
                i ||
                  (i = (async function (e) {
                    let {
                      wixCodeApi: t,
                      appParams: r,
                      flowApi: n,
                      warmupDataService: i,
                    } = e;
                    const { httpClient: o } = n,
                      s = Xt.getCurrentUser(),
                      a = Xt.getRoles(),
                      u = Xt.getViewedUser(),
                      l = s.loggedIn && 0 === Object.keys(a).length,
                      c =
                        null == t.site.getAppToken
                          ? void 0
                          : t.site.getAppToken(r.appDefinitionId),
                      d = "backend" === t.window.rendering.env,
                      f = (r.appRouters || []).map((e) => ({
                        ...e,
                        config: JSON.parse(e.config),
                      })),
                      p = f.map((e) => e.config),
                      h = async () => {
                        const [e, r, n] = await Promise.all([
                          er(c, d, o),
                          l ? tr(c, o) : {},
                          Yt.getPermittedPagesMap($t(f), t.window.viewMode),
                        ]);
                        return { counters: e, roles: r, permittedPagesMap: n };
                      };
                    let v;
                    n.environment.isSSR
                      ? ((v = await h()), i.setData(Ie, v))
                      : (v = i.getData(Ie) || (await h()));
                    const { counters: g, roles: m, permittedPagesMap: b } = v;
                    l && Xt.setRoles(m);
                    const y = De(r),
                      _ = Xt.getRoles()[s.id] || [],
                      w = Xt.getRoles()[u.id] || [],
                      P = f.find((e) => "public" === e.config.type),
                      S = (null == P ? void 0 : P.prefix) ?? "";
                    return {
                      counters: g,
                      permittedPagesMap: b,
                      parsedRouters: f,
                      parsedRoutersConfigs: p,
                      parsedConfigItems: y,
                      currentUserRoles: _,
                      viewedUserRoles: w,
                      publicRouterPrefix: S,
                    };
                  })({
                    appParams: e,
                    wixCodeApi: t,
                    flowApi: r,
                    warmupDataService: n,
                  })),
                i
              ),
            };
          };
        var aa, ua, la;
        !(function (e) {
          (e.About = "about"),
            (e.MyAccount = "member_info"),
            (e.FollowingFollowers = "following_followers"),
            (e.MyRewards = "My Rewards"),
            (e.ForumPosts = "member-posts-page"),
            (e.ForumComments = "member-comments-page"),
            (e.Events = "events_members_page"),
            (e.BlogComments = "member-comments-page"),
            (e.BlogLikes = "member-likes-page"),
            (e.BlogPosts = "member-posts-page"),
            (e.BlogDrafts = "member-drafts-page"),
            (e.MyPosts = "My Posts"),
            (e.MyChallenges = "My Challenges"),
            (e.MyPrograms = "My Programs"),
            (e.MySubscriptions = "My Subscriptions"),
            (e.MyBookings = "bookings_member_area"),
            (e.Notifications = "notifications_app"),
            (e.MyAddresses = "my_addresses"),
            (e.MyOrders = "order_history"),
            (e.MyWallet = "my_wallet"),
            (e.Settings = "settings"),
            (e.SharedGallery = "Gallery"),
            (e.FileShare = "wix_file_share_members_page"),
            (e.MyWishlist = "wishlist"),
            (e.ContributorProfile = "contributor-profile"),
            (e.TestPublic = "test-vertical-public-widget"),
            (e.TestPrivate = "test-vertical-private-widget"),
            (e.ProfilePageBob = "test-profile-page-bob");
        })(aa || (aa = {})),
          (function (e) {
            (e.About = "14dbef06-cc42-5583-32a7-3abd44da4908"),
              (e.MyAccount = "14cffd81-5215-0a7f-22f8-074b0e2401fb"),
              (e.Members = "14dbefd2-01b4-fb61-32a7-3abd44da4908"),
              (e.Blog = "14bcded7-0066-7c35-14d7-466cb3f09103"),
              (e.FileShare = "1537b24e-29d1-6d8f-b8e1-d6860f2f70b9"),
              (e.Followers = "14ebe801-d78a-daa9-c9e5-0286a891e46f"),
              (e.Forum = "14724f35-6794-cd1a-0244-25fd138f9242"),
              (e.Addresses = "1505b775-e885-eb1b-b665-1e485d9bf90e"),
              (e.Bookings = "13d21c63-b5ec-5912-8397-c3a5ddb27a97"),
              (e.Events = "140603ad-af8d-84a5-2c80-a0f60cb47351"),
              (e.Stores = "1380b703-ce81-ff05-f115-39571d94dfcd"),
              (e.Wallet = "4aebd0cb-fbdb-4da7-b5d1-d05660a30172"),
              (e.Notifications = "14f25924-5664-31b2-9568-f9c5ed98c9b1"),
              (e.Settings = "14f25dc5-6af3-5420-9568-f9c5ed98c9b1"),
              (e.SharedGallery = "476dc2dd-e16e-43b0-a0aa-1a486c78fbe2"),
              (e.Subscriptions = "2bef2abe-7abe-43da-889c-53c1500a328c"),
              (e.ProfilePageBob = "b976560c-3122-4351-878f-453f337b7245"),
              (e.Programs = "2936472a-a1ed-4ae5-9f71-614313a9f4e7"),
              (e.Rewards = "16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6"),
              (e.TestVertical = "567d5e7e-4224-4488-a24b-d1ee5f691e54"),
              (e.ContributorProfile = "f9694946-7e53-4ab4-9cc7-21d275993d39");
          })(ua || (ua = {})),
          (function (e) {
            (e.About = "14dbefb9-3b7b-c4e9-53e8-766defd30587"),
              (e.MyAccount = "14dd1af6-3e02-63db-0ef2-72fbc7cc3136"),
              (e.MyRewards = "c85a2896-9f7c-4cf1-9bf8-95852cc5219a"),
              (e.ForumPosts = "14f0266c-e0a3-afc6-d07c-5be8e20949cd"),
              (e.ForumComments = "14f51b00-3ada-272e-b6db-34d5da9dd623"),
              (e.Events = "405eb115-a694-4e2b-abaa-e4762808bb93"),
              (e.FollowingFollowers = "14ebe825-b273-0d5f-0fd1-e6293322b83b"),
              (e.BlogComments = "14f260f9-c2eb-50e8-9b3c-4d21861fe58f"),
              (e.BlogLikes = "14f26109-514f-f9a8-9b3c-4d21861fe58f"),
              (e.BlogPosts = "14f26118-b65b-b1c1-b6db-34d5da9dd623"),
              (e.BlogDrafts = "14f260e4-ea13-f861-b0ba-4577df99b961"),
              (e.MyPosts = "e5a2773b-0e6b-4cbb-a012-3b4a69e92046"),
              (e.MyChallenges = "384628b7-c716-4410-8fc5-4e2bd5aad178"),
              (e.MyPrograms = "c88902a1-7fbf-4ff1-b19a-af39c48bc740"),
              (e.MySubscriptions = "b29db04a-a8f2-4bfe-bbad-21c99c1054b5"),
              (e.MyBookings = "14edb332-fdb9-2fe6-0fd1-e6293322b83b"),
              (e.Notifications = "14f2595a-a352-3ff1-9b3c-4d21861fe58f"),
              (e.Settings = "14f25dd2-f9b0-edc2-f38e-eded5da094aa"),
              (e.MyAddresses = "151290e1-62a2-0775-6fbc-02182fad5dec"),
              (e.MyOrders = "14e121c8-00a3-f7cc-6156-2c82a2ba8fcb"),
              (e.MyWallet = "6467c15e-af3c-4e8d-b167-41bfb8efc32a"),
              (e.SharedGallery = "11b7884b-eba1-4a47-b5c8-7afb395f966a"),
              (e.FileShare = "35a4cb97-c8cd-4ee9-ac3c-89c13c8493d6"),
              (e.TestPublic = "eed51e05-c783-4506-9fb3-0f5c47d6dea2"),
              (e.TestPrivate = "cc87eeb5-95a9-4f49-b7c3-5246eb39fee0"),
              (e.MyWishlist = "a63a5215-8aa6-42af-96b1-583bfd74cff5"),
              (e.ContributorProfile = ""),
              (e.ProfileCard = "14cefc05-d163-dbb7-e4ec-cd4f2c4d6ddd"),
              (e.ProfilePageBob = "596a6688-3ad7-46f7-bb9c-00023225876d");
          })(la || (la = {}));
        la.About,
          aa.About,
          ua.About,
          la.MyAccount,
          aa.MyAccount,
          ua.MyAccount,
          la.MyRewards,
          aa.MyRewards,
          ua.Rewards,
          la.ForumPosts,
          aa.ForumPosts,
          ua.Forum,
          la.ForumComments,
          aa.ForumComments,
          ua.Forum,
          la.Events,
          aa.Events,
          ua.Events,
          la.FollowingFollowers,
          aa.FollowingFollowers,
          ua.Followers,
          la.BlogComments,
          aa.BlogComments,
          ua.Blog,
          la.BlogLikes,
          aa.BlogLikes,
          ua.Blog,
          la.BlogPosts,
          aa.BlogPosts,
          ua.Blog,
          la.BlogDrafts,
          aa.BlogDrafts,
          ua.Blog,
          la.MyPosts,
          aa.MyPosts,
          ua.Blog,
          la.MyChallenges,
          aa.MyChallenges,
          ua.Programs,
          la.MyPrograms,
          aa.MyPrograms,
          ua.Programs,
          la.MySubscriptions,
          aa.MySubscriptions,
          ua.Subscriptions,
          la.MyBookings,
          aa.MyBookings,
          ua.Bookings,
          la.Notifications,
          aa.Notifications,
          ua.Notifications,
          la.MyAddresses,
          aa.MyAddresses,
          ua.Addresses,
          la.MyOrders,
          aa.MyOrders,
          ua.Stores,
          la.MyWishlist,
          aa.MyWishlist,
          ua.Stores,
          la.MyWallet,
          aa.MyWallet,
          ua.Wallet,
          la.Settings,
          aa.Settings,
          ua.Settings,
          la.SharedGallery,
          aa.SharedGallery,
          ua.SharedGallery,
          la.FileShare,
          aa.FileShare,
          ua.FileShare,
          la.TestPublic,
          aa.TestPublic,
          ua.TestVertical,
          la.TestPrivate,
          aa.TestPrivate,
          ua.TestVertical,
          la.ContributorProfile,
          aa.ContributorProfile,
          ua.ContributorProfile,
          la.ProfileCard,
          aa.MyAccount,
          ua.MyAccount,
          la.ProfilePageBob,
          aa.ProfilePageBob,
          ua.ProfilePageBob,
          la.About,
          la.MyAccount,
          be.xA,
          be.dn,
          la.BlogLikes,
          be.dn,
          la.BlogComments,
          be.dn,
          la.BlogPosts,
          la.ContributorProfile,
          la.FileShare,
          la.FollowingFollowers,
          be.tt,
          la.ForumComments,
          be.tt,
          la.ForumPosts,
          la.MyAddresses,
          be.DI,
          la.MyBookings,
          be.dn,
          la.BlogDrafts,
          be.dn,
          la.MyPosts,
          be.sV,
          la.Events,
          be.ZJ,
          la.MyOrders,
          la.MyWallet,
          be.ZJ,
          la.MyWishlist,
          be.wn,
          la.Notifications,
          la.Settings,
          la.SharedGallery,
          la.MySubscriptions,
          la.MyChallenges,
          la.MyPrograms,
          la.MyRewards,
          la.TestPublic,
          la.TestPrivate;
        var ca;
        !(function (e) {
          (e.Profile = "profile"),
            (e.Settings = "settings"),
            (e.Standalone = "standalone");
        })(ca || (ca = {}));
        class da {
          constructor(e, t, r, n) {
            (this.routes = e),
              (this.settingsRoutes = t),
              (this.location = r),
              (this.site = n);
          }
          async hasSocialPages(e, t) {
            const r = await this.getRoutes(e);
            if (!r.length) return Promise.resolve(!1);
            const n = r.some((e) => !e.private);
            return null == e || e(n), Promise.resolve(n);
          }
          async getRoutes(e) {
            return null == e || e(this.routes), Promise.resolve(this.routes);
          }
          async getSettingsRoutes(e) {
            return (
              null == e || e(this.settingsRoutes),
              Promise.resolve(this.settingsRoutes)
            );
          }
          async navigateToSection(e, t) {
            var r, n;
            let {
              memberId: i = "",
              tpaInnerRoute: o = "",
              widgetId: s,
              appDefinitionId: a,
            } = e;
            if (!s) {
              var u, l;
              const e = await this.getPageUrlByAppDefId(a, t);
              return (
                null == (u = (l = this.location).to) || u.call(l, e),
                Promise.resolve()
              );
            }
            const c = await this.findRouteByWidgetId(s, t);
            if (!c)
              throw (
                (null == t || t(Ce.CannotFindPageToNavigateTo),
                new Error(Ce.CannotFindPageToNavigateTo))
              );
            const d = await this.getMembersAreaSectionURL({
              suffix: c.path,
              memberId: i,
              tpaInnerRoute: o,
              onError: t,
            });
            var f, p;
            return s === la.FollowingFollowers
              ? (null == (f = (p = this.location).to) ||
                  f.call(p, `${this.location.baseUrl}${d}`),
                Promise.resolve())
              : (null == (r = (n = this.location).to) || r.call(n, d),
                Promise.resolve());
          }
          async navigateToMember(e, t) {
            let { memberId: r, memberSlug: n } = e;
            if (!r)
              throw (
                (null == t || t(Ce.MissingMemberId),
                new Error(Ce.MissingMemberId))
              );
            const i = await this.getNavigableHomePage(t);
            if (!i)
              throw (
                (null == t || t(Ce.CannotNavigateToMemberNoPublicPage),
                new Error(Ce.CannotNavigateToMemberNoPublicPage))
              );
            {
              var o, s;
              const e = await this.getMembersAreaSectionURL({
                suffix: i.suffix,
                memberId: n || r,
                onError: t,
              });
              null == (o = (s = this.location).to) || o.call(s, e);
            }
            return Promise.resolve();
          }
          async getNavigatableRoles(e) {
            const t = await this.getNavigableHomePage(e);
            if (t) {
              return {
                navigatableMembersRoles: t.visibleForRoles ?? [],
                isNavigationAllowed: !0,
              };
            }
            return { navigatableMembersRoles: [], isNavigationAllowed: !1 };
          }
          async getSectionUrl(e, t) {
            let {
              widgetId: r,
              memberId: n = "",
              memberSlug: i = "",
              tpaInnerRoute: o = "",
              appDefinitionId: s,
            } = e;
            if (!r) return this.getPageUrlByAppDefId(s, t);
            let a = this.location.baseUrl;
            "/" === a.slice(-1) && (a = a.slice(0, -1));
            const u = await this.findRouteByWidgetId(r, t);
            if (!u)
              throw (
                (null == t || t(`${Ce.RouteNotFound} ${r}`),
                new Error(`${Ce.RouteNotFound} ${r}`))
              );
            return `${a}${await this.getMembersAreaSectionURL({
              suffix: u.path,
              memberId: n,
              memberSlug: i,
              tpaInnerRoute: o,
              onError: t,
            })}`;
          }
          async getMemberPagePrefix(e, t, r) {
            return { prefix: await this.getMembersAreaPagePrefix(r) };
          }
          setNotificationCount(e) {
            return (
              At.getMembersLoginWidgets().forEach((t) => {
                var r;
                null != (r = t.navBarItems) &&
                  r.length &&
                  (t.navBarItems = [
                    { ...t.navBarItems[0], displayCount: e > 0 ? e : null },
                  ]);
              }),
              Promise.resolve()
            );
          }
          getIsMembersAreaSeoEnabled() {
            return Promise.resolve(!0);
          }
          async isAppSectionInstalled(e) {
            let { widgetId: t } = e;
            return !!(await this.findRouteByWidgetId(t));
          }
          async getPageUrlByAppDefId(e, t) {
            const { pages: r } = await this.getSiteStructure(),
              n = r.find((t) => t.applicationId === e && !t.prefix);
            if (null == n || !n.url)
              throw (
                (null == t || t(Ce.CannotFindPageToNavigateTo),
                new Error(Ce.CannotFindPageToNavigateTo))
              );
            return n.url;
          }
          async getNavigableHomePage(e) {
            const t = (await this.getRoutes()).filter((e) => !e.private);
            if (!t.length) return;
            const r = t.find((e) => e.home),
              n = await this.getMembersAreaPagePrefix(e);
            if (r) return { prefix: n, suffix: r.path, visibleForRoles: r.vfr };
            {
              const e = t[0];
              return { prefix: n, suffix: e.path, visibleForRoles: e.vfr };
            }
          }
          getSiteStructure() {
            return this.site.getSiteStructure();
          }
          async getMembersAreaPagePrefix(e) {
            const { prefixes: t } = await this.getSiteStructure(),
              r = t.find((e) => {
                let { applicationId: t } = e;
                return t === _e;
              });
            if (!r)
              throw (
                (null == e || e(Ce.MissingMembersAreaPage),
                new Error(Ce.MissingMembersAreaPage))
              );
            return r.prefix;
          }
          async getMembersAreaSectionURL(e) {
            let {
              suffix: t,
              memberId: r,
              memberSlug: n,
              tpaInnerRoute: i,
              onError: o,
            } = e;
            const s = r ? `/${n || r}/${t}` : `/${t}`,
              a = `${await this.getMembersAreaPagePrefix(o)}${s}`;
            if (!i) return a;
            return `${a}${
              "/" !== (null == i ? void 0 : i.charAt(0)) ? `/${i}` : i
            }`;
          }
          async findRouteByWidgetId(e, t) {
            return (await this.getRoutes()).find((t) => t.widgetId === e);
          }
        }
        const fa = () => At.getWixCodeAPI().site.getPublicAPI(_e),
          pa = () => {
            const e = (() => {
                var e;
                const t =
                    (null == (e = At.getGlobalControllerConfig()) ||
                    null == (e = e.config)
                      ? void 0
                      : e.routes) ?? [],
                  r = At.getRoutes();
                return r.length ? r : t;
              })(),
              t = At.getSettingsRoutes(),
              r = At.getWixCodeAPI();
            if (null == e || !e.length) throw new Error(Ce.MissingRoutes);
            if (!r) throw new Error(Ce.NotInitializedWixCodeApi);
            return new da(e, t, r.location, r.site);
          };
        class ha {
          constructor(e, t, r, n) {
            (this.routes = e),
              (this.settingsRoutes = t),
              (this.location = r),
              (this.site = n);
          }
          async hasSocialPages(e, t) {
            const r = (await this.getRoutes(e)).length > 0;
            return null == e || e(r), Promise.resolve(r);
          }
          async getRoutes(e) {
            return null == e || e(this.routes), Promise.resolve(this.routes);
          }
          async getSettingsRoutes(e) {
            return (
              null == e || e(this.settingsRoutes),
              Promise.resolve(this.settingsRoutes)
            );
          }
          async navigateToSection(e, t) {
            let {
              memberId: r = "",
              tpaInnerRoute: n = "",
              widgetId: i,
              appDefinitionId: o,
              sectionId: s,
            } = e;
            const a = await this.findRouteByWidgetId(i);
            return a
              ? this.navigateByRoute(
                  { routeData: a, memberId: r, tpaInnerRoute: n, widgetId: i },
                  t
                )
              : this.navigateByPagePath(
                  { appDefinitionId: o, sectionId: s },
                  t
                );
          }
          async navigateToMember(e, t) {
            let { memberId: r, memberSlug: n } = e;
            if (!r)
              throw (
                (null == t || t(Ce.MissingMemberId),
                new Error(Ce.MissingMemberId))
              );
            const i = await this.getNavigableHomePage(t);
            if (!i)
              throw (
                (null == t || t(Ce.CannotNavigateToMemberNoPublicPage),
                new Error(Ce.CannotNavigateToMemberNoPublicPage))
              );
            {
              var o, s;
              const e = await this.getMembersAreaSectionURL(
                { suffix: i.suffix, memberId: n || r },
                t
              );
              null == (o = (s = this.location).to) || o.call(s, e);
            }
            return Promise.resolve();
          }
          async getNavigatableRoles(e) {
            const t = await this.getNavigableHomePage(e);
            if (t) {
              return {
                navigatableMembersRoles: t.visibleForRoles ?? [],
                isNavigationAllowed: !0,
              };
            }
            return { navigatableMembersRoles: [], isNavigationAllowed: !1 };
          }
          async getSectionUrl(e, t) {
            let {
              appDefinitionId: r,
              sectionId: n,
              memberId: i,
              memberSlug: o,
              widgetId: s,
              tpaInnerRoute: a,
            } = e;
            const u = await this.findRouteByWidgetId(s);
            if (u) {
              const e = await this.getMembersAreaSectionURL(
                {
                  suffix: u.route.path,
                  memberId: i,
                  memberSlug: o,
                  tpaInnerRoute: a,
                },
                t
              );
              return this.prependBaseUrl(e);
            }
            const { url: l } = await this.site.getSectionUrl({
              appDefinitionId: r,
              sectionId: n,
            });
            if (!l)
              throw (
                (null == t || t(Ce.SectionUrlNotFound),
                new Error(Ce.SectionUrlNotFound))
              );
            return l;
          }
          async getMemberPagePrefix(e, t, r) {
            return { prefix: await this.getMembersAreaPagePrefix(r) };
          }
          setNotificationCount(e) {
            return (
              At.getMembersLoginWidgets().forEach((t) => {
                var r;
                null != (r = t.navBarItems) &&
                  r.length &&
                  (t.navBarItems = [{ ...t.navBarItems[0], displayCount: e }]);
              }),
              Promise.resolve()
            );
          }
          getIsMembersAreaSeoEnabled() {
            return Promise.resolve(!0);
          }
          async isAppSectionInstalled(e) {
            let { appDefinitionId: t, sectionId: r, widgetId: n } = e;
            return !(
              !(await this.findRouteByWidgetId(n)) &&
              !(await this.findPage({ appDefinitionId: t, sectionId: r }))
            );
          }
          async getPagePath(e) {
            const t = await this.findPage(e);
            return null == t ? void 0 : t.url;
          }
          async findPage(e) {
            let { appDefinitionId: t, sectionId: r } = e;
            const { pages: n } = await this.getSiteStructure();
            return n.find(
              (e) => e.applicationId === t && e.tpaPageId === r && !e.prefix
            );
          }
          async prependBaseUrl(e) {
            let t = this.location.baseUrl;
            return "/" === t.slice(-1) && (t = t.slice(0, -1)), `${t}${e}`;
          }
          async getNavigableHomePage(e) {
            const t = (await this.getRoutes()).filter((e) => !e.private);
            if (!t.length) return;
            const r = t.find((e) => e.home),
              n = await this.getMembersAreaPagePrefix(e);
            if (r) return { prefix: n, suffix: r.path, visibleForRoles: r.vfr };
            {
              const e = t[0];
              return { prefix: n, suffix: e.path, visibleForRoles: e.vfr };
            }
          }
          getSiteStructure() {
            return this.site.getSiteStructure({ includePageId: !0 });
          }
          async getMembersAreaPagePrefix(e) {
            const t = await this.findPage({
              appDefinitionId: _e,
              sectionId: "member_page",
            });
            if (null == t || !t.url)
              throw (
                (null == e || e(Ce.MissingMembersAreaPage),
                new Error(Ce.MissingMembersAreaPage))
              );
            return t.url;
          }
          async getMemberSettingsPagePrefix(e) {
            const t = await this.findPage({
              appDefinitionId: _e,
              sectionId: "member_settings_page",
            });
            if (null == t || !t.url)
              throw (
                (null == e || e(Ce.MissingMembersAreaSettingsPage),
                new Error(Ce.MissingMembersAreaSettingsPage))
              );
            return t.url;
          }
          async getMembersAreaSectionURL(e, t) {
            let { suffix: r, memberId: n, memberSlug: i, tpaInnerRoute: o } = e;
            const s = n ? `/${i || n}/${r}` : `/${r}`,
              a = `${await this.getMembersAreaPagePrefix(t)}${s}`;
            if (!o) return a;
            return `${a}${
              "/" !== (null == o ? void 0 : o.charAt(0)) ? `/${o}` : o
            }`;
          }
          async getMemberSettingsSectionURL(e, t) {
            return `${await this.getMemberSettingsPagePrefix(t)}/${e}`;
          }
          async findRouteByWidgetId(e) {
            const t = (await this.getRoutes()).find((t) => t.widgetId === e);
            if (t) return { route: t, type: Ne.Profile };
            const r = (await this.getSettingsRoutes()).find(
              (t) => t.widgetId === e
            );
            return r ? { route: r, type: Ne.Settings } : null;
          }
          async navigateToMembersAreaSection(e, t) {
            var r, n;
            let { suffix: i, memberId: o, tpaInnerRoute: s, widgetId: a } = e;
            const u = await this.getMembersAreaSectionURL(
              { suffix: i, memberId: o, tpaInnerRoute: s },
              t
            );
            var l, c;
            return a === la.FollowingFollowers
              ? (null == (l = (c = this.location).to) ||
                  l.call(c, `${this.location.baseUrl}${u}`),
                Promise.resolve())
              : (null == (r = (n = this.location).to) || r.call(n, u),
                Promise.resolve());
          }
          async navigateToMemberSettingsSection(e, t) {
            var r, n;
            const i = await this.getMemberSettingsSectionURL(e, t);
            return (
              null == (r = (n = this.location).to) || r.call(n, i),
              Promise.resolve()
            );
          }
          async navigateByRoute(e, t) {
            let {
              routeData: r,
              memberId: n,
              widgetId: i,
              tpaInnerRoute: o,
            } = e;
            switch (r.type) {
              case Ne.Profile:
                return this.navigateToMembersAreaSection(
                  {
                    suffix: r.route.path,
                    memberId: n,
                    tpaInnerRoute: o,
                    widgetId: i,
                  },
                  t
                );
              case Ne.Settings:
                return this.navigateToMemberSettingsSection(r.route.path, t);
            }
          }
          async navigateByPagePath(e, t) {
            var r, n;
            let { appDefinitionId: i, sectionId: o } = e;
            const s = await this.getPagePath({
              appDefinitionId: i,
              sectionId: o,
            });
            if (!s)
              throw (
                (null == t || t(Ce.CannotFindPageToNavigateTo),
                new Error(Ce.CannotFindPageToNavigateTo))
              );
            return (
              null == (r = (n = this.location).to) || r.call(n, s),
              Promise.resolve()
            );
          }
        }
        const va = async () => {
            const e = At.getWixCodeAPI();
            return await e.site.getPublicAPI(_e);
          },
          ga = () => {
            const e = At.getSettingsRoutes(),
              t = At.getRoutes(),
              r = At.getWixCodeAPI();
            if (!r) throw new Error(Ce.NotInitializedWixCodeApi);
            return new ha(t, e, r.location, r.site);
          };
        var ma = (function (e) {
          return (e.V1 = "v1"), (e.V2 = "v2"), (e.V3 = "v3"), e;
        })(ma || {});
        const ba = {
            [ma.V1]: () => ({
              hasSocialPages: (e, t) =>
                at("publicApi.hasSocialPages", () => zt.hasSocialPages(e, t))(),
              getViewedUser: (e, t) =>
                at("publicApi.getViewedUser", () => zt.getViewedUser(e, t))(),
              navigateToSection: (e, t) =>
                at("publicApi.navigateToSection", () =>
                  zt.navigateToSection(e, t)
                )(),
              navigateToMember: (e, t) =>
                at("publicApi.navigateToMember", () =>
                  zt.navigateToMember(e, t)
                )(),
              getNavigatableRoles: (e) =>
                at("publicApi.getNavigatableRoles", () =>
                  zt.getNavigatableRoles(e)
                )(),
              getSectionUrl: (e, t) =>
                at("publicApi.getSectionUrl", () => zt.getSectionUrl(e, t))(),
              getMemberPagePrefix: (e, t, r) =>
                at("publicApi.getMemberPagePrefix ", () =>
                  zt.getMemberPagePrefix(e, t, r)
                )(),
              setNotificationCount: (e) =>
                at("publicApi.setNotificationCount", () =>
                  zt.setNotificationCount({
                    config: Ht,
                    userService: Xt,
                    displayCount: e,
                  })
                )(),
              enterPublicProfilePreviewMode: () =>
                at("publicApi.enterPublicProfilePreviewMode", () =>
                  zt.enterPublicProfilePreviewMode({
                    userService: Xt,
                    config: Ht,
                  })
                )(),
              leavePublicProfilePreviewMode: () =>
                at("publicApi.leavePublicProfilePreviewMode", () =>
                  zt.leavePublicProfilePreviewMode({
                    userService: Xt,
                    config: Ht,
                  })
                )(),
              openBlockedMemberEmptyState: async () => {
                throw new Error(
                  "openBlockedMemberEmptyState is only supported in members area v2"
                );
              },
              clearMenus: () =>
                at("publicApi.clearMenus", () =>
                  zt.clearMenus({ config: Ht })
                )(),
              getRoutes: () => {
                throw new Error(
                  "getRoutes is only supported in members area v2"
                );
              },
              getSettingsRoutes: () => {
                throw new Error(
                  "getRoutes is only supported in members area v3"
                );
              },
              getIsMembersAreaSeoEnabled: () =>
                at("publicApi.getIsMembersAreaSeoEnabled", () =>
                  zt.getIsMembersAreaSeoEnabled({ config: qt })
                )(),
              isAppSectionInstalled: (e) =>
                at("publicApi.isAppSectionInstalled", () =>
                  zt.isAppSectionInstalled(e)
                )(),
            }),
            [ma.V2]: () => ({
              hasSocialPages: (e, t) =>
                at("publicApi.hasSocialPages", () =>
                  pa().hasSocialPages(e, t)
                )(),
              getViewedUser: (e, t) =>
                at("publicApi.getViewedUser", async () =>
                  (await fa()).getViewedUser(e, t)
                )(),
              navigateToSection: (e, t) =>
                at("publicApi.navigateToSection", () =>
                  pa().navigateToSection(e, t)
                )(),
              navigateToMember: (e, t) =>
                at("publicApi.navigateToMember", () =>
                  pa().navigateToMember(e, t)
                )(),
              getNavigatableRoles: (e) =>
                at("publicApi.getNavigatableRoles", () =>
                  pa().getNavigatableRoles(e)
                )(),
              getSectionUrl: (e, t) =>
                at("publicApi.getSectionUrl", () => pa().getSectionUrl(e, t))(),
              getMemberPagePrefix: (e, t, r) =>
                at("publicApi.getMemberPagePrefix ", () =>
                  pa().getMemberPagePrefix(e, t, r)
                )(),
              setNotificationCount: (e) =>
                at("publicApi.setNotificationCount", () =>
                  pa().setNotificationCount(e)
                )(),
              enterPublicProfilePreviewMode: () =>
                at("publicApi.enterPublicProfilePreviewMode", async () =>
                  (await fa()).enterPublicProfilePreviewMode()
                )(),
              leavePublicProfilePreviewMode: () =>
                at("publicApi.leavePublicProfilePreviewMode", async () =>
                  (await fa()).leavePublicProfilePreviewMode()
                )(),
              openBlockedMemberEmptyState: () =>
                at("publicApi.openBlockedMemberEmptyState", async () =>
                  (await fa()).openBlockedMemberEmptyState()
                )(),
              clearMenus: () =>
                at("publicApi.clearMenus", async () =>
                  (await fa()).clearMenus()
                )(),
              getRoutes: (e) =>
                at("publicApi.getRoutes", () => pa().getRoutes(e))(),
              getSettingsRoutes: (e) =>
                at("publicApi.getSettingsRoutes", () =>
                  pa().getSettingsRoutes(e)
                )(),
              getIsMembersAreaSeoEnabled: () =>
                at("publicApi.getIsMembersAreaSeoEnabled", () =>
                  pa().getIsMembersAreaSeoEnabled()
                )(),
              isAppSectionInstalled: (e) =>
                at("publicApi.isAppSectionInstalled", () =>
                  pa().isAppSectionInstalled(e)
                )(),
            }),
            [ma.V3]: () => ({
              hasSocialPages: (e, t) =>
                at("v3.publicApi.hasSocialPages", () =>
                  ga().hasSocialPages(e, t)
                )(),
              getViewedUser: (e, t) =>
                at("v3.publicApi.getViewedUser", async () =>
                  (await va()).getViewedUser(e, t)
                )(),
              navigateToSection: (e, t) =>
                at("v3.publicApi.navigateToSection", () =>
                  ga().navigateToSection(e, t)
                )(),
              navigateToMember: (e, t) =>
                at("v3.publicApi.navigateToMember", () =>
                  ga().navigateToMember(e, t)
                )(),
              getNavigatableRoles: (e) =>
                at("v3.publicApi.getNavigatableRoles", () =>
                  ga().getNavigatableRoles(e)
                )(),
              getSectionUrl: (e, t) =>
                at("v3.publicApi.getSectionUrl", () =>
                  ga().getSectionUrl(e, t)
                )(),
              getMemberPagePrefix: (e, t, r) =>
                at("v3.publicApi.getMemberPagePrefix ", () =>
                  ga().getMemberPagePrefix(e, t, r)
                )(),
              setNotificationCount: (e) =>
                at("v3.publicApi.setNotificationCount", () =>
                  ga().setNotificationCount(e)
                )(),
              enterPublicProfilePreviewMode: () =>
                at("v3.publicApi.enterPublicProfilePreviewMode", async () =>
                  (await va()).enterPublicProfilePreviewMode()
                )(),
              leavePublicProfilePreviewMode: () =>
                at("v3.publicApi.leavePublicProfilePreviewMode", async () =>
                  (await va()).leavePublicProfilePreviewMode()
                )(),
              openBlockedMemberEmptyState: () =>
                at("v3.publicApi.openBlockedMemberEmptyState", async () =>
                  (await va()).openBlockedMemberEmptyState()
                )(),
              clearMenus: () =>
                at("v3.publicApi.clearMenus", async () =>
                  (await va()).clearMenus()
                )(),
              getRoutes: (e) =>
                at("v3.publicApi.getRoutes", () => ga().getRoutes(e))(),
              getSettingsRoutes: (e) =>
                at("v3.publicApi.getSettingsRoutes", () =>
                  ga().getSettingsRoutes(e)
                )(),
              getIsMembersAreaSeoEnabled: () =>
                at("v3.publicApi.getIsMembersAreaSeoEnabled", () =>
                  ga().getIsMembersAreaSeoEnabled()
                )(),
              isAppSectionInstalled: (e) =>
                at("v3.publicApi.isAppSectionInstalled", () =>
                  ga().isAppSectionInstalled(e)
                )(),
            }),
          },
          ya = async () => {
            const e = await (async () => {
              const e = At.getWixCodeAPI(),
                [t, r] = await Promise.all([fr(e), dr(e)]);
              return t ? ma.V3 : r ? ma.V2 : ma.V1;
            })();
            return (0, ba[e])();
          },
          _a = async (e, t, r, n, i) => {
            var o;
            const s = null == (o = e.publicData) ? void 0 : o.APP,
              a = (null == s ? void 0 : s.routes) ?? [],
              u = (null == s ? void 0 : s.settingsRoutes) ?? [];
            ((e, t) => {
              const r = Math.random();
              (st = 0.1 >= r),
                (it = t.monitoring.createMonitor(
                  "https://fe0974951f45411fbe57fbbd7c30bbf2@sentry.wixpress.com/28"
                )),
                it && it.setUserContext({ msid: t.bi.metaSiteId }),
                (ot = t.fedOpsLoggerFactory.getLoggerForWidget({
                  appName: "santa-members-viewer-app",
                  appId: e.appDefinitionId,
                }));
            })(e, n),
              At.setFlowAPI(i),
              At.setWixCodeAPI(r),
              At.setRoutes(a),
              At.setSettingsRoutes(u);
            const { httpClient: l } = i,
              c = sa(e, r, i),
              d = at("initAppForPage", () => Qt(e, t, r, l, i, n))();
            return { initApplication: async () => (await d, c.getAppData()) };
          },
          wa = () => ya();
        var Pa = {
          disabled: { on: "disable", off: "enable" },
          hidden: { on: "hide", off: "show" },
          collapsed: { on: "collapse", off: "expand" },
          deleted: { on: "delete", off: "restore" },
        };
        var Sa,
          Ia,
          Ca = function (e, t, r) {
            return (
              void 0 === r && (r = []),
              function (n, i) {
                if (!i) throw new Error("No selector found " + n);
                var o =
                    r.length > 0
                      ? (function (e, t, r) {
                          if (!e || "object" != typeof e) return r;
                          for (var n = e, i = 0, o = t; i < o.length; i++) {
                            var s = o[i];
                            if (!n || "object" != typeof n) return r;
                            n = n[s];
                          }
                          return void 0 !== n ? n : r;
                        })(e(n), r)
                      : e(n),
                  s = [],
                  a = "data" in i;
                a &&
                  (function (e, t, r) {
                    if (void 0 !== t) {
                      var n = {};
                      e.onItemReady(
                        r.action(function (e, i, o) {
                          var s = Ca(e, r),
                            a = t(i, s, o);
                          if (a) {
                            var u = Aa(e, r)(a);
                            n[i._id] = u;
                          }
                        })
                      ),
                        e.onItemRemoved(
                          r.action(function (e) {
                            n[e._id]();
                          })
                        );
                    }
                  })(o, i.item, t);
                var u = (function (e) {
                  return "currentState" in e;
                })(i);
                if (u && i.currentState) {
                  var l = t.reaction(
                    i.currentState,
                    function (e) {
                      o.changeState(e);
                    },
                    { fireImmediately: !0 }
                  );
                  s.push(l);
                }
                for (
                  var c = function (i, l) {
                      if (void 0 === l) return "continue";
                      if (a && "item" === i) return "continue";
                      if (u && "currentState" === i) return "continue";
                      if (i.startsWith("on"))
                        return o[i](t.action(l)), "continue";
                      var c = $(r, [i]);
                      if (
                        (function (e) {
                          return "object" == typeof e;
                        })(l)
                      ) {
                        var d = Ca(e, t, c)(n, l);
                        return s.push(d), "continue";
                      }
                      if (i) {
                        var f = t.reaction(
                          l,
                          function (t) {
                            if (
                              ((s = o),
                              ((a = i) in Pa) &&
                                (Pa[a].on in s) &&
                                (Pa[a].off in s))
                            ) {
                              var r = (function (e) {
                                return Pa[e];
                              })(i)[t ? "on" : "off"];
                              o[r] && o[r]();
                            } else
                              !(function (e, t, r) {
                                if (!e || "object" != typeof e) return e;
                                var n = $(t),
                                  i = n.pop();
                                if (i) {
                                  for (
                                    var o = e, s = 0, a = n;
                                    s < a.length;
                                    s++
                                  ) {
                                    var u = a[s];
                                    (o[u] && "object" == typeof o[u]) ||
                                      (o[u] = {}),
                                      (o = o[u]);
                                  }
                                  o[i] = r;
                                }
                              })(e(n), c, t);
                            var s, a;
                          },
                          { fireImmediately: !0 }
                        );
                        s.push(f);
                      }
                    },
                    d = 0,
                    f = Object.entries(i);
                  d < f.length;
                  d++
                ) {
                  var p = f[d];
                  c(p[0], p[1]);
                }
                return function () {
                  return s.forEach(function (e) {
                    return e();
                  });
                };
              }
            );
          },
          Aa = function (e, t) {
            return function (r) {
              for (
                var n = Ca(e, t), i = [], o = 0, s = Object.entries(r);
                o < s.length;
                o++
              ) {
                var a = s[o],
                  u = a[0],
                  l = a[1];
                if (l) {
                  var c = n(u, l);
                  i.push(c);
                }
              }
              return function () {
                return i.forEach(function (e) {
                  return e();
                });
              };
            };
          },
          xa = function (e) {
            return function (t) {
              if (!t) throw new Error("Trying to initialize state without $w.");
              return { $bindAll: Aa(t, e), $bind: Ca(t, e) };
            };
          },
          Ma = function (e, t) {
            var r, n;
            return null !==
              (n =
                null === (r = t.observable) || void 0 === r
                  ? void 0
                  : r.call(t, e)) && void 0 !== n
              ? n
              : e;
          },
          Ra = function (e) {
            return function (t) {
              if (!t)
                throw new Error(
                  "Trying to initialize state without default state."
                );
              return { state: Ma(t, e) };
            };
          };
        const Oa = (e) =>
            function (t) {
              void 0 === t && (t = {});
              const r = "function" == typeof e.factory ? e.factory(t) : e;
              return (function (e, t) {
                return (
                  Object.defineProperty(t, "updateDefaults", {
                    value: function (t) {
                      return e.updateDefaults(t);
                    },
                  }),
                  t
                );
              })(r, r.logger());
            },
          Ea = Oa;
        var Na = e,
          Da = t,
          Ta = i,
          Ua = {
            initState: (Sa = {
              initState: Ra(
                (Ia = {
                  configure: function () {
                    so({ isolateGlobalState: !0 });
                  },
                  observable: Gn,
                  action: zi,
                  reaction: function (e, t, r) {
                    var n, i, o, s;
                    void 0 === r && (r = Pr);
                    var a,
                      u,
                      l,
                      c,
                      d = null != (n = r.name) ? n : "Reaction",
                      f = zi(
                        d,
                        r.onError
                          ? ((a = r.onError),
                            (u = t),
                            function () {
                              try {
                                return u.apply(this, arguments);
                              } catch (e) {
                                a.call(this, e);
                              }
                            })
                          : t
                      ),
                      p = !r.scheduler && !r.delay,
                      h = eo(r),
                      v = !0,
                      g = !1,
                      m = r.compareStructural
                        ? sn.structural
                        : r.equals || sn.default,
                      b = new Ui(
                        d,
                        function () {
                          v || p ? y() : g || ((g = !0), h(y));
                        },
                        r.onError,
                        r.requiresObservable
                      );
                    function y() {
                      if (((g = !1), !b.isDisposed_)) {
                        var t = !1;
                        b.track(function () {
                          var r = ni(!1, function () {
                            return e(b);
                          });
                          (t = v || !m(l, r)), (c = l), (l = r);
                        }),
                          ((v && r.fireImmediately) || (!v && t)) && f(l, c, b),
                          (v = !1);
                      }
                    }
                    return (
                      (null != (i = r) &&
                        null != (o = i.signal) &&
                        o.aborted) ||
                        b.schedule_(),
                      b.getDisposer_(null == (s = r) ? void 0 : s.signal)
                    );
                  },
                })
              ),
              initBind: xa(Ia),
            }).initState,
            initBind: Sa.initBind,
            observable: Gn,
          };
        const ka = !1;
        var La = {
            DSN: "https://1447e27dc6864379bd4824d259480b74@sentry-next.wixpress.com/7858",
            id: "undefined",
            projectName: "santa-members-viewer-app",
            teamName: "undefined",
            errorMonitor: !0,
          },
          ja = { enabled: !1, icuEnabled: !1 },
          Ba = null,
          Fa = null;
        const Va = o.exports,
          $a = (function (e) {
            var t = e.initAppForPage,
              r = e.sentryConfig,
              n = void 0 === r ? null : r,
              i = e.experimentsConfig,
              o = void 0 === i ? null : i,
              s = e.inEditor,
              a = void 0 !== s && s,
              u = e.projectName,
              l = e.defaultTranslations,
              c = e.translationsConfig,
              d = e.biConfig,
              f = e.biLogger,
              p = e.appName,
              h = void 0 === p ? null : p,
              v = e.optionalDeps,
              g = e.localeDistPath,
              m = e.prepopulatedData,
              b = e.shouldUseEssentials;
            return function (e, r, i, s) {
              return L(void 0, void 0, void 0, function () {
                var p, y, _, w;
                return j(this, function (P) {
                  switch (P.label) {
                    case 0:
                      return (
                        (p = new E({
                          experimentsConfig: o,
                          projectName: u,
                          sentryConfig: n,
                          platformBI: s.bi,
                          biLoggerFactory: s.biLoggerFactory,
                          essentials: s.essentials,
                          monitoring: s.monitoring,
                          wixAPI: i,
                          appData: e,
                          translationsConfig: c,
                          defaultTranslations: l,
                          inEditor: a,
                          biConfig: d,
                          biLogger: f,
                          appName: h,
                          optionalDeps: v,
                          localeDistPath: g,
                          prepopulatedData: m,
                          shouldUseEssentials: b,
                        })),
                        D(p),
                        (y = p.init()),
                        T(y),
                        [4, y]
                      );
                    case 1:
                      if ((P.sent(), !t)) return [3, 5];
                      P.label = 2;
                    case 2:
                      return P.trys.push([2, 4, , 5]), [4, t(e, r, i, s, p)];
                    case 3:
                      return (_ = P.sent()), k(_), [3, 5];
                    case 4:
                      throw (
                        ((w = P.sent()),
                        a ||
                          (console.error(
                            '\u2757\ufe0fError \u{1f449} "'.concat(
                              h,
                              '" app \u{1f449} `viewer.app.ts` module \u2757\n'
                            ),
                            w
                          ),
                          p.reportError(w)),
                        w)
                      );
                    case 5:
                      return [2, U()];
                  }
                });
              });
            };
          })({
            initAppForPage: o.initAppForPage,
            sentryConfig: La,
            experimentsConfig: { scopes: ["members-area"], centralized: !0 },
            inEditor: !1,
            biLogger: Ea,
            multilingualDisabled: ka,
            projectName: "santa-members-viewer-app",
            biConfig: null,
            appName: "Members Area Viewer Script",
            appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
            fedopsConfig: Fa,
            translationsConfig: ja,
            defaultTranslations: Ba,
            shouldUseEssentials: !0,
            optionalDeps: {
              initI18n: null,
              createHttpClient: null,
              createExperiments: null,
            },
            localeDistPath: "assets/locales",
          }),
          Wa =
            ((Ka = {
              initI18n: null,
              blocksControllerService: null,
              createHttpClient: null,
              createExperiments: null,
              velocycleMobx: Ua,
            }),
            (Ga = [
              {
                method: pr,
                wrap: ge,
                exports: Na,
                widgetType: "PLATFORM_WIDGET",
                translationsConfig: ja,
                multilingualDisabled: ka,
                experimentsConfig: {
                  scopes: ["members-area"],
                  centralized: !0,
                },
                fedopsConfig: Fa,
                sentryConfig: La,
                persistentAcrossPages: !1,
                biLogger: Ea,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                biConfig: null,
                controllerFileName:
                  "/home/builduser/work/fa85d65a9160597f/packages/members-viewer-app/src/components/members/controller.ts",
                appName: "Members Area Viewer Script",
                appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
                projectName: "santa-members-viewer-app",
                componentName: "members",
                localeDistPath: "assets/locales",
                defaultTranslations: Ba,
                id: "members",
              },
              {
                method: ia,
                wrap: ge,
                exports: Da,
                widgetType: "PLATFORM_WIDGET",
                translationsConfig: ja,
                multilingualDisabled: ka,
                experimentsConfig: {
                  scopes: ["members-area"],
                  centralized: !0,
                },
                fedopsConfig: Fa,
                sentryConfig: La,
                persistentAcrossPages: !1,
                biLogger: Ea,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                biConfig: null,
                controllerFileName:
                  "/home/builduser/work/fa85d65a9160597f/packages/members-viewer-app/src/components/members-login-bar/controller.ts",
                appName: "Members Area Viewer Script",
                appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
                projectName: "santa-members-viewer-app",
                componentName: "members-login-bar",
                localeDistPath: "assets/locales",
                defaultTranslations: Ba,
                id: "members-login-bar",
              },
              {
                method: oa,
                wrap: ge,
                exports: Ta,
                widgetType: "PLATFORM_WIDGET",
                translationsConfig: ja,
                multilingualDisabled: ka,
                experimentsConfig: {
                  scopes: ["members-area"],
                  centralized: !0,
                },
                fedopsConfig: Fa,
                sentryConfig: La,
                persistentAcrossPages: !1,
                biLogger: Ea,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                biConfig: null,
                controllerFileName:
                  "/home/builduser/work/fa85d65a9160597f/packages/members-viewer-app/src/components/members-menu/controller.ts",
                appName: "Members Area Viewer Script",
                appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
                projectName: "santa-members-viewer-app",
                componentName: "members-menu",
                localeDistPath: "assets/locales",
                defaultTranslations: Ba,
                id: "members-menu",
              },
            ]),
            void 0 === (Ja = !0) && (Ja = !1),
            function (e, t) {
              var r = [];
              e.forEach(function (e) {
                var n,
                  i = e.type,
                  o =
                    ((n = i),
                    Ga.find(function (e) {
                      return e.id === n;
                    }));
                if (
                  (o ||
                    ((function (e) {
                      var t, r, n;
                      return (
                        (null === (t = e.appParams) || void 0 === t
                          ? void 0
                          : t.blocksData) ||
                        (null ===
                          (n =
                            null === (r = e.appParams) || void 0 === r
                              ? void 0
                              : r.appData) || void 0 === n
                          ? void 0
                          : n.blocksPreviewData)
                      );
                    })(e) &&
                      (o = { widgetType: s, method: null, exports: {} })),
                  (null == o ? void 0 : o.widgetType) !== s && !Ja)
                ) {
                  var a = null == t ? void 0 : t[i];
                  if (!a) return;
                  if (!o) {
                    var u = (function (e) {
                      return B(e) ? null : e.descriptor;
                    })(a);
                    if (!u)
                      throw new Error(
                        "Can't resolve controller descriptor for \"".concat(
                          i,
                          '" controller.'
                        )
                      );
                    o = u;
                  }
                  (o.method = (function (e) {
                    if (B(e)) return e;
                    var t =
                      e[
                        Object.keys(e).find(function (e) {
                          return e.toLowerCase().includes("controller");
                        }) || "default"
                      ];
                    if ("function" != typeof t)
                      throw new Error(
                        "Seems like a bundle you have registered as Controller URL in Dev Center doesn't contain exported controller.\nPlease, verify you are using relevant controller bundle generated by editor flow."
                      );
                    return t;
                  })(a)),
                    (o.wrap =
                      (function (e) {
                        return B(e) ? null : e.wrap;
                      })(a) || void 0),
                    (o.exports = a);
                }
                o && r.push({ controllerDescriptor: o, controllerConfig: e });
              });
              var n = r.map(function (e) {
                var t = e.controllerDescriptor,
                  r = e.controllerConfig;
                if (t.wrap) return t.wrap(Ka, t, r, I, C, U);
              });
              return n;
            });
        var Ka, Ga, Ja;
        const Ha = Wa;
      })(),
      n
    );
  })()
);
//# sourceMappingURL=viewerScript.bundle.min.js.map
//# sourceURL=https://static.parastorage.com/services/santa-members-viewer-app/1.2296.0/viewerScript.bundle.min.js
